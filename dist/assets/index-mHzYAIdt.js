function Kd(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const h=Object.getOwnPropertyDescriptor(i,s);h&&Object.defineProperty(e,s,h.get?h:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const h of s)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function r(s){const h={};return s.integrity&&(h.integrity=s.integrity),s.referrerPolicy&&(h.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?h.credentials="include":s.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(s){if(s.ep)return;s.ep=!0;const h=r(s);fetch(s.href,h)}})();function Wc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uc={exports:{}},ln={},$c={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ki=Symbol.for("react.element"),qd=Symbol.for("react.portal"),Gd=Symbol.for("react.fragment"),Xd=Symbol.for("react.strict_mode"),Qd=Symbol.for("react.profiler"),Yd=Symbol.for("react.provider"),Jd=Symbol.for("react.context"),Zd=Symbol.for("react.forward_ref"),ef=Symbol.for("react.suspense"),tf=Symbol.for("react.memo"),rf=Symbol.for("react.lazy"),fa=Symbol.iterator;function sf(e){return e===null||typeof e!="object"?null:(e=fa&&e[fa]||e["@@iterator"],typeof e=="function"?e:null)}var Vc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kc=Object.assign,qc={};function Kr(e,t,r){this.props=e,this.context=t,this.refs=qc,this.updater=r||Vc}Kr.prototype.isReactComponent={};Kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gc(){}Gc.prototype=Kr.prototype;function _l(e,t,r){this.props=e,this.context=t,this.refs=qc,this.updater=r||Vc}var gl=_l.prototype=new Gc;gl.constructor=_l;Kc(gl,Kr.prototype);gl.isPureReactComponent=!0;var pa=Array.isArray,Xc=Object.prototype.hasOwnProperty,ml={current:null},Qc={key:!0,ref:!0,__self:!0,__source:!0};function Yc(e,t,r){var i,s={},h=null,p=null;if(t!=null)for(i in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(h=""+t.key),t)Xc.call(t,i)&&!Qc.hasOwnProperty(i)&&(s[i]=t[i]);var n=arguments.length-2;if(n===1)s.children=r;else if(1<n){for(var u=Array(n),f=0;f<n;f++)u[f]=arguments[f+2];s.children=u}if(e&&e.defaultProps)for(i in n=e.defaultProps,n)s[i]===void 0&&(s[i]=n[i]);return{$$typeof:Ki,type:e,key:h,ref:p,props:s,_owner:ml.current}}function nf(e,t){return{$$typeof:Ki,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ki}function of(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _a=/\/+/g;function Pn(e,t){return typeof e=="object"&&e!==null&&e.key!=null?of(""+e.key):t.toString(36)}function Ss(e,t,r,i,s){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(h){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case Ki:case qd:p=!0}}if(p)return p=e,s=s(p),e=i===""?"."+Pn(p,0):i,pa(s)?(r="",e!=null&&(r=e.replace(_a,"$&/")+"/"),Ss(s,t,r,"",function(f){return f})):s!=null&&(vl(s)&&(s=nf(s,r+(!s.key||p&&p.key===s.key?"":(""+s.key).replace(_a,"$&/")+"/")+e)),t.push(s)),1;if(p=0,i=i===""?".":i+":",pa(e))for(var n=0;n<e.length;n++){h=e[n];var u=i+Pn(h,n);p+=Ss(h,t,r,u,s)}else if(u=sf(e),typeof u=="function")for(e=u.call(e),n=0;!(h=e.next()).done;)h=h.value,u=i+Pn(h,n++),p+=Ss(h,t,r,u,s);else if(h==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function Zi(e,t,r){if(e==null)return e;var i=[],s=0;return Ss(e,i,"","",function(h){return t.call(r,h,s++)}),i}function lf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},ws={transition:null},af={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ws,ReactCurrentOwner:ml};function Jc(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Zi,forEach:function(e,t,r){Zi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zi(e,function(){t++}),t},toArray:function(e){return Zi(e,function(t){return t})||[]},only:function(e){if(!vl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Kr;re.Fragment=Gd;re.Profiler=Qd;re.PureComponent=_l;re.StrictMode=Xd;re.Suspense=ef;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=af;re.act=Jc;re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Kc({},e.props),s=e.key,h=e.ref,p=e._owner;if(t!=null){if(t.ref!==void 0&&(h=t.ref,p=ml.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var n=e.type.defaultProps;for(u in t)Xc.call(t,u)&&!Qc.hasOwnProperty(u)&&(i[u]=t[u]===void 0&&n!==void 0?n[u]:t[u])}var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){n=Array(u);for(var f=0;f<u;f++)n[f]=arguments[f+2];i.children=n}return{$$typeof:Ki,type:e.type,key:s,ref:h,props:i,_owner:p}};re.createContext=function(e){return e={$$typeof:Jd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yd,_context:e},e.Consumer=e};re.createElement=Yc;re.createFactory=function(e){var t=Yc.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:Zd,render:e}};re.isValidElement=vl;re.lazy=function(e){return{$$typeof:rf,_payload:{_status:-1,_result:e},_init:lf}};re.memo=function(e,t){return{$$typeof:tf,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=ws.transition;ws.transition={};try{e()}finally{ws.transition=t}};re.unstable_act=Jc;re.useCallback=function(e,t){return Be.current.useCallback(e,t)};re.useContext=function(e){return Be.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};re.useEffect=function(e,t){return Be.current.useEffect(e,t)};re.useId=function(){return Be.current.useId()};re.useImperativeHandle=function(e,t,r){return Be.current.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return Be.current.useMemo(e,t)};re.useReducer=function(e,t,r){return Be.current.useReducer(e,t,r)};re.useRef=function(e){return Be.current.useRef(e)};re.useState=function(e){return Be.current.useState(e)};re.useSyncExternalStore=function(e,t,r){return Be.current.useSyncExternalStore(e,t,r)};re.useTransition=function(){return Be.current.useTransition()};re.version="18.3.1";$c.exports=re;var W=$c.exports;const lt=Wc(W),cf=Kd({__proto__:null,default:lt},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=W,hf=Symbol.for("react.element"),df=Symbol.for("react.fragment"),ff=Object.prototype.hasOwnProperty,pf=uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_f={key:!0,ref:!0,__self:!0,__source:!0};function Zc(e,t,r){var i,s={},h=null,p=null;r!==void 0&&(h=""+r),t.key!==void 0&&(h=""+t.key),t.ref!==void 0&&(p=t.ref);for(i in t)ff.call(t,i)&&!_f.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:hf,type:e,key:h,ref:p,props:s,_owner:pf.current}}ln.Fragment=df;ln.jsx=Zc;ln.jsxs=Zc;Uc.exports=ln;var L=Uc.exports,eu={exports:{}},Ge={},tu={exports:{}},ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,T){var M=k.length;k.push(T);e:for(;0<M;){var O=M-1>>>1,H=k[O];if(0<s(H,T))k[O]=T,k[M]=H,M=O;else break e}}function r(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var T=k[0],M=k.pop();if(M!==T){k[0]=M;e:for(var O=0,H=k.length,V=H>>>1;O<V;){var q=2*(O+1)-1,G=k[q],ie=q+1,R=k[ie];if(0>s(G,M))ie<H&&0>s(R,G)?(k[O]=R,k[ie]=M,O=ie):(k[O]=G,k[q]=M,O=q);else if(ie<H&&0>s(R,M))k[O]=R,k[ie]=M,O=ie;else break e}}return T}function s(k,T){var M=k.sortIndex-T.sortIndex;return M!==0?M:k.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var p=Date,n=p.now();e.unstable_now=function(){return p.now()-n}}var u=[],f=[],y=1,d=null,g=3,w=!1,C=!1,v=!1,l=typeof setTimeout=="function"?setTimeout:null,a=typeof clearTimeout=="function"?clearTimeout:null,o=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(k){for(var T=r(f);T!==null;){if(T.callback===null)i(f);else if(T.startTime<=k)i(f),T.sortIndex=T.expirationTime,t(u,T);else break;T=r(f)}}function _(k){if(v=!1,c(k),!C)if(r(u)!==null)C=!0,F(S);else{var T=r(f);T!==null&&z(_,T.startTime-k)}}function S(k,T){C=!1,v&&(v=!1,a(m),m=-1),w=!0;var M=g;try{for(c(T),d=r(u);d!==null&&(!(d.expirationTime>T)||k&&!A());){var O=d.callback;if(typeof O=="function"){d.callback=null,g=d.priorityLevel;var H=O(d.expirationTime<=T);T=e.unstable_now(),typeof H=="function"?d.callback=H:d===r(u)&&i(u),c(T)}else i(u);d=r(u)}if(d!==null)var V=!0;else{var q=r(f);q!==null&&z(_,q.startTime-T),V=!1}return V}finally{d=null,g=M,w=!1}}var x=!1,b=null,m=-1,E=5,D=-1;function A(){return!(e.unstable_now()-D<E)}function P(){if(b!==null){var k=e.unstable_now();D=k;var T=!0;try{T=b(!0,k)}finally{T?B():(x=!1,b=null)}}else x=!1}var B;if(typeof o=="function")B=function(){o(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,I=j.port2;j.port1.onmessage=P,B=function(){I.postMessage(null)}}else B=function(){l(P,0)};function F(k){b=k,x||(x=!0,B())}function z(k,T){m=l(function(){k(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){C||w||(C=!0,F(S))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(k){switch(g){case 1:case 2:case 3:var T=3;break;default:T=g}var M=g;g=T;try{return k()}finally{g=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,T){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var M=g;g=k;try{return T()}finally{g=M}},e.unstable_scheduleCallback=function(k,T,M){var O=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?O+M:O):M=O,k){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=M+H,k={id:y++,callback:T,priorityLevel:k,startTime:M,expirationTime:H,sortIndex:-1},M>O?(k.sortIndex=M,t(f,k),r(u)===null&&k===r(f)&&(v?(a(m),m=-1):v=!0,z(_,M-O))):(k.sortIndex=H,t(u,k),C||w||(C=!0,F(S))),k},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(k){var T=g;return function(){var M=g;g=T;try{return k.apply(this,arguments)}finally{g=M}}}})(ru);tu.exports=ru;var gf=tu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf=W,qe=gf;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iu=new Set,Li={};function pr(e,t){jr(e,t),jr(e+"Capture",t)}function jr(e,t){for(Li[e]=t,e=0;e<t.length;e++)iu.add(t[e])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=Object.prototype.hasOwnProperty,vf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ga={},ma={};function yf(e){return ho.call(ma,e)?!0:ho.call(ga,e)?!1:vf.test(e)?ma[e]=!0:(ga[e]=!0,!1)}function Sf(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wf(e,t,r,i){if(t===null||typeof t>"u"||Sf(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,r,i,s,h,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=p}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var yl=/[\-:]([a-z])/g;function Sl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yl,Sl);Re[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yl,Sl);Re[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yl,Sl);Re[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function wl(e,t,r,i){var s=Re.hasOwnProperty(t)?Re[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wf(t,r,s,i)&&(r=null),i||s===null?yf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,i=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var Rt=mf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),yr=Symbol.for("react.portal"),Sr=Symbol.for("react.fragment"),Cl=Symbol.for("react.strict_mode"),fo=Symbol.for("react.profiler"),su=Symbol.for("react.provider"),nu=Symbol.for("react.context"),xl=Symbol.for("react.forward_ref"),po=Symbol.for("react.suspense"),_o=Symbol.for("react.suspense_list"),bl=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),ou=Symbol.for("react.offscreen"),va=Symbol.iterator;function ti(e){return e===null||typeof e!="object"?null:(e=va&&e[va]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Mn;function ui(e){if(Mn===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Mn=t&&t[1]||""}return`
`+Mn+e}var On=!1;function Bn(e,t){if(!e||On)return"";On=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var i=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){i=f}e.call(t.prototype)}else{try{throw Error()}catch(f){i=f}e()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),h=i.stack.split(`
`),p=s.length-1,n=h.length-1;1<=p&&0<=n&&s[p]!==h[n];)n--;for(;1<=p&&0<=n;p--,n--)if(s[p]!==h[n]){if(p!==1||n!==1)do if(p--,n--,0>n||s[p]!==h[n]){var u=`
`+s[p].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=p&&0<=n);break}}}finally{On=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ui(e):""}function Cf(e){switch(e.tag){case 5:return ui(e.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 2:case 15:return e=Bn(e.type,!1),e;case 11:return e=Bn(e.type.render,!1),e;case 1:return e=Bn(e.type,!0),e;default:return""}}function go(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sr:return"Fragment";case yr:return"Portal";case fo:return"Profiler";case Cl:return"StrictMode";case po:return"Suspense";case _o:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nu:return(e.displayName||"Context")+".Consumer";case su:return(e._context.displayName||"Context")+".Provider";case xl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bl:return t=e.displayName||null,t!==null?t:go(e.type)||"Memo";case Mt:t=e._payload,e=e._init;try{return go(e(t))}catch{}}return null}function xf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return go(t);case 8:return t===Cl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bf(e){var t=lu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,h=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(p){i=""+p,h.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){e._valueTracker||(e._valueTracker=bf(e))}function au(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=lu(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mo(e,t){var r=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function ya(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=Gt(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cu(e,t){t=t.checked,t!=null&&wl(e,"checked",t,!1)}function vo(e,t){cu(e,t);var r=Gt(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yo(e,t.type,r):t.hasOwnProperty("defaultValue")&&yo(e,t.type,Gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sa(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yo(e,t,r){(t!=="number"||Ps(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hi=Array.isArray;function Pr(e,t,r,i){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Gt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function So(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wa(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(K(92));if(hi(r)){if(1<r.length)throw Error(K(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gt(r)}}function uu(e,t){var r=Gt(t.value),i=Gt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Ca(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rs,du=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ri(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kf=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(e){kf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mi[t]=mi[e]})});function fu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mi.hasOwnProperty(e)&&mi[e]?(""+t).trim():t+"px"}function pu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=fu(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,s):e[r]=s}}var Ef=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Co(e,t){if(t){if(Ef[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function xo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=null;function kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ko=null,Mr=null,Or=null;function xa(e){if(e=Xi(e)){if(typeof ko!="function")throw Error(K(280));var t=e.stateNode;t&&(t=dn(t),ko(e.stateNode,e.type,t))}}function _u(e){Mr?Or?Or.push(e):Or=[e]:Mr=e}function gu(){if(Mr){var e=Mr,t=Or;if(Or=Mr=null,xa(e),t)for(e=0;e<t.length;e++)xa(t[e])}}function mu(e,t){return e(t)}function vu(){}var In=!1;function yu(e,t,r){if(In)return e(t,r);In=!0;try{return mu(e,t,r)}finally{In=!1,(Mr!==null||Or!==null)&&(vu(),gu())}}function Di(e,t){var r=e.stateNode;if(r===null)return null;var i=dn(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(K(231,t,typeof r));return r}var Eo=!1;if(bt)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{Eo=!1}function Lf(e,t,r,i,s,h,p,n,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(y){this.onError(y)}}var vi=!1,Ms=null,Os=!1,Lo=null,Rf={onError:function(e){vi=!0,Ms=e}};function Df(e,t,r,i,s,h,p,n,u){vi=!1,Ms=null,Lf.apply(Rf,arguments)}function Tf(e,t,r,i,s,h,p,n,u){if(Df.apply(this,arguments),vi){if(vi){var f=Ms;vi=!1,Ms=null}else throw Error(K(198));Os||(Os=!0,Lo=f)}}function _r(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Su(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ba(e){if(_r(e)!==e)throw Error(K(188))}function Af(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(K(188));return t!==e?null:e}for(var r=e,i=t;;){var s=r.return;if(s===null)break;var h=s.alternate;if(h===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===h.child){for(h=s.child;h;){if(h===r)return ba(s),e;if(h===i)return ba(s),t;h=h.sibling}throw Error(K(188))}if(r.return!==i.return)r=s,i=h;else{for(var p=!1,n=s.child;n;){if(n===r){p=!0,r=s,i=h;break}if(n===i){p=!0,i=s,r=h;break}n=n.sibling}if(!p){for(n=h.child;n;){if(n===r){p=!0,r=h,i=s;break}if(n===i){p=!0,i=h,r=s;break}n=n.sibling}if(!p)throw Error(K(189))}}if(r.alternate!==i)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?e:t}function wu(e){return e=Af(e),e!==null?Cu(e):null}function Cu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cu(e);if(t!==null)return t;e=e.sibling}return null}var xu=qe.unstable_scheduleCallback,ka=qe.unstable_cancelCallback,Pf=qe.unstable_shouldYield,Mf=qe.unstable_requestPaint,me=qe.unstable_now,Of=qe.unstable_getCurrentPriorityLevel,El=qe.unstable_ImmediatePriority,bu=qe.unstable_UserBlockingPriority,Bs=qe.unstable_NormalPriority,Bf=qe.unstable_LowPriority,ku=qe.unstable_IdlePriority,an=null,gt=null;function If(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(an,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:Hf,Nf=Math.log,jf=Math.LN2;function Hf(e){return e>>>=0,e===0?32:31-(Nf(e)/jf|0)|0}var is=64,ss=4194304;function di(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Is(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,h=e.pingedLanes,p=r&268435455;if(p!==0){var n=p&~s;n!==0?i=di(n):(h&=p,h!==0&&(i=di(h)))}else p=r&~s,p!==0?i=di(p):h!==0&&(i=di(h));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,h=t&-t,s>=h||s===16&&(h&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-at(t),s=1<<r,i|=e[r],t&=~s;return i}function Ff(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zf(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,h=e.pendingLanes;0<h;){var p=31-at(h),n=1<<p,u=s[p];u===-1?(!(n&r)||n&i)&&(s[p]=Ff(n,t)):u<=t&&(e.expiredLanes|=n),h&=~n}}function Ro(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Eu(){var e=is;return is<<=1,!(is&4194240)&&(is=64),e}function Nn(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function qi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=r}function Wf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-at(r),h=1<<s;t[s]=0,i[s]=-1,e[s]=-1,r&=~h}}function Ll(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-at(r),s=1<<i;s&t|e[i]&t&&(e[i]|=t),r&=~s}}var oe=0;function Lu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ru,Rl,Du,Tu,Au,Do=!1,ns=[],Ht=null,Ft=null,zt=null,Ti=new Map,Ai=new Map,Bt=[],Uf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ea(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(t.pointerId)}}function ii(e,t,r,i,s,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:h,targetContainers:[s]},t!==null&&(t=Xi(t),t!==null&&Rl(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function $f(e,t,r,i,s){switch(t){case"focusin":return Ht=ii(Ht,e,t,r,i,s),!0;case"dragenter":return Ft=ii(Ft,e,t,r,i,s),!0;case"mouseover":return zt=ii(zt,e,t,r,i,s),!0;case"pointerover":var h=s.pointerId;return Ti.set(h,ii(Ti.get(h)||null,e,t,r,i,s)),!0;case"gotpointercapture":return h=s.pointerId,Ai.set(h,ii(Ai.get(h)||null,e,t,r,i,s)),!0}return!1}function Pu(e){var t=rr(e.target);if(t!==null){var r=_r(t);if(r!==null){if(t=r.tag,t===13){if(t=Su(r),t!==null){e.blockedOn=t,Au(e.priority,function(){Du(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=To(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);bo=i,r.target.dispatchEvent(i),bo=null}else return t=Xi(r),t!==null&&Rl(t),e.blockedOn=r,!1;t.shift()}return!0}function La(e,t,r){Cs(e)&&r.delete(t)}function Vf(){Do=!1,Ht!==null&&Cs(Ht)&&(Ht=null),Ft!==null&&Cs(Ft)&&(Ft=null),zt!==null&&Cs(zt)&&(zt=null),Ti.forEach(La),Ai.forEach(La)}function si(e,t){e.blockedOn===t&&(e.blockedOn=null,Do||(Do=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,Vf)))}function Pi(e){function t(s){return si(s,e)}if(0<ns.length){si(ns[0],e);for(var r=1;r<ns.length;r++){var i=ns[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Ht!==null&&si(Ht,e),Ft!==null&&si(Ft,e),zt!==null&&si(zt,e),Ti.forEach(t),Ai.forEach(t),r=0;r<Bt.length;r++)i=Bt[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Bt.length&&(r=Bt[0],r.blockedOn===null);)Pu(r),r.blockedOn===null&&Bt.shift()}var Br=Rt.ReactCurrentBatchConfig,Ns=!0;function Kf(e,t,r,i){var s=oe,h=Br.transition;Br.transition=null;try{oe=1,Dl(e,t,r,i)}finally{oe=s,Br.transition=h}}function qf(e,t,r,i){var s=oe,h=Br.transition;Br.transition=null;try{oe=4,Dl(e,t,r,i)}finally{oe=s,Br.transition=h}}function Dl(e,t,r,i){if(Ns){var s=To(e,t,r,i);if(s===null)qn(e,t,i,js,r),Ea(e,i);else if($f(s,e,t,r,i))i.stopPropagation();else if(Ea(e,i),t&4&&-1<Uf.indexOf(e)){for(;s!==null;){var h=Xi(s);if(h!==null&&Ru(h),h=To(e,t,r,i),h===null&&qn(e,t,i,js,r),h===s)break;s=h}s!==null&&i.stopPropagation()}else qn(e,t,i,null,r)}}var js=null;function To(e,t,r,i){if(js=null,e=kl(i),e=rr(e),e!==null)if(t=_r(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Su(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return js=e,null}function Mu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Of()){case El:return 1;case bu:return 4;case Bs:case Bf:return 16;case ku:return 536870912;default:return 16}default:return 16}}var Nt=null,Tl=null,xs=null;function Ou(){if(xs)return xs;var e,t=Tl,r=t.length,i,s="value"in Nt?Nt.value:Nt.textContent,h=s.length;for(e=0;e<r&&t[e]===s[e];e++);var p=r-e;for(i=1;i<=p&&t[r-i]===s[h-i];i++);return xs=s.slice(e,1<i?1-i:void 0)}function bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function os(){return!0}function Ra(){return!1}function Xe(e){function t(r,i,s,h,p){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var n in e)e.hasOwnProperty(n)&&(r=e[n],this[n]=r?r(h):h[n]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?os:Ra,this.isPropagationStopped=Ra,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=Xe(qr),Gi=_e({},qr,{view:0,detail:0}),Gf=Xe(Gi),jn,Hn,ni,cn=_e({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(jn=e.screenX-ni.screenX,Hn=e.screenY-ni.screenY):Hn=jn=0,ni=e),jn)},movementY:function(e){return"movementY"in e?e.movementY:Hn}}),Da=Xe(cn),Xf=_e({},cn,{dataTransfer:0}),Qf=Xe(Xf),Yf=_e({},Gi,{relatedTarget:0}),Fn=Xe(Yf),Jf=_e({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zf=Xe(Jf),ep=_e({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tp=Xe(ep),rp=_e({},qr,{data:0}),Ta=Xe(rp),ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function op(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=np[e])?!!t[e]:!1}function Pl(){return op}var lp=_e({},Gi,{key:function(e){if(e.key){var t=ip[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ap=Xe(lp),cp=_e({},cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aa=Xe(cp),up=_e({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),hp=Xe(up),dp=_e({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fp=Xe(dp),pp=_e({},cn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_p=Xe(pp),gp=[9,13,27,32],Ml=bt&&"CompositionEvent"in window,yi=null;bt&&"documentMode"in document&&(yi=document.documentMode);var mp=bt&&"TextEvent"in window&&!yi,Bu=bt&&(!Ml||yi&&8<yi&&11>=yi),Pa=" ",Ma=!1;function Iu(e,t){switch(e){case"keyup":return gp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wr=!1;function vp(e,t){switch(e){case"compositionend":return Nu(t);case"keypress":return t.which!==32?null:(Ma=!0,Pa);case"textInput":return e=t.data,e===Pa&&Ma?null:e;default:return null}}function yp(e,t){if(wr)return e==="compositionend"||!Ml&&Iu(e,t)?(e=Ou(),xs=Tl=Nt=null,wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bu&&t.locale!=="ko"?null:t.data;default:return null}}var Sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sp[e.type]:t==="textarea"}function ju(e,t,r,i){_u(i),t=Hs(t,"onChange"),0<t.length&&(r=new Al("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Si=null,Mi=null;function wp(e){Xu(e,0)}function un(e){var t=br(e);if(au(t))return e}function Cp(e,t){if(e==="change")return t}var Hu=!1;if(bt){var zn;if(bt){var Wn="oninput"in document;if(!Wn){var Ba=document.createElement("div");Ba.setAttribute("oninput","return;"),Wn=typeof Ba.oninput=="function"}zn=Wn}else zn=!1;Hu=zn&&(!document.documentMode||9<document.documentMode)}function Ia(){Si&&(Si.detachEvent("onpropertychange",Fu),Mi=Si=null)}function Fu(e){if(e.propertyName==="value"&&un(Mi)){var t=[];ju(t,Mi,e,kl(e)),yu(wp,t)}}function xp(e,t,r){e==="focusin"?(Ia(),Si=t,Mi=r,Si.attachEvent("onpropertychange",Fu)):e==="focusout"&&Ia()}function bp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return un(Mi)}function kp(e,t){if(e==="click")return un(t)}function Ep(e,t){if(e==="input"||e==="change")return un(t)}function Lp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:Lp;function Oi(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!ho.call(t,s)||!ht(e[s],t[s]))return!1}return!0}function Na(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ja(e,t){var r=Na(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Na(r)}}function zu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wu(){for(var e=window,t=Ps();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ps(e.document)}return t}function Ol(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rp(e){var t=Wu(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&zu(r.ownerDocument.documentElement,r)){if(i!==null&&Ol(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,h=Math.min(i.start,s);i=i.end===void 0?h:Math.min(i.end,s),!e.extend&&h>i&&(s=i,i=h,h=s),s=ja(r,h);var p=ja(r,i);s&&p&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),h>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dp=bt&&"documentMode"in document&&11>=document.documentMode,Cr=null,Ao=null,wi=null,Po=!1;function Ha(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Po||Cr==null||Cr!==Ps(i)||(i=Cr,"selectionStart"in i&&Ol(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),wi&&Oi(wi,i)||(wi=i,i=Hs(Ao,"onSelect"),0<i.length&&(t=new Al("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Cr)))}function ls(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xr={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionend:ls("Transition","TransitionEnd")},Un={},Uu={};bt&&(Uu=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function hn(e){if(Un[e])return Un[e];if(!xr[e])return e;var t=xr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Uu)return Un[e]=t[r];return e}var $u=hn("animationend"),Vu=hn("animationiteration"),Ku=hn("animationstart"),qu=hn("transitionend"),Gu=new Map,Fa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){Gu.set(e,t),pr(t,[e])}for(var $n=0;$n<Fa.length;$n++){var Vn=Fa[$n],Tp=Vn.toLowerCase(),Ap=Vn[0].toUpperCase()+Vn.slice(1);Qt(Tp,"on"+Ap)}Qt($u,"onAnimationEnd");Qt(Vu,"onAnimationIteration");Qt(Ku,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(qu,"onTransitionEnd");jr("onMouseEnter",["mouseout","mouseover"]);jr("onMouseLeave",["mouseout","mouseover"]);jr("onPointerEnter",["pointerout","pointerover"]);jr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pp=new Set("cancel close invalid load scroll toggle".split(" ").concat(fi));function za(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Tf(i,t,void 0,e),e.currentTarget=null}function Xu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],s=i.event;i=i.listeners;e:{var h=void 0;if(t)for(var p=i.length-1;0<=p;p--){var n=i[p],u=n.instance,f=n.currentTarget;if(n=n.listener,u!==h&&s.isPropagationStopped())break e;za(s,n,f),h=u}else for(p=0;p<i.length;p++){if(n=i[p],u=n.instance,f=n.currentTarget,n=n.listener,u!==h&&s.isPropagationStopped())break e;za(s,n,f),h=u}}}if(Os)throw e=Lo,Os=!1,Lo=null,e}function ce(e,t){var r=t[No];r===void 0&&(r=t[No]=new Set);var i=e+"__bubble";r.has(i)||(Qu(t,e,2,!1),r.add(i))}function Kn(e,t,r){var i=0;t&&(i|=4),Qu(r,e,i,t)}var as="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[as]){e[as]=!0,iu.forEach(function(r){r!=="selectionchange"&&(Pp.has(r)||Kn(r,!1,e),Kn(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[as]||(t[as]=!0,Kn("selectionchange",!1,t))}}function Qu(e,t,r,i){switch(Mu(t)){case 1:var s=Kf;break;case 4:s=qf;break;default:s=Dl}r=s.bind(null,t,r,e),s=void 0,!Eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function qn(e,t,r,i,s){var h=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var n=i.stateNode.containerInfo;if(n===s||n.nodeType===8&&n.parentNode===s)break;if(p===4)for(p=i.return;p!==null;){var u=p.tag;if((u===3||u===4)&&(u=p.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;p=p.return}for(;n!==null;){if(p=rr(n),p===null)return;if(u=p.tag,u===5||u===6){i=h=p;continue e}n=n.parentNode}}i=i.return}yu(function(){var f=h,y=kl(r),d=[];e:{var g=Gu.get(e);if(g!==void 0){var w=Al,C=e;switch(e){case"keypress":if(bs(r)===0)break e;case"keydown":case"keyup":w=ap;break;case"focusin":C="focus",w=Fn;break;case"focusout":C="blur",w=Fn;break;case"beforeblur":case"afterblur":w=Fn;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=hp;break;case $u:case Vu:case Ku:w=Zf;break;case qu:w=fp;break;case"scroll":w=Gf;break;case"wheel":w=_p;break;case"copy":case"cut":case"paste":w=tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Aa}var v=(t&4)!==0,l=!v&&e==="scroll",a=v?g!==null?g+"Capture":null:g;v=[];for(var o=f,c;o!==null;){c=o;var _=c.stateNode;if(c.tag===5&&_!==null&&(c=_,a!==null&&(_=Di(o,a),_!=null&&v.push(Ii(o,_,c)))),l)break;o=o.return}0<v.length&&(g=new w(g,C,null,r,y),d.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",g&&r!==bo&&(C=r.relatedTarget||r.fromElement)&&(rr(C)||C[kt]))break e;if((w||g)&&(g=y.window===y?y:(g=y.ownerDocument)?g.defaultView||g.parentWindow:window,w?(C=r.relatedTarget||r.toElement,w=f,C=C?rr(C):null,C!==null&&(l=_r(C),C!==l||C.tag!==5&&C.tag!==6)&&(C=null)):(w=null,C=f),w!==C)){if(v=Da,_="onMouseLeave",a="onMouseEnter",o="mouse",(e==="pointerout"||e==="pointerover")&&(v=Aa,_="onPointerLeave",a="onPointerEnter",o="pointer"),l=w==null?g:br(w),c=C==null?g:br(C),g=new v(_,o+"leave",w,r,y),g.target=l,g.relatedTarget=c,_=null,rr(y)===f&&(v=new v(a,o+"enter",C,r,y),v.target=c,v.relatedTarget=l,_=v),l=_,w&&C)t:{for(v=w,a=C,o=0,c=v;c;c=mr(c))o++;for(c=0,_=a;_;_=mr(_))c++;for(;0<o-c;)v=mr(v),o--;for(;0<c-o;)a=mr(a),c--;for(;o--;){if(v===a||a!==null&&v===a.alternate)break t;v=mr(v),a=mr(a)}v=null}else v=null;w!==null&&Wa(d,g,w,v,!1),C!==null&&l!==null&&Wa(d,l,C,v,!0)}}e:{if(g=f?br(f):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var S=Cp;else if(Oa(g))if(Hu)S=Ep;else{S=bp;var x=xp}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=kp);if(S&&(S=S(e,f))){ju(d,S,r,y);break e}x&&x(e,g,f),e==="focusout"&&(x=g._wrapperState)&&x.controlled&&g.type==="number"&&yo(g,"number",g.value)}switch(x=f?br(f):window,e){case"focusin":(Oa(x)||x.contentEditable==="true")&&(Cr=x,Ao=f,wi=null);break;case"focusout":wi=Ao=Cr=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,Ha(d,r,y);break;case"selectionchange":if(Dp)break;case"keydown":case"keyup":Ha(d,r,y)}var b;if(Ml)e:{switch(e){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else wr?Iu(e,r)&&(m="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(m="onCompositionStart");m&&(Bu&&r.locale!=="ko"&&(wr||m!=="onCompositionStart"?m==="onCompositionEnd"&&wr&&(b=Ou()):(Nt=y,Tl="value"in Nt?Nt.value:Nt.textContent,wr=!0)),x=Hs(f,m),0<x.length&&(m=new Ta(m,e,null,r,y),d.push({event:m,listeners:x}),b?m.data=b:(b=Nu(r),b!==null&&(m.data=b)))),(b=mp?vp(e,r):yp(e,r))&&(f=Hs(f,"onBeforeInput"),0<f.length&&(y=new Ta("onBeforeInput","beforeinput",null,r,y),d.push({event:y,listeners:f}),y.data=b))}Xu(d,t)})}function Ii(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hs(e,t){for(var r=t+"Capture",i=[];e!==null;){var s=e,h=s.stateNode;s.tag===5&&h!==null&&(s=h,h=Di(e,r),h!=null&&i.unshift(Ii(e,h,s)),h=Di(e,t),h!=null&&i.push(Ii(e,h,s))),e=e.return}return i}function mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wa(e,t,r,i,s){for(var h=t._reactName,p=[];r!==null&&r!==i;){var n=r,u=n.alternate,f=n.stateNode;if(u!==null&&u===i)break;n.tag===5&&f!==null&&(n=f,s?(u=Di(r,h),u!=null&&p.unshift(Ii(r,u,n))):s||(u=Di(r,h),u!=null&&p.push(Ii(r,u,n)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var Mp=/\r\n?/g,Op=/\u0000|\uFFFD/g;function Ua(e){return(typeof e=="string"?e:""+e).replace(Mp,`
`).replace(Op,"")}function cs(e,t,r){if(t=Ua(t),Ua(e)!==t&&r)throw Error(K(425))}function Fs(){}var Mo=null,Oo=null;function Bo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Io=typeof setTimeout=="function"?setTimeout:void 0,Bp=typeof clearTimeout=="function"?clearTimeout:void 0,$a=typeof Promise=="function"?Promise:void 0,Ip=typeof queueMicrotask=="function"?queueMicrotask:typeof $a<"u"?function(e){return $a.resolve(null).then(e).catch(Np)}:Io;function Np(e){setTimeout(function(){throw e})}function Gn(e,t){var r=t,i=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){e.removeChild(s),Pi(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);Pi(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Va(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gr=Math.random().toString(36).slice(2),_t="__reactFiber$"+Gr,Ni="__reactProps$"+Gr,kt="__reactContainer$"+Gr,No="__reactEvents$"+Gr,jp="__reactListeners$"+Gr,Hp="__reactHandles$"+Gr;function rr(e){var t=e[_t];if(t)return t;for(var r=e.parentNode;r;){if(t=r[kt]||r[_t]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Va(e);e!==null;){if(r=e[_t])return r;e=Va(e)}return t}e=r,r=e.parentNode}return null}function Xi(e){return e=e[_t]||e[kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function dn(e){return e[Ni]||null}var jo=[],kr=-1;function Yt(e){return{current:e}}function ue(e){0>kr||(e.current=jo[kr],jo[kr]=null,kr--)}function le(e,t){kr++,jo[kr]=e.current,e.current=t}var Xt={},Pe=Yt(Xt),Fe=Yt(!1),lr=Xt;function Hr(e,t){var r=e.type.contextTypes;if(!r)return Xt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},h;for(h in r)s[h]=t[h];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function zs(){ue(Fe),ue(Pe)}function Ka(e,t,r){if(Pe.current!==Xt)throw Error(K(168));le(Pe,t),le(Fe,r)}function Yu(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(K(108,xf(e)||"Unknown",s));return _e({},r,i)}function Ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,lr=Pe.current,le(Pe,e),le(Fe,Fe.current),!0}function qa(e,t,r){var i=e.stateNode;if(!i)throw Error(K(169));r?(e=Yu(e,t,lr),i.__reactInternalMemoizedMergedChildContext=e,ue(Fe),ue(Pe),le(Pe,e)):ue(Fe),le(Fe,r)}var St=null,fn=!1,Xn=!1;function Ju(e){St===null?St=[e]:St.push(e)}function Fp(e){fn=!0,Ju(e)}function Jt(){if(!Xn&&St!==null){Xn=!0;var e=0,t=oe;try{var r=St;for(oe=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}St=null,fn=!1}catch(s){throw St!==null&&(St=St.slice(e+1)),xu(El,Jt),s}finally{oe=t,Xn=!1}}return null}var Er=[],Lr=0,Us=null,$s=0,Ye=[],Je=0,ar=null,wt=1,Ct="";function er(e,t){Er[Lr++]=$s,Er[Lr++]=Us,Us=e,$s=t}function Zu(e,t,r){Ye[Je++]=wt,Ye[Je++]=Ct,Ye[Je++]=ar,ar=e;var i=wt;e=Ct;var s=32-at(i)-1;i&=~(1<<s),r+=1;var h=32-at(t)+s;if(30<h){var p=s-s%5;h=(i&(1<<p)-1).toString(32),i>>=p,s-=p,wt=1<<32-at(t)+s|r<<s|i,Ct=h+e}else wt=1<<h|r<<s|i,Ct=e}function Bl(e){e.return!==null&&(er(e,1),Zu(e,1,0))}function Il(e){for(;e===Us;)Us=Er[--Lr],Er[Lr]=null,$s=Er[--Lr],Er[Lr]=null;for(;e===ar;)ar=Ye[--Je],Ye[Je]=null,Ct=Ye[--Je],Ye[Je]=null,wt=Ye[--Je],Ye[Je]=null}var Ke=null,Ve=null,he=!1,ot=null;function eh(e,t){var r=Ze(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ga(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ke=e,Ve=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ke=e,Ve=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ar!==null?{id:wt,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ze(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ke=e,Ve=null,!0):!1;default:return!1}}function Ho(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fo(e){if(he){var t=Ve;if(t){var r=t;if(!Ga(e,t)){if(Ho(e))throw Error(K(418));t=Wt(r.nextSibling);var i=Ke;t&&Ga(e,t)?eh(i,r):(e.flags=e.flags&-4097|2,he=!1,Ke=e)}}else{if(Ho(e))throw Error(K(418));e.flags=e.flags&-4097|2,he=!1,Ke=e}}}function Xa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ke=e}function us(e){if(e!==Ke)return!1;if(!he)return Xa(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bo(e.type,e.memoizedProps)),t&&(t=Ve)){if(Ho(e))throw th(),Error(K(418));for(;t;)eh(e,t),t=Wt(t.nextSibling)}if(Xa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ve=Wt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ve=null}}else Ve=Ke?Wt(e.stateNode.nextSibling):null;return!0}function th(){for(var e=Ve;e;)e=Wt(e.nextSibling)}function Fr(){Ve=Ke=null,he=!1}function Nl(e){ot===null?ot=[e]:ot.push(e)}var zp=Rt.ReactCurrentBatchConfig;function oi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var i=r.stateNode}if(!i)throw Error(K(147,e));var s=i,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(p){var n=s.refs;p===null?delete n[h]:n[h]=p},t._stringRef=h,t)}if(typeof e!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,e))}return e}function hs(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){var t=e._init;return t(e._payload)}function rh(e){function t(a,o){if(e){var c=a.deletions;c===null?(a.deletions=[o],a.flags|=16):c.push(o)}}function r(a,o){if(!e)return null;for(;o!==null;)t(a,o),o=o.sibling;return null}function i(a,o){for(a=new Map;o!==null;)o.key!==null?a.set(o.key,o):a.set(o.index,o),o=o.sibling;return a}function s(a,o){return a=Kt(a,o),a.index=0,a.sibling=null,a}function h(a,o,c){return a.index=c,e?(c=a.alternate,c!==null?(c=c.index,c<o?(a.flags|=2,o):c):(a.flags|=2,o)):(a.flags|=1048576,o)}function p(a){return e&&a.alternate===null&&(a.flags|=2),a}function n(a,o,c,_){return o===null||o.tag!==6?(o=ro(c,a.mode,_),o.return=a,o):(o=s(o,c),o.return=a,o)}function u(a,o,c,_){var S=c.type;return S===Sr?y(a,o,c.props.children,_,c.key):o!==null&&(o.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mt&&Qa(S)===o.type)?(_=s(o,c.props),_.ref=oi(a,o,c),_.return=a,_):(_=As(c.type,c.key,c.props,null,a.mode,_),_.ref=oi(a,o,c),_.return=a,_)}function f(a,o,c,_){return o===null||o.tag!==4||o.stateNode.containerInfo!==c.containerInfo||o.stateNode.implementation!==c.implementation?(o=io(c,a.mode,_),o.return=a,o):(o=s(o,c.children||[]),o.return=a,o)}function y(a,o,c,_,S){return o===null||o.tag!==7?(o=or(c,a.mode,_,S),o.return=a,o):(o=s(o,c),o.return=a,o)}function d(a,o,c){if(typeof o=="string"&&o!==""||typeof o=="number")return o=ro(""+o,a.mode,c),o.return=a,o;if(typeof o=="object"&&o!==null){switch(o.$$typeof){case es:return c=As(o.type,o.key,o.props,null,a.mode,c),c.ref=oi(a,null,o),c.return=a,c;case yr:return o=io(o,a.mode,c),o.return=a,o;case Mt:var _=o._init;return d(a,_(o._payload),c)}if(hi(o)||ti(o))return o=or(o,a.mode,c,null),o.return=a,o;hs(a,o)}return null}function g(a,o,c,_){var S=o!==null?o.key:null;if(typeof c=="string"&&c!==""||typeof c=="number")return S!==null?null:n(a,o,""+c,_);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case es:return c.key===S?u(a,o,c,_):null;case yr:return c.key===S?f(a,o,c,_):null;case Mt:return S=c._init,g(a,o,S(c._payload),_)}if(hi(c)||ti(c))return S!==null?null:y(a,o,c,_,null);hs(a,c)}return null}function w(a,o,c,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return a=a.get(c)||null,n(o,a,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case es:return a=a.get(_.key===null?c:_.key)||null,u(o,a,_,S);case yr:return a=a.get(_.key===null?c:_.key)||null,f(o,a,_,S);case Mt:var x=_._init;return w(a,o,c,x(_._payload),S)}if(hi(_)||ti(_))return a=a.get(c)||null,y(o,a,_,S,null);hs(o,_)}return null}function C(a,o,c,_){for(var S=null,x=null,b=o,m=o=0,E=null;b!==null&&m<c.length;m++){b.index>m?(E=b,b=null):E=b.sibling;var D=g(a,b,c[m],_);if(D===null){b===null&&(b=E);break}e&&b&&D.alternate===null&&t(a,b),o=h(D,o,m),x===null?S=D:x.sibling=D,x=D,b=E}if(m===c.length)return r(a,b),he&&er(a,m),S;if(b===null){for(;m<c.length;m++)b=d(a,c[m],_),b!==null&&(o=h(b,o,m),x===null?S=b:x.sibling=b,x=b);return he&&er(a,m),S}for(b=i(a,b);m<c.length;m++)E=w(b,a,m,c[m],_),E!==null&&(e&&E.alternate!==null&&b.delete(E.key===null?m:E.key),o=h(E,o,m),x===null?S=E:x.sibling=E,x=E);return e&&b.forEach(function(A){return t(a,A)}),he&&er(a,m),S}function v(a,o,c,_){var S=ti(c);if(typeof S!="function")throw Error(K(150));if(c=S.call(c),c==null)throw Error(K(151));for(var x=S=null,b=o,m=o=0,E=null,D=c.next();b!==null&&!D.done;m++,D=c.next()){b.index>m?(E=b,b=null):E=b.sibling;var A=g(a,b,D.value,_);if(A===null){b===null&&(b=E);break}e&&b&&A.alternate===null&&t(a,b),o=h(A,o,m),x===null?S=A:x.sibling=A,x=A,b=E}if(D.done)return r(a,b),he&&er(a,m),S;if(b===null){for(;!D.done;m++,D=c.next())D=d(a,D.value,_),D!==null&&(o=h(D,o,m),x===null?S=D:x.sibling=D,x=D);return he&&er(a,m),S}for(b=i(a,b);!D.done;m++,D=c.next())D=w(b,a,m,D.value,_),D!==null&&(e&&D.alternate!==null&&b.delete(D.key===null?m:D.key),o=h(D,o,m),x===null?S=D:x.sibling=D,x=D);return e&&b.forEach(function(P){return t(a,P)}),he&&er(a,m),S}function l(a,o,c,_){if(typeof c=="object"&&c!==null&&c.type===Sr&&c.key===null&&(c=c.props.children),typeof c=="object"&&c!==null){switch(c.$$typeof){case es:e:{for(var S=c.key,x=o;x!==null;){if(x.key===S){if(S=c.type,S===Sr){if(x.tag===7){r(a,x.sibling),o=s(x,c.props.children),o.return=a,a=o;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mt&&Qa(S)===x.type){r(a,x.sibling),o=s(x,c.props),o.ref=oi(a,x,c),o.return=a,a=o;break e}r(a,x);break}else t(a,x);x=x.sibling}c.type===Sr?(o=or(c.props.children,a.mode,_,c.key),o.return=a,a=o):(_=As(c.type,c.key,c.props,null,a.mode,_),_.ref=oi(a,o,c),_.return=a,a=_)}return p(a);case yr:e:{for(x=c.key;o!==null;){if(o.key===x)if(o.tag===4&&o.stateNode.containerInfo===c.containerInfo&&o.stateNode.implementation===c.implementation){r(a,o.sibling),o=s(o,c.children||[]),o.return=a,a=o;break e}else{r(a,o);break}else t(a,o);o=o.sibling}o=io(c,a.mode,_),o.return=a,a=o}return p(a);case Mt:return x=c._init,l(a,o,x(c._payload),_)}if(hi(c))return C(a,o,c,_);if(ti(c))return v(a,o,c,_);hs(a,c)}return typeof c=="string"&&c!==""||typeof c=="number"?(c=""+c,o!==null&&o.tag===6?(r(a,o.sibling),o=s(o,c),o.return=a,a=o):(r(a,o),o=ro(c,a.mode,_),o.return=a,a=o),p(a)):r(a,o)}return l}var zr=rh(!0),ih=rh(!1),Vs=Yt(null),Ks=null,Rr=null,jl=null;function Hl(){jl=Rr=Ks=null}function Fl(e){var t=Vs.current;ue(Vs),e._currentValue=t}function zo(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Ir(e,t){Ks=e,jl=Rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(jl!==e)if(e={context:e,memoizedValue:t,next:null},Rr===null){if(Ks===null)throw Error(K(308));Rr=e,Ks.dependencies={lanes:0,firstContext:e}}else Rr=Rr.next=e;return t}var ir=null;function zl(e){ir===null?ir=[e]:ir.push(e)}function sh(e,t,r,i){var s=t.interleaved;return s===null?(r.next=r,zl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Et(e,i)}function Et(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ot=!1;function Wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ut(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,se&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Et(e,r)}return s=i.interleaved,s===null?(t.next=t,zl(i)):(t.next=s.next,s.next=t),i.interleaved=t,Et(e,r)}function ks(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Ll(e,r)}}function Ya(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?s=h=p:h=h.next=p,r=r.next}while(r!==null);h===null?s=h=t:h=h.next=t}else s=h=t;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:h,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qs(e,t,r,i){var s=e.updateQueue;Ot=!1;var h=s.firstBaseUpdate,p=s.lastBaseUpdate,n=s.shared.pending;if(n!==null){s.shared.pending=null;var u=n,f=u.next;u.next=null,p===null?h=f:p.next=f,p=u;var y=e.alternate;y!==null&&(y=y.updateQueue,n=y.lastBaseUpdate,n!==p&&(n===null?y.firstBaseUpdate=f:n.next=f,y.lastBaseUpdate=u))}if(h!==null){var d=s.baseState;p=0,y=f=u=null,n=h;do{var g=n.lane,w=n.eventTime;if((i&g)===g){y!==null&&(y=y.next={eventTime:w,lane:0,tag:n.tag,payload:n.payload,callback:n.callback,next:null});e:{var C=e,v=n;switch(g=t,w=r,v.tag){case 1:if(C=v.payload,typeof C=="function"){d=C.call(w,d,g);break e}d=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=v.payload,g=typeof C=="function"?C.call(w,d,g):C,g==null)break e;d=_e({},d,g);break e;case 2:Ot=!0}}n.callback!==null&&n.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[n]:g.push(n))}else w={eventTime:w,lane:g,tag:n.tag,payload:n.payload,callback:n.callback,next:null},y===null?(f=y=w,u=d):y=y.next=w,p|=g;if(n=n.next,n===null){if(n=s.shared.pending,n===null)break;g=n,n=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(y===null&&(u=d),s.baseState=u,s.firstBaseUpdate=f,s.lastBaseUpdate=y,t=s.shared.interleaved,t!==null){s=t;do p|=s.lane,s=s.next;while(s!==t)}else h===null&&(s.shared.lanes=0);ur|=p,e.lanes=p,e.memoizedState=d}}function Ja(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(K(191,s));s.call(i)}}}var Qi={},mt=Yt(Qi),ji=Yt(Qi),Hi=Yt(Qi);function sr(e){if(e===Qi)throw Error(K(174));return e}function Ul(e,t){switch(le(Hi,t),le(ji,e),le(mt,Qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wo(t,e)}ue(mt),le(mt,t)}function Wr(){ue(mt),ue(ji),ue(Hi)}function oh(e){sr(Hi.current);var t=sr(mt.current),r=wo(t,e.type);t!==r&&(le(ji,e),le(mt,r))}function $l(e){ji.current===e&&(ue(mt),ue(ji))}var fe=Yt(0);function Gs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qn=[];function Vl(){for(var e=0;e<Qn.length;e++)Qn[e]._workInProgressVersionPrimary=null;Qn.length=0}var Es=Rt.ReactCurrentDispatcher,Yn=Rt.ReactCurrentBatchConfig,cr=0,pe=null,Se=null,Ce=null,Xs=!1,Ci=!1,Fi=0,Wp=0;function De(){throw Error(K(321))}function Kl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ht(e[r],t[r]))return!1;return!0}function ql(e,t,r,i,s,h){if(cr=h,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Es.current=e===null||e.memoizedState===null?Kp:qp,e=r(i,s),Ci){h=0;do{if(Ci=!1,Fi=0,25<=h)throw Error(K(301));h+=1,Ce=Se=null,t.updateQueue=null,Es.current=Gp,e=r(i,s)}while(Ci)}if(Es.current=Qs,t=Se!==null&&Se.next!==null,cr=0,Ce=Se=pe=null,Xs=!1,t)throw Error(K(300));return e}function Gl(){var e=Fi!==0;return Fi=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?pe.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function rt(){if(Se===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Ce===null?pe.memoizedState:Ce.next;if(t!==null)Ce=t,Se=e;else{if(e===null)throw Error(K(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ce===null?pe.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function zi(e,t){return typeof t=="function"?t(e):t}function Jn(e){var t=rt(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var i=Se,s=i.baseQueue,h=r.pending;if(h!==null){if(s!==null){var p=s.next;s.next=h.next,h.next=p}i.baseQueue=s=h,r.pending=null}if(s!==null){h=s.next,i=i.baseState;var n=p=null,u=null,f=h;do{var y=f.lane;if((cr&y)===y)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:e(i,f.action);else{var d={lane:y,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(n=u=d,p=i):u=u.next=d,pe.lanes|=y,ur|=y}f=f.next}while(f!==null&&f!==h);u===null?p=i:u.next=n,ht(i,t.memoizedState)||(He=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=u,r.lastRenderedState=i}if(e=r.interleaved,e!==null){s=e;do h=s.lane,pe.lanes|=h,ur|=h,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Zn(e){var t=rt(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var i=r.dispatch,s=r.pending,h=t.memoizedState;if(s!==null){r.pending=null;var p=s=s.next;do h=e(h,p.action),p=p.next;while(p!==s);ht(h,t.memoizedState)||(He=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),r.lastRenderedState=h}return[h,i]}function lh(){}function ah(e,t){var r=pe,i=rt(),s=t(),h=!ht(i.memoizedState,s);if(h&&(i.memoizedState=s,He=!0),i=i.queue,Xl(hh.bind(null,r,i,e),[e]),i.getSnapshot!==t||h||Ce!==null&&Ce.memoizedState.tag&1){if(r.flags|=2048,Wi(9,uh.bind(null,r,i,s,t),void 0,null),xe===null)throw Error(K(349));cr&30||ch(r,t,s)}return s}function ch(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function uh(e,t,r,i){t.value=r,t.getSnapshot=i,dh(t)&&fh(e)}function hh(e,t,r){return r(function(){dh(t)&&fh(e)})}function dh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ht(e,r)}catch{return!0}}function fh(e){var t=Et(e,1);t!==null&&ct(t,e,1,-1)}function Za(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},t.queue=e,e=e.dispatch=Vp.bind(null,pe,e),[t.memoizedState,e]}function Wi(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function ph(){return rt().memoizedState}function Ls(e,t,r,i){var s=pt();pe.flags|=e,s.memoizedState=Wi(1|t,r,void 0,i===void 0?null:i)}function pn(e,t,r,i){var s=rt();i=i===void 0?null:i;var h=void 0;if(Se!==null){var p=Se.memoizedState;if(h=p.destroy,i!==null&&Kl(i,p.deps)){s.memoizedState=Wi(t,r,h,i);return}}pe.flags|=e,s.memoizedState=Wi(1|t,r,h,i)}function ec(e,t){return Ls(8390656,8,e,t)}function Xl(e,t){return pn(2048,8,e,t)}function _h(e,t){return pn(4,2,e,t)}function gh(e,t){return pn(4,4,e,t)}function mh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vh(e,t,r){return r=r!=null?r.concat([e]):null,pn(4,4,mh.bind(null,t,e),r)}function Ql(){}function yh(e,t){var r=rt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Kl(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Sh(e,t){var r=rt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Kl(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function wh(e,t,r){return cr&21?(ht(r,t)||(r=Eu(),pe.lanes|=r,ur|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=r)}function Up(e,t){var r=oe;oe=r!==0&&4>r?r:4,e(!0);var i=Yn.transition;Yn.transition={};try{e(!1),t()}finally{oe=r,Yn.transition=i}}function Ch(){return rt().memoizedState}function $p(e,t,r){var i=Vt(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},xh(e))bh(t,r);else if(r=sh(e,t,r,i),r!==null){var s=Oe();ct(r,e,i,s),kh(r,t,i)}}function Vp(e,t,r){var i=Vt(e),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(xh(e))bh(t,s);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var p=t.lastRenderedState,n=h(p,r);if(s.hasEagerState=!0,s.eagerState=n,ht(n,p)){var u=t.interleaved;u===null?(s.next=s,zl(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=sh(e,t,s,i),r!==null&&(s=Oe(),ct(r,e,i,s),kh(r,t,i))}}function xh(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function bh(e,t){Ci=Xs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kh(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Ll(e,r)}}var Qs={readContext:tt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Kp={readContext:tt,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:ec,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ls(4194308,4,mh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ls(4,2,e,t)},useMemo:function(e,t){var r=pt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=pt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=$p.bind(null,pe,e),[i.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:Za,useDebugValue:Ql,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=Za(!1),t=e[0];return e=Up.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=pe,s=pt();if(he){if(r===void 0)throw Error(K(407));r=r()}else{if(r=t(),xe===null)throw Error(K(349));cr&30||ch(i,t,r)}s.memoizedState=r;var h={value:r,getSnapshot:t};return s.queue=h,ec(hh.bind(null,i,h,e),[e]),i.flags|=2048,Wi(9,uh.bind(null,i,h,r,t),void 0,null),r},useId:function(){var e=pt(),t=xe.identifierPrefix;if(he){var r=Ct,i=wt;r=(i&~(1<<32-at(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Fi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Wp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qp={readContext:tt,useCallback:yh,useContext:tt,useEffect:Xl,useImperativeHandle:vh,useInsertionEffect:_h,useLayoutEffect:gh,useMemo:Sh,useReducer:Jn,useRef:ph,useState:function(){return Jn(zi)},useDebugValue:Ql,useDeferredValue:function(e){var t=rt();return wh(t,Se.memoizedState,e)},useTransition:function(){var e=Jn(zi)[0],t=rt().memoizedState;return[e,t]},useMutableSource:lh,useSyncExternalStore:ah,useId:Ch,unstable_isNewReconciler:!1},Gp={readContext:tt,useCallback:yh,useContext:tt,useEffect:Xl,useImperativeHandle:vh,useInsertionEffect:_h,useLayoutEffect:gh,useMemo:Sh,useReducer:Zn,useRef:ph,useState:function(){return Zn(zi)},useDebugValue:Ql,useDeferredValue:function(e){var t=rt();return Se===null?t.memoizedState=e:wh(t,Se.memoizedState,e)},useTransition:function(){var e=Zn(zi)[0],t=rt().memoizedState;return[e,t]},useMutableSource:lh,useSyncExternalStore:ah,useId:Ch,unstable_isNewReconciler:!1};function st(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Wo(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:_e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _n={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Oe(),s=Vt(e),h=xt(i,s);h.payload=t,r!=null&&(h.callback=r),t=Ut(e,h,s),t!==null&&(ct(t,e,s,i),ks(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Oe(),s=Vt(e),h=xt(i,s);h.tag=1,h.payload=t,r!=null&&(h.callback=r),t=Ut(e,h,s),t!==null&&(ct(t,e,s,i),ks(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Oe(),i=Vt(e),s=xt(r,i);s.tag=2,t!=null&&(s.callback=t),t=Ut(e,s,i),t!==null&&(ct(t,e,i,r),ks(t,e,i))}};function tc(e,t,r,i,s,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,h,p):t.prototype&&t.prototype.isPureReactComponent?!Oi(r,i)||!Oi(s,h):!0}function Eh(e,t,r){var i=!1,s=Xt,h=t.contextType;return typeof h=="object"&&h!==null?h=tt(h):(s=ze(t)?lr:Pe.current,i=t.contextTypes,h=(i=i!=null)?Hr(e,s):Xt),t=new t(r,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_n,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=h),t}function rc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&_n.enqueueReplaceState(t,t.state,null)}function Uo(e,t,r,i){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Wl(e);var h=t.contextType;typeof h=="object"&&h!==null?s.context=tt(h):(h=ze(t)?lr:Pe.current,s.context=Hr(e,h)),s.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Wo(e,t,h,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_n.enqueueReplaceState(s,s.state,null),qs(e,r,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ur(e,t){try{var r="",i=t;do r+=Cf(i),i=i.return;while(i);var s=r}catch(h){s=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:s,digest:null}}function eo(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function $o(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Xp=typeof WeakMap=="function"?WeakMap:Map;function Lh(e,t,r){r=xt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Js||(Js=!0,el=i),$o(e,t)},r}function Rh(e,t,r){r=xt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;r.payload=function(){return i(s)},r.callback=function(){$o(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){$o(e,t),typeof i!="function"&&($t===null?$t=new Set([this]):$t.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function ic(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Xp;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(r)||(s.add(r),e=c_.bind(null,e,t,r),t.then(e,e))}function sc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nc(e,t,r,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xt(-1,1),t.tag=2,Ut(r,t,1))),r.lanes|=1),e)}var Qp=Rt.ReactCurrentOwner,He=!1;function Me(e,t,r,i){t.child=e===null?ih(t,null,r,i):zr(t,e.child,r,i)}function oc(e,t,r,i,s){r=r.render;var h=t.ref;return Ir(t,s),i=ql(e,t,r,i,h,s),r=Gl(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(he&&r&&Bl(t),t.flags|=1,Me(e,t,i,s),t.child)}function lc(e,t,r,i,s){if(e===null){var h=r.type;return typeof h=="function"&&!sa(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=h,Dh(e,t,h,i,s)):(e=As(r.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!(e.lanes&s)){var p=h.memoizedProps;if(r=r.compare,r=r!==null?r:Oi,r(p,i)&&e.ref===t.ref)return Lt(e,t,s)}return t.flags|=1,e=Kt(h,i),e.ref=t.ref,e.return=t,t.child=e}function Dh(e,t,r,i,s){if(e!==null){var h=e.memoizedProps;if(Oi(h,i)&&e.ref===t.ref)if(He=!1,t.pendingProps=i=h,(e.lanes&s)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Lt(e,t,s)}return Vo(e,t,r,i,s)}function Th(e,t,r){var i=t.pendingProps,s=i.children,h=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Tr,Ue),Ue|=r;else{if(!(r&1073741824))return e=h!==null?h.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Tr,Ue),Ue|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=h!==null?h.baseLanes:r,le(Tr,Ue),Ue|=i}else h!==null?(i=h.baseLanes|r,t.memoizedState=null):i=r,le(Tr,Ue),Ue|=i;return Me(e,t,s,r),t.child}function Ah(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Vo(e,t,r,i,s){var h=ze(r)?lr:Pe.current;return h=Hr(t,h),Ir(t,s),r=ql(e,t,r,i,h,s),i=Gl(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(he&&i&&Bl(t),t.flags|=1,Me(e,t,r,s),t.child)}function ac(e,t,r,i,s){if(ze(r)){var h=!0;Ws(t)}else h=!1;if(Ir(t,s),t.stateNode===null)Rs(e,t),Eh(t,r,i),Uo(t,r,i,s),i=!0;else if(e===null){var p=t.stateNode,n=t.memoizedProps;p.props=n;var u=p.context,f=r.contextType;typeof f=="object"&&f!==null?f=tt(f):(f=ze(r)?lr:Pe.current,f=Hr(t,f));var y=r.getDerivedStateFromProps,d=typeof y=="function"||typeof p.getSnapshotBeforeUpdate=="function";d||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(n!==i||u!==f)&&rc(t,p,i,f),Ot=!1;var g=t.memoizedState;p.state=g,qs(t,i,p,s),u=t.memoizedState,n!==i||g!==u||Fe.current||Ot?(typeof y=="function"&&(Wo(t,r,y,i),u=t.memoizedState),(n=Ot||tc(t,r,n,i,g,u,f))?(d||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),p.props=i,p.state=u,p.context=f,i=n):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,nh(e,t),n=t.memoizedProps,f=t.type===t.elementType?n:st(t.type,n),p.props=f,d=t.pendingProps,g=p.context,u=r.contextType,typeof u=="object"&&u!==null?u=tt(u):(u=ze(r)?lr:Pe.current,u=Hr(t,u));var w=r.getDerivedStateFromProps;(y=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(n!==d||g!==u)&&rc(t,p,i,u),Ot=!1,g=t.memoizedState,p.state=g,qs(t,i,p,s);var C=t.memoizedState;n!==d||g!==C||Fe.current||Ot?(typeof w=="function"&&(Wo(t,r,w,i),C=t.memoizedState),(f=Ot||tc(t,r,f,i,g,C,u)||!1)?(y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,C,u),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,C,u)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||n===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||n===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=C),p.props=i,p.state=C,p.context=u,i=f):(typeof p.componentDidUpdate!="function"||n===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||n===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return Ko(e,t,r,i,h,s)}function Ko(e,t,r,i,s,h){Ah(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return s&&qa(t,r,!1),Lt(e,t,h);i=t.stateNode,Qp.current=t;var n=p&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=zr(t,e.child,null,h),t.child=zr(t,null,n,h)):Me(e,t,n,h),t.memoizedState=i.state,s&&qa(t,r,!0),t.child}function Ph(e){var t=e.stateNode;t.pendingContext?Ka(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ka(e,t.context,!1),Ul(e,t.containerInfo)}function cc(e,t,r,i,s){return Fr(),Nl(s),t.flags|=256,Me(e,t,r,i),t.child}var qo={dehydrated:null,treeContext:null,retryLane:0};function Go(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mh(e,t,r){var i=t.pendingProps,s=fe.current,h=!1,p=(t.flags&128)!==0,n;if((n=p)||(n=e!==null&&e.memoizedState===null?!1:(s&2)!==0),n?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),le(fe,s&1),e===null)return Fo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=i.children,e=i.fallback,h?(i=t.mode,h=t.child,p={mode:"hidden",children:p},!(i&1)&&h!==null?(h.childLanes=0,h.pendingProps=p):h=vn(p,i,0,null),e=or(e,i,r,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Go(r),t.memoizedState=qo,e):Yl(t,p));if(s=e.memoizedState,s!==null&&(n=s.dehydrated,n!==null))return Yp(e,t,p,i,n,s,r);if(h){h=i.fallback,p=t.mode,s=e.child,n=s.sibling;var u={mode:"hidden",children:i.children};return!(p&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=u,t.deletions=null):(i=Kt(s,u),i.subtreeFlags=s.subtreeFlags&14680064),n!==null?h=Kt(n,h):(h=or(h,p,r,null),h.flags|=2),h.return=t,i.return=t,i.sibling=h,t.child=i,i=h,h=t.child,p=e.child.memoizedState,p=p===null?Go(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},h.memoizedState=p,h.childLanes=e.childLanes&~r,t.memoizedState=qo,i}return h=e.child,e=h.sibling,i=Kt(h,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Yl(e,t){return t=vn({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,r,i){return i!==null&&Nl(i),zr(t,e.child,null,r),e=Yl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yp(e,t,r,i,s,h,p){if(r)return t.flags&256?(t.flags&=-257,i=eo(Error(K(422))),ds(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=i.fallback,s=t.mode,i=vn({mode:"visible",children:i.children},s,0,null),h=or(h,s,p,null),h.flags|=2,i.return=t,h.return=t,i.sibling=h,t.child=i,t.mode&1&&zr(t,e.child,null,p),t.child.memoizedState=Go(p),t.memoizedState=qo,h);if(!(t.mode&1))return ds(e,t,p,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var n=i.dgst;return i=n,h=Error(K(419)),i=eo(h,i,void 0),ds(e,t,p,i)}if(n=(p&e.childLanes)!==0,He||n){if(i=xe,i!==null){switch(p&-p){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|p)?0:s,s!==0&&s!==h.retryLane&&(h.retryLane=s,Et(e,s),ct(i,e,s,-1))}return ia(),i=eo(Error(K(421))),ds(e,t,p,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=u_.bind(null,e),s._reactRetry=t,null):(e=h.treeContext,Ve=Wt(s.nextSibling),Ke=t,he=!0,ot=null,e!==null&&(Ye[Je++]=wt,Ye[Je++]=Ct,Ye[Je++]=ar,wt=e.id,Ct=e.overflow,ar=t),t=Yl(t,i.children),t.flags|=4096,t)}function uc(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),zo(e.return,t,r)}function to(e,t,r,i,s){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=r,h.tailMode=s)}function Oh(e,t,r){var i=t.pendingProps,s=i.revealOrder,h=i.tail;if(Me(e,t,i.children,r),i=fe.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uc(e,r,t);else if(e.tag===19)uc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(le(fe,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Gs(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),to(t,!1,s,r,h);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gs(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}to(t,!0,r,null,h);break;case"together":to(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ur|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,r=Kt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Jp(e,t,r){switch(t.tag){case 3:Ph(t),Fr();break;case 5:oh(t);break;case 1:ze(t.type)&&Ws(t);break;case 4:Ul(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;le(Vs,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(le(fe,fe.current&1),t.flags|=128,null):r&t.child.childLanes?Mh(e,t,r):(le(fe,fe.current&1),e=Lt(e,t,r),e!==null?e.sibling:null);le(fe,fe.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return Oh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(fe,fe.current),i)break;return null;case 22:case 23:return t.lanes=0,Th(e,t,r)}return Lt(e,t,r)}var Bh,Xo,Ih,Nh;Bh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xo=function(){};Ih=function(e,t,r,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,sr(mt.current);var h=null;switch(r){case"input":s=mo(e,s),i=mo(e,i),h=[];break;case"select":s=_e({},s,{value:void 0}),i=_e({},i,{value:void 0}),h=[];break;case"textarea":s=So(e,s),i=So(e,i),h=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Fs)}Co(r,i);var p;r=null;for(f in s)if(!i.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var n=s[f];for(p in n)n.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Li.hasOwnProperty(f)?h||(h=[]):(h=h||[]).push(f,null));for(f in i){var u=i[f];if(n=s!=null?s[f]:void 0,i.hasOwnProperty(f)&&u!==n&&(u!=null||n!=null))if(f==="style")if(n){for(p in n)!n.hasOwnProperty(p)||u&&u.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in u)u.hasOwnProperty(p)&&n[p]!==u[p]&&(r||(r={}),r[p]=u[p])}else r||(h||(h=[]),h.push(f,r)),r=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,n=n?n.__html:void 0,u!=null&&n!==u&&(h=h||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(h=h||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Li.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&ce("scroll",e),h||n===u||(h=[])):(h=h||[]).push(f,u))}r&&(h=h||[]).push("style",r);var f=h;(t.updateQueue=f)&&(t.flags|=4)}};Nh=function(e,t,r,i){r!==i&&(t.flags|=4)};function li(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Zp(e,t,r){var i=t.pendingProps;switch(Il(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return ze(t.type)&&zs(),Te(t),null;case 3:return i=t.stateNode,Wr(),ue(Fe),ue(Pe),Vl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(il(ot),ot=null))),Xo(e,t),Te(t),null;case 5:$l(t);var s=sr(Hi.current);if(r=t.type,e!==null&&t.stateNode!=null)Ih(e,t,r,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(K(166));return Te(t),null}if(e=sr(mt.current),us(t)){i=t.stateNode,r=t.type;var h=t.memoizedProps;switch(i[_t]=t,i[Ni]=h,e=(t.mode&1)!==0,r){case"dialog":ce("cancel",i),ce("close",i);break;case"iframe":case"object":case"embed":ce("load",i);break;case"video":case"audio":for(s=0;s<fi.length;s++)ce(fi[s],i);break;case"source":ce("error",i);break;case"img":case"image":case"link":ce("error",i),ce("load",i);break;case"details":ce("toggle",i);break;case"input":ya(i,h),ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!h.multiple},ce("invalid",i);break;case"textarea":wa(i,h),ce("invalid",i)}Co(r,h),s=null;for(var p in h)if(h.hasOwnProperty(p)){var n=h[p];p==="children"?typeof n=="string"?i.textContent!==n&&(h.suppressHydrationWarning!==!0&&cs(i.textContent,n,e),s=["children",n]):typeof n=="number"&&i.textContent!==""+n&&(h.suppressHydrationWarning!==!0&&cs(i.textContent,n,e),s=["children",""+n]):Li.hasOwnProperty(p)&&n!=null&&p==="onScroll"&&ce("scroll",i)}switch(r){case"input":ts(i),Sa(i,h,!0);break;case"textarea":ts(i),Ca(i);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(i.onclick=Fs)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(r,{is:i.is}):(e=p.createElement(r),r==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,r),e[_t]=t,e[Ni]=i,Bh(e,t,!1,!1),t.stateNode=e;e:{switch(p=xo(r,i),r){case"dialog":ce("cancel",e),ce("close",e),s=i;break;case"iframe":case"object":case"embed":ce("load",e),s=i;break;case"video":case"audio":for(s=0;s<fi.length;s++)ce(fi[s],e);s=i;break;case"source":ce("error",e),s=i;break;case"img":case"image":case"link":ce("error",e),ce("load",e),s=i;break;case"details":ce("toggle",e),s=i;break;case"input":ya(e,i),s=mo(e,i),ce("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=_e({},i,{value:void 0}),ce("invalid",e);break;case"textarea":wa(e,i),s=So(e,i),ce("invalid",e);break;default:s=i}Co(r,s),n=s;for(h in n)if(n.hasOwnProperty(h)){var u=n[h];h==="style"?pu(e,u):h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&du(e,u)):h==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Ri(e,u):typeof u=="number"&&Ri(e,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Li.hasOwnProperty(h)?u!=null&&h==="onScroll"&&ce("scroll",e):u!=null&&wl(e,h,u,p))}switch(r){case"input":ts(e),Sa(e,i,!1);break;case"textarea":ts(e),Ca(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Gt(i.value));break;case"select":e.multiple=!!i.multiple,h=i.value,h!=null?Pr(e,!!i.multiple,h,!1):i.defaultValue!=null&&Pr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fs)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)Nh(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(K(166));if(r=sr(Hi.current),sr(mt.current),us(t)){if(i=t.stateNode,r=t.memoizedProps,i[_t]=t,(h=i.nodeValue!==r)&&(e=Ke,e!==null))switch(e.tag){case 3:cs(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cs(i.nodeValue,r,(e.mode&1)!==0)}h&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[_t]=t,t.stateNode=i}return Te(t),null;case 13:if(ue(fe),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&Ve!==null&&t.mode&1&&!(t.flags&128))th(),Fr(),t.flags|=98560,h=!1;else if(h=us(t),i!==null&&i.dehydrated!==null){if(e===null){if(!h)throw Error(K(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(K(317));h[_t]=t}else Fr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),h=!1}else ot!==null&&(il(ot),ot=null),h=!0;if(!h)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?we===0&&(we=3):ia())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return Wr(),Xo(e,t),e===null&&Bi(t.stateNode.containerInfo),Te(t),null;case 10:return Fl(t.type._context),Te(t),null;case 17:return ze(t.type)&&zs(),Te(t),null;case 19:if(ue(fe),h=t.memoizedState,h===null)return Te(t),null;if(i=(t.flags&128)!==0,p=h.rendering,p===null)if(i)li(h,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=Gs(e),p!==null){for(t.flags|=128,li(h,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)h=r,e=i,h.flags&=14680066,p=h.alternate,p===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=p.childLanes,h.lanes=p.lanes,h.child=p.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=p.memoizedProps,h.memoizedState=p.memoizedState,h.updateQueue=p.updateQueue,h.type=p.type,e=p.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return le(fe,fe.current&1|2),t.child}e=e.sibling}h.tail!==null&&me()>$r&&(t.flags|=128,i=!0,li(h,!1),t.lanes=4194304)}else{if(!i)if(e=Gs(p),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),li(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!he)return Te(t),null}else 2*me()-h.renderingStartTime>$r&&r!==1073741824&&(t.flags|=128,i=!0,li(h,!1),t.lanes=4194304);h.isBackwards?(p.sibling=t.child,t.child=p):(r=h.last,r!==null?r.sibling=p:t.child=p,h.last=p)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=me(),t.sibling=null,r=fe.current,le(fe,i?r&1|2:r&1),t):(Te(t),null);case 22:case 23:return ra(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ue&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function e_(e,t){switch(Il(t),t.tag){case 1:return ze(t.type)&&zs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wr(),ue(Fe),ue(Pe),Vl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $l(t),null;case 13:if(ue(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Fr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(fe),null;case 4:return Wr(),null;case 10:return Fl(t.type._context),null;case 22:case 23:return ra(),null;case 24:return null;default:return null}}var fs=!1,Ae=!1,t_=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Dr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){ge(e,t,i)}else r.current=null}function Qo(e,t,r){try{r()}catch(i){ge(e,t,i)}}var hc=!1;function r_(e,t){if(Mo=Ns,e=Wu(),Ol(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var p=0,n=-1,u=-1,f=0,y=0,d=e,g=null;t:for(;;){for(var w;d!==r||s!==0&&d.nodeType!==3||(n=p+s),d!==h||i!==0&&d.nodeType!==3||(u=p+i),d.nodeType===3&&(p+=d.nodeValue.length),(w=d.firstChild)!==null;)g=d,d=w;for(;;){if(d===e)break t;if(g===r&&++f===s&&(n=p),g===h&&++y===i&&(u=p),(w=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=w}r=n===-1||u===-1?null:{start:n,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Oo={focusedElem:e,selectionRange:r},Ns=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var v=C.memoizedProps,l=C.memoizedState,a=t.stateNode,o=a.getSnapshotBeforeUpdate(t.elementType===t.type?v:st(t.type,v),l);a.__reactInternalSnapshotBeforeUpdate=o}break;case 3:var c=t.stateNode.containerInfo;c.nodeType===1?c.textContent="":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(_){ge(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return C=hc,hc=!1,C}function xi(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var h=s.destroy;s.destroy=void 0,h!==void 0&&Qo(t,r,h)}s=s.next}while(s!==i)}}function gn(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Yo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jh(e){var t=e.alternate;t!==null&&(e.alternate=null,jh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_t],delete t[Ni],delete t[No],delete t[jp],delete t[Hp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hh(e){return e.tag===5||e.tag===3||e.tag===4}function dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fs));else if(i!==4&&(e=e.child,e!==null))for(Jo(e,t,r),e=e.sibling;e!==null;)Jo(e,t,r),e=e.sibling}function Zo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Zo(e,t,r),e=e.sibling;e!==null;)Zo(e,t,r),e=e.sibling}var ke=null,nt=!1;function At(e,t,r){for(r=r.child;r!==null;)Fh(e,t,r),r=r.sibling}function Fh(e,t,r){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(an,r)}catch{}switch(r.tag){case 5:Ae||Dr(r,t);case 6:var i=ke,s=nt;ke=null,At(e,t,r),ke=i,nt=s,ke!==null&&(nt?(e=ke,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ke.removeChild(r.stateNode));break;case 18:ke!==null&&(nt?(e=ke,r=r.stateNode,e.nodeType===8?Gn(e.parentNode,r):e.nodeType===1&&Gn(e,r),Pi(e)):Gn(ke,r.stateNode));break;case 4:i=ke,s=nt,ke=r.stateNode.containerInfo,nt=!0,At(e,t,r),ke=i,nt=s;break;case 0:case 11:case 14:case 15:if(!Ae&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var h=s,p=h.destroy;h=h.tag,p!==void 0&&(h&2||h&4)&&Qo(r,t,p),s=s.next}while(s!==i)}At(e,t,r);break;case 1:if(!Ae&&(Dr(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(n){ge(r,t,n)}At(e,t,r);break;case 21:At(e,t,r);break;case 22:r.mode&1?(Ae=(i=Ae)||r.memoizedState!==null,At(e,t,r),Ae=i):At(e,t,r);break;default:At(e,t,r)}}function fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new t_),t.forEach(function(i){var s=h_.bind(null,e,i);r.has(i)||(r.add(i),i.then(s,s))})}}function it(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var h=e,p=t,n=p;e:for(;n!==null;){switch(n.tag){case 5:ke=n.stateNode,nt=!1;break e;case 3:ke=n.stateNode.containerInfo,nt=!0;break e;case 4:ke=n.stateNode.containerInfo,nt=!0;break e}n=n.return}if(ke===null)throw Error(K(160));Fh(h,p,s),ke=null,nt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(f){ge(s,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zh(t,e),t=t.sibling}function zh(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),ft(e),i&4){try{xi(3,e,e.return),gn(3,e)}catch(v){ge(e,e.return,v)}try{xi(5,e,e.return)}catch(v){ge(e,e.return,v)}}break;case 1:it(t,e),ft(e),i&512&&r!==null&&Dr(r,r.return);break;case 5:if(it(t,e),ft(e),i&512&&r!==null&&Dr(r,r.return),e.flags&32){var s=e.stateNode;try{Ri(s,"")}catch(v){ge(e,e.return,v)}}if(i&4&&(s=e.stateNode,s!=null)){var h=e.memoizedProps,p=r!==null?r.memoizedProps:h,n=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{n==="input"&&h.type==="radio"&&h.name!=null&&cu(s,h),xo(n,p);var f=xo(n,h);for(p=0;p<u.length;p+=2){var y=u[p],d=u[p+1];y==="style"?pu(s,d):y==="dangerouslySetInnerHTML"?du(s,d):y==="children"?Ri(s,d):wl(s,y,d,f)}switch(n){case"input":vo(s,h);break;case"textarea":uu(s,h);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!h.multiple;var w=h.value;w!=null?Pr(s,!!h.multiple,w,!1):g!==!!h.multiple&&(h.defaultValue!=null?Pr(s,!!h.multiple,h.defaultValue,!0):Pr(s,!!h.multiple,h.multiple?[]:"",!1))}s[Ni]=h}catch(v){ge(e,e.return,v)}}break;case 6:if(it(t,e),ft(e),i&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,h=e.memoizedProps;try{s.nodeValue=h}catch(v){ge(e,e.return,v)}}break;case 3:if(it(t,e),ft(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Pi(t.containerInfo)}catch(v){ge(e,e.return,v)}break;case 4:it(t,e),ft(e);break;case 13:it(t,e),ft(e),s=e.child,s.flags&8192&&(h=s.memoizedState!==null,s.stateNode.isHidden=h,!h||s.alternate!==null&&s.alternate.memoizedState!==null||(ea=me())),i&4&&fc(e);break;case 22:if(y=r!==null&&r.memoizedState!==null,e.mode&1?(Ae=(f=Ae)||y,it(t,e),Ae=f):it(t,e),ft(e),i&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!y&&e.mode&1)for(Q=e,y=e.child;y!==null;){for(d=Q=y;Q!==null;){switch(g=Q,w=g.child,g.tag){case 0:case 11:case 14:case 15:xi(4,g,g.return);break;case 1:Dr(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){i=g,r=g.return;try{t=i,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(v){ge(i,r,v)}}break;case 5:Dr(g,g.return);break;case 22:if(g.memoizedState!==null){_c(d);continue}}w!==null?(w.return=g,Q=w):_c(d)}y=y.sibling}e:for(y=null,d=e;;){if(d.tag===5){if(y===null){y=d;try{s=d.stateNode,f?(h=s.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(n=d.stateNode,u=d.memoizedProps.style,p=u!=null&&u.hasOwnProperty("display")?u.display:null,n.style.display=fu("display",p))}catch(v){ge(e,e.return,v)}}}else if(d.tag===6){if(y===null)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){ge(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;y===d&&(y=null),d=d.return}y===d&&(y=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:it(t,e),ft(e),i&4&&fc(e);break;case 21:break;default:it(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Hh(r)){var i=r;break e}r=r.return}throw Error(K(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Ri(s,""),i.flags&=-33);var h=dc(e);Zo(e,h,s);break;case 3:case 4:var p=i.stateNode.containerInfo,n=dc(e);Jo(e,n,p);break;default:throw Error(K(161))}}catch(u){ge(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i_(e,t,r){Q=e,Wh(e)}function Wh(e,t,r){for(var i=(e.mode&1)!==0;Q!==null;){var s=Q,h=s.child;if(s.tag===22&&i){var p=s.memoizedState!==null||fs;if(!p){var n=s.alternate,u=n!==null&&n.memoizedState!==null||Ae;n=fs;var f=Ae;if(fs=p,(Ae=u)&&!f)for(Q=s;Q!==null;)p=Q,u=p.child,p.tag===22&&p.memoizedState!==null?gc(s):u!==null?(u.return=p,Q=u):gc(s);for(;h!==null;)Q=h,Wh(h),h=h.sibling;Q=s,fs=n,Ae=f}pc(e)}else s.subtreeFlags&8772&&h!==null?(h.return=s,Q=h):pc(e)}}function pc(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||gn(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ae)if(r===null)i.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:st(t.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Ja(t,h,i);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ja(t,p,r)}break;case 5:var n=t.stateNode;if(r===null&&t.flags&4){r=n;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var y=f.memoizedState;if(y!==null){var d=y.dehydrated;d!==null&&Pi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Ae||t.flags&512&&Yo(t)}catch(g){ge(t,t.return,g)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function _c(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function gc(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gn(4,t)}catch(u){ge(t,r,u)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(u){ge(t,s,u)}}var h=t.return;try{Yo(t)}catch(u){ge(t,h,u)}break;case 5:var p=t.return;try{Yo(t)}catch(u){ge(t,p,u)}}}catch(u){ge(t,t.return,u)}if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}var s_=Math.ceil,Ys=Rt.ReactCurrentDispatcher,Jl=Rt.ReactCurrentOwner,et=Rt.ReactCurrentBatchConfig,se=0,xe=null,ve=null,Le=0,Ue=0,Tr=Yt(0),we=0,Ui=null,ur=0,mn=0,Zl=0,bi=null,je=null,ea=0,$r=1/0,yt=null,Js=!1,el=null,$t=null,ps=!1,jt=null,Zs=0,ki=0,tl=null,Ds=-1,Ts=0;function Oe(){return se&6?me():Ds!==-1?Ds:Ds=me()}function Vt(e){return e.mode&1?se&2&&Le!==0?Le&-Le:zp.transition!==null?(Ts===0&&(Ts=Eu()),Ts):(e=oe,e!==0||(e=window.event,e=e===void 0?16:Mu(e.type)),e):1}function ct(e,t,r,i){if(50<ki)throw ki=0,tl=null,Error(K(185));qi(e,r,i),(!(se&2)||e!==xe)&&(e===xe&&(!(se&2)&&(mn|=r),we===4&&It(e,Le)),We(e,i),r===1&&se===0&&!(t.mode&1)&&($r=me()+500,fn&&Jt()))}function We(e,t){var r=e.callbackNode;zf(e,t);var i=Is(e,e===xe?Le:0);if(i===0)r!==null&&ka(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&ka(r),t===1)e.tag===0?Fp(mc.bind(null,e)):Ju(mc.bind(null,e)),Ip(function(){!(se&6)&&Jt()}),r=null;else{switch(Lu(i)){case 1:r=El;break;case 4:r=bu;break;case 16:r=Bs;break;case 536870912:r=ku;break;default:r=Bs}r=Qh(r,Uh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Uh(e,t){if(Ds=-1,Ts=0,se&6)throw Error(K(327));var r=e.callbackNode;if(Nr()&&e.callbackNode!==r)return null;var i=Is(e,e===xe?Le:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=en(e,i);else{t=i;var s=se;se|=2;var h=Vh();(xe!==e||Le!==t)&&(yt=null,$r=me()+500,nr(e,t));do try{l_();break}catch(n){$h(e,n)}while(!0);Hl(),Ys.current=h,se=s,ve!==null?t=0:(xe=null,Le=0,t=we)}if(t!==0){if(t===2&&(s=Ro(e),s!==0&&(i=s,t=rl(e,s))),t===1)throw r=Ui,nr(e,0),It(e,i),We(e,me()),r;if(t===6)It(e,i);else{if(s=e.current.alternate,!(i&30)&&!n_(s)&&(t=en(e,i),t===2&&(h=Ro(e),h!==0&&(i=h,t=rl(e,h))),t===1))throw r=Ui,nr(e,0),It(e,i),We(e,me()),r;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(K(345));case 2:tr(e,je,yt);break;case 3:if(It(e,i),(i&130023424)===i&&(t=ea+500-me(),10<t)){if(Is(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){Oe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Io(tr.bind(null,e,je,yt),t);break}tr(e,je,yt);break;case 4:if(It(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var p=31-at(i);h=1<<p,p=t[p],p>s&&(s=p),i&=~h}if(i=s,i=me()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*s_(i/1960))-i,10<i){e.timeoutHandle=Io(tr.bind(null,e,je,yt),i);break}tr(e,je,yt);break;case 5:tr(e,je,yt);break;default:throw Error(K(329))}}}return We(e,me()),e.callbackNode===r?Uh.bind(null,e):null}function rl(e,t){var r=bi;return e.current.memoizedState.isDehydrated&&(nr(e,t).flags|=256),e=en(e,t),e!==2&&(t=je,je=r,t!==null&&il(t)),e}function il(e){je===null?je=e:je.push.apply(je,e)}function n_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],h=s.getSnapshot;s=s.value;try{if(!ht(h(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~Zl,t&=~mn,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-at(t),i=1<<r;e[r]=-1,t&=~i}}function mc(e){if(se&6)throw Error(K(327));Nr();var t=Is(e,0);if(!(t&1))return We(e,me()),null;var r=en(e,t);if(e.tag!==0&&r===2){var i=Ro(e);i!==0&&(t=i,r=rl(e,i))}if(r===1)throw r=Ui,nr(e,0),It(e,t),We(e,me()),r;if(r===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tr(e,je,yt),We(e,me()),null}function ta(e,t){var r=se;se|=1;try{return e(t)}finally{se=r,se===0&&($r=me()+500,fn&&Jt())}}function hr(e){jt!==null&&jt.tag===0&&!(se&6)&&Nr();var t=se;se|=1;var r=et.transition,i=oe;try{if(et.transition=null,oe=1,e)return e()}finally{oe=i,et.transition=r,se=t,!(se&6)&&Jt()}}function ra(){Ue=Tr.current,ue(Tr)}function nr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Bp(r)),ve!==null)for(r=ve.return;r!==null;){var i=r;switch(Il(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&zs();break;case 3:Wr(),ue(Fe),ue(Pe),Vl();break;case 5:$l(i);break;case 4:Wr();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:Fl(i.type._context);break;case 22:case 23:ra()}r=r.return}if(xe=e,ve=e=Kt(e.current,null),Le=Ue=t,we=0,Ui=null,Zl=mn=ur=0,je=bi=null,ir!==null){for(t=0;t<ir.length;t++)if(r=ir[t],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,h=r.pending;if(h!==null){var p=h.next;h.next=s,i.next=p}r.pending=i}ir=null}return e}function $h(e,t){do{var r=ve;try{if(Hl(),Es.current=Qs,Xs){for(var i=pe.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Xs=!1}if(cr=0,Ce=Se=pe=null,Ci=!1,Fi=0,Jl.current=null,r===null||r.return===null){we=1,Ui=t,ve=null;break}e:{var h=e,p=r.return,n=r,u=t;if(t=Le,n.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,y=n,d=y.tag;if(!(y.mode&1)&&(d===0||d===11||d===15)){var g=y.alternate;g?(y.updateQueue=g.updateQueue,y.memoizedState=g.memoizedState,y.lanes=g.lanes):(y.updateQueue=null,y.memoizedState=null)}var w=sc(p);if(w!==null){w.flags&=-257,nc(w,p,n,h,t),w.mode&1&&ic(h,f,t),t=w,u=f;var C=t.updateQueue;if(C===null){var v=new Set;v.add(u),t.updateQueue=v}else C.add(u);break e}else{if(!(t&1)){ic(h,f,t),ia();break e}u=Error(K(426))}}else if(he&&n.mode&1){var l=sc(p);if(l!==null){!(l.flags&65536)&&(l.flags|=256),nc(l,p,n,h,t),Nl(Ur(u,n));break e}}h=u=Ur(u,n),we!==4&&(we=2),bi===null?bi=[h]:bi.push(h),h=p;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var a=Lh(h,u,t);Ya(h,a);break e;case 1:n=u;var o=h.type,c=h.stateNode;if(!(h.flags&128)&&(typeof o.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&($t===null||!$t.has(c)))){h.flags|=65536,t&=-t,h.lanes|=t;var _=Rh(h,n,t);Ya(h,_);break e}}h=h.return}while(h!==null)}qh(r)}catch(S){t=S,ve===r&&r!==null&&(ve=r=r.return);continue}break}while(!0)}function Vh(){var e=Ys.current;return Ys.current=Qs,e===null?Qs:e}function ia(){(we===0||we===3||we===2)&&(we=4),xe===null||!(ur&268435455)&&!(mn&268435455)||It(xe,Le)}function en(e,t){var r=se;se|=2;var i=Vh();(xe!==e||Le!==t)&&(yt=null,nr(e,t));do try{o_();break}catch(s){$h(e,s)}while(!0);if(Hl(),se=r,Ys.current=i,ve!==null)throw Error(K(261));return xe=null,Le=0,we}function o_(){for(;ve!==null;)Kh(ve)}function l_(){for(;ve!==null&&!Pf();)Kh(ve)}function Kh(e){var t=Xh(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,t===null?qh(e):ve=t,Jl.current=null}function qh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=e_(r,t),r!==null){r.flags&=32767,ve=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ve=null;return}}else if(r=Zp(r,t,Ue),r!==null){ve=r;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);we===0&&(we=5)}function tr(e,t,r){var i=oe,s=et.transition;try{et.transition=null,oe=1,a_(e,t,r,i)}finally{et.transition=s,oe=i}return null}function a_(e,t,r,i){do Nr();while(jt!==null);if(se&6)throw Error(K(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var h=r.lanes|r.childLanes;if(Wf(e,h),e===xe&&(ve=xe=null,Le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ps||(ps=!0,Qh(Bs,function(){return Nr(),null})),h=(r.flags&15990)!==0,r.subtreeFlags&15990||h){h=et.transition,et.transition=null;var p=oe;oe=1;var n=se;se|=4,Jl.current=null,r_(e,r),zh(r,e),Rp(Oo),Ns=!!Mo,Oo=Mo=null,e.current=r,i_(r),Mf(),se=n,oe=p,et.transition=h}else e.current=r;if(ps&&(ps=!1,jt=e,Zs=s),h=e.pendingLanes,h===0&&($t=null),If(r.stateNode),We(e,me()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(Js)throw Js=!1,e=el,el=null,e;return Zs&1&&e.tag!==0&&Nr(),h=e.pendingLanes,h&1?e===tl?ki++:(ki=0,tl=e):ki=0,Jt(),null}function Nr(){if(jt!==null){var e=Lu(Zs),t=et.transition,r=oe;try{if(et.transition=null,oe=16>e?16:e,jt===null)var i=!1;else{if(e=jt,jt=null,Zs=0,se&6)throw Error(K(331));var s=se;for(se|=4,Q=e.current;Q!==null;){var h=Q,p=h.child;if(Q.flags&16){var n=h.deletions;if(n!==null){for(var u=0;u<n.length;u++){var f=n[u];for(Q=f;Q!==null;){var y=Q;switch(y.tag){case 0:case 11:case 15:xi(8,y,h)}var d=y.child;if(d!==null)d.return=y,Q=d;else for(;Q!==null;){y=Q;var g=y.sibling,w=y.return;if(jh(y),y===f){Q=null;break}if(g!==null){g.return=w,Q=g;break}Q=w}}}var C=h.alternate;if(C!==null){var v=C.child;if(v!==null){C.child=null;do{var l=v.sibling;v.sibling=null,v=l}while(v!==null)}}Q=h}}if(h.subtreeFlags&2064&&p!==null)p.return=h,Q=p;else e:for(;Q!==null;){if(h=Q,h.flags&2048)switch(h.tag){case 0:case 11:case 15:xi(9,h,h.return)}var a=h.sibling;if(a!==null){a.return=h.return,Q=a;break e}Q=h.return}}var o=e.current;for(Q=o;Q!==null;){p=Q;var c=p.child;if(p.subtreeFlags&2064&&c!==null)c.return=p,Q=c;else e:for(p=o;Q!==null;){if(n=Q,n.flags&2048)try{switch(n.tag){case 0:case 11:case 15:gn(9,n)}}catch(S){ge(n,n.return,S)}if(n===p){Q=null;break e}var _=n.sibling;if(_!==null){_.return=n.return,Q=_;break e}Q=n.return}}if(se=s,Jt(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(an,e)}catch{}i=!0}return i}finally{oe=r,et.transition=t}}return!1}function vc(e,t,r){t=Ur(r,t),t=Lh(e,t,1),e=Ut(e,t,1),t=Oe(),e!==null&&(qi(e,1,t),We(e,t))}function ge(e,t,r){if(e.tag===3)vc(e,e,r);else for(;t!==null;){if(t.tag===3){vc(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&($t===null||!$t.has(i))){e=Ur(r,e),e=Rh(t,e,1),t=Ut(t,e,1),e=Oe(),t!==null&&(qi(t,1,e),We(t,e));break}}t=t.return}}function c_(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Oe(),e.pingedLanes|=e.suspendedLanes&r,xe===e&&(Le&r)===r&&(we===4||we===3&&(Le&130023424)===Le&&500>me()-ea?nr(e,0):Zl|=r),We(e,t)}function Gh(e,t){t===0&&(e.mode&1?(t=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):t=1);var r=Oe();e=Et(e,t),e!==null&&(qi(e,t,r),We(e,r))}function u_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gh(e,r)}function h_(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(K(314))}i!==null&&i.delete(t),Gh(e,r)}var Xh;Xh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)He=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return He=!1,Jp(e,t,r);He=!!(e.flags&131072)}else He=!1,he&&t.flags&1048576&&Zu(t,$s,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Rs(e,t),e=t.pendingProps;var s=Hr(t,Pe.current);Ir(t,r),s=ql(null,t,i,e,s,r);var h=Gl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(i)?(h=!0,Ws(t)):h=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wl(t),s.updater=_n,t.stateNode=s,s._reactInternals=t,Uo(t,i,e,r),t=Ko(null,t,i,!0,h,r)):(t.tag=0,he&&h&&Bl(t),Me(null,t,s,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Rs(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=f_(i),e=st(i,e),s){case 0:t=Vo(null,t,i,e,r);break e;case 1:t=ac(null,t,i,e,r);break e;case 11:t=oc(null,t,i,e,r);break e;case 14:t=lc(null,t,i,st(i.type,e),r);break e}throw Error(K(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:st(i,s),Vo(e,t,i,s,r);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:st(i,s),ac(e,t,i,s,r);case 3:e:{if(Ph(t),e===null)throw Error(K(387));i=t.pendingProps,h=t.memoizedState,s=h.element,nh(e,t),qs(t,i,null,r);var p=t.memoizedState;if(i=p.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){s=Ur(Error(K(423)),t),t=cc(e,t,i,r,s);break e}else if(i!==s){s=Ur(Error(K(424)),t),t=cc(e,t,i,r,s);break e}else for(Ve=Wt(t.stateNode.containerInfo.firstChild),Ke=t,he=!0,ot=null,r=ih(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fr(),i===s){t=Lt(e,t,r);break e}Me(e,t,i,r)}t=t.child}return t;case 5:return oh(t),e===null&&Fo(t),i=t.type,s=t.pendingProps,h=e!==null?e.memoizedProps:null,p=s.children,Bo(i,s)?p=null:h!==null&&Bo(i,h)&&(t.flags|=32),Ah(e,t),Me(e,t,p,r),t.child;case 6:return e===null&&Fo(t),null;case 13:return Mh(e,t,r);case 4:return Ul(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=zr(t,null,i,r):Me(e,t,i,r),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:st(i,s),oc(e,t,i,s,r);case 7:return Me(e,t,t.pendingProps,r),t.child;case 8:return Me(e,t,t.pendingProps.children,r),t.child;case 12:return Me(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,h=t.memoizedProps,p=s.value,le(Vs,i._currentValue),i._currentValue=p,h!==null)if(ht(h.value,p)){if(h.children===s.children&&!Fe.current){t=Lt(e,t,r);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var n=h.dependencies;if(n!==null){p=h.child;for(var u=n.firstContext;u!==null;){if(u.context===i){if(h.tag===1){u=xt(-1,r&-r),u.tag=2;var f=h.updateQueue;if(f!==null){f=f.shared;var y=f.pending;y===null?u.next=u:(u.next=y.next,y.next=u),f.pending=u}}h.lanes|=r,u=h.alternate,u!==null&&(u.lanes|=r),zo(h.return,r,t),n.lanes|=r;break}u=u.next}}else if(h.tag===10)p=h.type===t.type?null:h.child;else if(h.tag===18){if(p=h.return,p===null)throw Error(K(341));p.lanes|=r,n=p.alternate,n!==null&&(n.lanes|=r),zo(p,r,t),p=h.sibling}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}Me(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Ir(t,r),s=tt(s),i=i(s),t.flags|=1,Me(e,t,i,r),t.child;case 14:return i=t.type,s=st(i,t.pendingProps),s=st(i.type,s),lc(e,t,i,s,r);case 15:return Dh(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:st(i,s),Rs(e,t),t.tag=1,ze(i)?(e=!0,Ws(t)):e=!1,Ir(t,r),Eh(t,i,s),Uo(t,i,s,r),Ko(null,t,i,!0,e,r);case 19:return Oh(e,t,r);case 22:return Th(e,t,r)}throw Error(K(156,t.tag))};function Qh(e,t){return xu(e,t)}function d_(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,r,i){return new d_(e,t,r,i)}function sa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f_(e){if(typeof e=="function")return sa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xl)return 11;if(e===bl)return 14}return 2}function Kt(e,t){var r=e.alternate;return r===null?(r=Ze(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function As(e,t,r,i,s,h){var p=2;if(i=e,typeof e=="function")sa(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case Sr:return or(r.children,s,h,t);case Cl:p=8,s|=8;break;case fo:return e=Ze(12,r,t,s|2),e.elementType=fo,e.lanes=h,e;case po:return e=Ze(13,r,t,s),e.elementType=po,e.lanes=h,e;case _o:return e=Ze(19,r,t,s),e.elementType=_o,e.lanes=h,e;case ou:return vn(r,s,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case su:p=10;break e;case nu:p=9;break e;case xl:p=11;break e;case bl:p=14;break e;case Mt:p=16,i=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Ze(p,r,t,s),t.elementType=e,t.type=i,t.lanes=h,t}function or(e,t,r,i){return e=Ze(7,e,i,t),e.lanes=r,e}function vn(e,t,r,i){return e=Ze(22,e,i,t),e.elementType=ou,e.lanes=r,e.stateNode={isHidden:!1},e}function ro(e,t,r){return e=Ze(6,e,null,t),e.lanes=r,e}function io(e,t,r){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p_(e,t,r,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nn(0),this.expirationTimes=Nn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function na(e,t,r,i,s,h,p,n,u){return e=new p_(e,t,r,n,u),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Ze(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wl(h),e}function __(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Yh(e){if(!e)return Xt;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var r=e.type;if(ze(r))return Yu(e,r,t)}return t}function Jh(e,t,r,i,s,h,p,n,u){return e=na(r,i,!0,e,s,h,p,n,u),e.context=Yh(null),r=e.current,i=Oe(),s=Vt(r),h=xt(i,s),h.callback=t!=null?t:null,Ut(r,h,s),e.current.lanes=s,qi(e,s,i),We(e,i),e}function yn(e,t,r,i){var s=t.current,h=Oe(),p=Vt(s);return r=Yh(r),t.context===null?t.context=r:t.pendingContext=r,t=xt(h,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Ut(s,t,p),e!==null&&(ct(e,s,p,h),ks(e,s,p)),p}function tn(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function oa(e,t){yc(e,t),(e=e.alternate)&&yc(e,t)}function g_(){return null}var Zh=typeof reportError=="function"?reportError:function(e){console.error(e)};function la(e){this._internalRoot=e}Sn.prototype.render=la.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));yn(e,t,null,null)};Sn.prototype.unmount=la.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hr(function(){yn(null,e,null,null)}),t[kt]=null}};function Sn(e){this._internalRoot=e}Sn.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bt.length&&t!==0&&t<Bt[r].priority;r++);Bt.splice(r,0,e),r===0&&Pu(e)}};function aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wn(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sc(){}function m_(e,t,r,i,s){if(s){if(typeof i=="function"){var h=i;i=function(){var f=tn(p);h.call(f)}}var p=Jh(t,i,e,0,null,!1,!1,"",Sc);return e._reactRootContainer=p,e[kt]=p.current,Bi(e.nodeType===8?e.parentNode:e),hr(),p}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var n=i;i=function(){var f=tn(u);n.call(f)}}var u=na(e,0,!1,null,null,!1,!1,"",Sc);return e._reactRootContainer=u,e[kt]=u.current,Bi(e.nodeType===8?e.parentNode:e),hr(function(){yn(t,u,r,i)}),u}function Cn(e,t,r,i,s){var h=r._reactRootContainer;if(h){var p=h;if(typeof s=="function"){var n=s;s=function(){var u=tn(p);n.call(u)}}yn(t,p,e,s)}else p=m_(r,t,e,s,i);return tn(p)}Ru=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=di(t.pendingLanes);r!==0&&(Ll(t,r|1),We(t,me()),!(se&6)&&($r=me()+500,Jt()))}break;case 13:hr(function(){var i=Et(e,1);if(i!==null){var s=Oe();ct(i,e,1,s)}}),oa(e,1)}};Rl=function(e){if(e.tag===13){var t=Et(e,134217728);if(t!==null){var r=Oe();ct(t,e,134217728,r)}oa(e,134217728)}};Du=function(e){if(e.tag===13){var t=Vt(e),r=Et(e,t);if(r!==null){var i=Oe();ct(r,e,t,i)}oa(e,t)}};Tu=function(){return oe};Au=function(e,t){var r=oe;try{return oe=e,t()}finally{oe=r}};ko=function(e,t,r){switch(t){case"input":if(vo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var s=dn(i);if(!s)throw Error(K(90));au(i),vo(i,s)}}}break;case"textarea":uu(e,r);break;case"select":t=r.value,t!=null&&Pr(e,!!r.multiple,t,!1)}};mu=ta;vu=hr;var v_={usingClientEntryPoint:!1,Events:[Xi,br,dn,_u,gu,ta]},ai={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y_={bundleType:ai.bundleType,version:ai.version,rendererPackageName:ai.rendererPackageName,rendererConfig:ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wu(e),e===null?null:e.stateNode},findFiberByHostInstance:ai.findFiberByHostInstance||g_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_s.isDisabled&&_s.supportsFiber)try{an=_s.inject(y_),gt=_s}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v_;Ge.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aa(t))throw Error(K(200));return __(e,t,null,r)};Ge.createRoot=function(e,t){if(!aa(e))throw Error(K(299));var r=!1,i="",s=Zh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=na(e,1,!1,null,null,r,!1,i,s),e[kt]=t.current,Bi(e.nodeType===8?e.parentNode:e),new la(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=wu(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return hr(e)};Ge.hydrate=function(e,t,r){if(!wn(t))throw Error(K(200));return Cn(null,e,t,!0,r)};Ge.hydrateRoot=function(e,t,r){if(!aa(e))throw Error(K(405));var i=r!=null&&r.hydratedSources||null,s=!1,h="",p=Zh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=Jh(t,null,e,1,r!=null?r:null,s,!1,h,p),e[kt]=t.current,Bi(e),i)for(e=0;e<i.length;e++)r=i[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Sn(t)};Ge.render=function(e,t,r){if(!wn(t))throw Error(K(200));return Cn(null,e,t,!1,r)};Ge.unmountComponentAtNode=function(e){if(!wn(e))throw Error(K(40));return e._reactRootContainer?(hr(function(){Cn(null,null,e,!1,function(){e._reactRootContainer=null,e[kt]=null})}),!0):!1};Ge.unstable_batchedUpdates=ta;Ge.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!wn(r))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Cn(e,t,r,!1,i)};Ge.version="18.3.1-next-f1338f8080-20240426";function ed(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ed)}catch(e){console.error(e)}}ed(),eu.exports=Ge;var S_=eu.exports,td,wc=S_;td=wc.createRoot,wc.hydrateRoot;function w_(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function sl(e,t=!1){const r=w_(),i=`_${r}`;return Object.defineProperty(window,i,{value:s=>(t&&Reflect.deleteProperty(window,i),e==null?void 0:e(s)),writable:!1,configurable:!0}),r}async function Ee(e,t={}){return new Promise((r,i)=>{const s=sl(p=>{r(p),Reflect.deleteProperty(window,`_${h}`)},!0),h=sl(p=>{i(p),Reflect.deleteProperty(window,`_${s}`)},!0);window.__TAURI_IPC__({cmd:e,callback:s,error:h,...t})})}const C_={},Cc=e=>{let t;const r=new Set,i=(y,d)=>{const g=typeof y=="function"?y(t):y;if(!Object.is(g,t)){const w=t;t=(d!=null?d:typeof g!="object"||g===null)?g:Object.assign({},t,g),r.forEach(C=>C(t,w))}},s=()=>t,u={setState:i,getState:s,getInitialState:()=>f,subscribe:y=>(r.add(y),()=>r.delete(y)),destroy:()=>{(C_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},f=t=e(i,s,u);return u},x_=e=>e?Cc(e):Cc;var rd={exports:{}},id={},sd={exports:{}},nd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=W;function b_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k_=typeof Object.is=="function"?Object.is:b_,E_=Vr.useState,L_=Vr.useEffect,R_=Vr.useLayoutEffect,D_=Vr.useDebugValue;function T_(e,t){var r=t(),i=E_({inst:{value:r,getSnapshot:t}}),s=i[0].inst,h=i[1];return R_(function(){s.value=r,s.getSnapshot=t,so(s)&&h({inst:s})},[e,r,t]),L_(function(){return so(s)&&h({inst:s}),e(function(){so(s)&&h({inst:s})})},[e]),D_(r),r}function so(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!k_(e,r)}catch{return!0}}function A_(e,t){return t()}var P_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A_:T_;nd.useSyncExternalStore=Vr.useSyncExternalStore!==void 0?Vr.useSyncExternalStore:P_;sd.exports=nd;var M_=sd.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xn=W,O_=M_;function B_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I_=typeof Object.is=="function"?Object.is:B_,N_=O_.useSyncExternalStore,j_=xn.useRef,H_=xn.useEffect,F_=xn.useMemo,z_=xn.useDebugValue;id.useSyncExternalStoreWithSelector=function(e,t,r,i,s){var h=j_(null);if(h.current===null){var p={hasValue:!1,value:null};h.current=p}else p=h.current;h=F_(function(){function u(w){if(!f){if(f=!0,y=w,w=i(w),s!==void 0&&p.hasValue){var C=p.value;if(s(C,w))return d=C}return d=w}if(C=d,I_(y,w))return C;var v=i(w);return s!==void 0&&s(C,v)?(y=w,C):(y=w,d=v)}var f=!1,y,d,g=r===void 0?null:r;return[function(){return u(t())},g===null?void 0:function(){return u(g())}]},[t,r,i,s]);var n=N_(e,h[0],h[1]);return H_(function(){p.hasValue=!0,p.value=n},[n]),z_(n),n};rd.exports=id;var W_=rd.exports;const U_=Wc(W_),od={},{useDebugValue:$_}=lt,{useSyncExternalStoreWithSelector:V_}=U_;let xc=!1;const K_=e=>e;function q_(e,t=K_,r){(od?"production":void 0)!=="production"&&r&&!xc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),xc=!0);const i=V_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return $_(i),i}const bc=e=>{(od?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?x_(e):e,r=(i,s)=>q_(t,i,s);return Object.assign(r,t),r},bn=e=>e?bc(e):bc,dr=bn((e,t)=>({connections:[],selectedConnection:null,isLoading:!1,error:null,fetchConnections:async r=>{e({isLoading:!0,error:null});try{const s=(await Ee("list_connections",{groupId:r})).map(h=>{const p=JSON.parse(h.config);return{id:h.id,name:h.name,type:h.type,group_id:h.group_id||void 0,config:p,created_at:h.created_at,updated_at:h.updated_at}});e({connections:s,isLoading:!1})}catch(i){e({error:i instanceof Error?i.message:"Failed to fetch connections",isLoading:!1})}},addConnection:async r=>{e({isLoading:!0,error:null});try{const i=JSON.stringify(r.config),s=await Ee("create_connection",{name:r.name,connectionType:r.type,groupId:r.group_id,configJson:i});return await t().fetchConnections(),e({isLoading:!1}),s}catch(i){throw e({error:i instanceof Error?i.message:"Failed to create connection",isLoading:!1}),i}},updateConnection:async(r,i)=>{e({isLoading:!0,error:null});try{const s=JSON.stringify(i.config);await Ee("update_connection",{id:r,name:i.name,connectionType:i.type,groupId:i.group_id,configJson:s}),await t().fetchConnections(),e({isLoading:!1})}catch(s){throw e({error:s instanceof Error?s.message:"Failed to update connection",isLoading:!1}),s}},deleteConnection:async r=>{e({isLoading:!0,error:null});try{await Ee("delete_connection",{id:r}),await t().fetchConnections(),e({isLoading:!1})}catch(i){throw e({error:i instanceof Error?i.message:"Failed to delete connection",isLoading:!1}),i}},setSelectedConnection:r=>{console.log(" Store: setSelectedConnection ",r==null?void 0:r.name),e({selectedConnection:r}),console.log(" Store: selectedConnection ")},exportConnections:async()=>{try{return await Ee("export_connections")}catch(r){throw e({error:r instanceof Error?r.message:"Failed to export connections"}),r}},importConnections:async r=>{e({isLoading:!0,error:null});try{const i=await Ee("import_connections",{json:r});return await t().fetchConnections(),e({isLoading:!1}),i}catch(i){throw e({error:i instanceof Error?i.message:"Failed to import connections",isLoading:!1}),i}},clearError:()=>{e({error:null})}}));/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const r=W.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:h=2,absoluteStrokeWidth:p,className:n="",children:u,...f},y)=>W.createElement("svg",{ref:y,...G_,width:s,height:s,stroke:i,strokeWidth:p?Number(h)*24/Number(s):h,className:["lucide",`lucide-${X_(e)}`,n].join(" "),...f},[...t.map(([d,g])=>W.createElement(d,g)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=ae("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=ae("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=ae("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=ae("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ae("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=ae("SplitSquareHorizontal",[["path",{d:"M8 19H5c-1 0-2-1-2-2V7c0-1 1-2 2-2h3",key:"lubmu8"}],["path",{d:"M16 5h3c1 0 2 1 2 2v10c0 1-1 2-2 2h-3",key:"1ag34g"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=ae("SplitSquareVertical",[["path",{d:"M5 8V5c0-1 1-2 2-2h10c1 0 2 1 2 2v3",key:"1pi83i"}],["path",{d:"M19 16v3c0 1-1 2-2 2H7c-1 0-2-1-2-2v-3",key:"ido5k7"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=ae("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ae("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ae("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function fd(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=fd(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function pd(){for(var e,t,r=0,i="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=fd(e))&&(i&&(i+=" "),i+=t);return i}const ug=(e,t)=>{const r=new Array(e.length+t.length);for(let i=0;i<e.length;i++)r[i]=e[i];for(let i=0;i<t.length;i++)r[e.length+i]=t[i];return r},hg=(e,t)=>({classGroupId:e,validator:t}),_d=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),sn="-",kc=[],dg="arbitrary..",fg=e=>{const t=_g(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:p=>{if(p.startsWith("[")&&p.endsWith("]"))return pg(p);const n=p.split(sn),u=n[0]===""&&n.length>1?1:0;return gd(n,u,t)},getConflictingClassGroupIds:(p,n)=>{if(n){const u=i[p],f=r[p];return u?f?ug(f,u):u:f||kc}return r[p]||kc}}},gd=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],h=r.nextPart.get(s);if(h){const f=gd(e,t+1,h);if(f)return f}const p=r.validators;if(p===null)return;const n=t===0?e.join(sn):e.slice(t).join(sn),u=p.length;for(let f=0;f<u;f++){const y=p[f];if(y.validator(n))return y.classGroupId}},pg=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),i=t.slice(0,r);return i?dg+i:void 0})(),_g=e=>{const{theme:t,classGroups:r}=e;return gg(r,t)},gg=(e,t)=>{const r=_d();for(const i in e){const s=e[i];ua(s,r,i,t)}return r},ua=(e,t,r,i)=>{const s=e.length;for(let h=0;h<s;h++){const p=e[h];mg(p,t,r,i)}},mg=(e,t,r,i)=>{if(typeof e=="string"){vg(e,t,r);return}if(typeof e=="function"){yg(e,t,r,i);return}Sg(e,t,r,i)},vg=(e,t,r)=>{const i=e===""?t:md(t,e);i.classGroupId=r},yg=(e,t,r,i)=>{if(wg(e)){ua(e(i),t,r,i);return}t.validators===null&&(t.validators=[]),t.validators.push(hg(r,e))},Sg=(e,t,r,i)=>{const s=Object.entries(e),h=s.length;for(let p=0;p<h;p++){const[n,u]=s[p];ua(u,md(t,n),r,i)}},md=(e,t)=>{let r=e;const i=t.split(sn),s=i.length;for(let h=0;h<s;h++){const p=i[h];let n=r.nextPart.get(p);n||(n=_d(),r.nextPart.set(p,n)),r=n}return r},wg=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Cg=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),i=Object.create(null);const s=(h,p)=>{r[h]=p,t++,t>e&&(t=0,i=r,r=Object.create(null))};return{get(h){let p=r[h];if(p!==void 0)return p;if((p=i[h])!==void 0)return s(h,p),p},set(h,p){h in r?r[h]=p:s(h,p)}}},al="!",Ec=":",xg=[],Lc=(e,t,r,i,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:i,isExternal:s}),bg=e=>{const{prefix:t,experimentalParseClassName:r}=e;let i=s=>{const h=[];let p=0,n=0,u=0,f;const y=s.length;for(let v=0;v<y;v++){const l=s[v];if(p===0&&n===0){if(l===Ec){h.push(s.slice(u,v)),u=v+1;continue}if(l==="/"){f=v;continue}}l==="["?p++:l==="]"?p--:l==="("?n++:l===")"&&n--}const d=h.length===0?s:s.slice(u);let g=d,w=!1;d.endsWith(al)?(g=d.slice(0,-1),w=!0):d.startsWith(al)&&(g=d.slice(1),w=!0);const C=f&&f>u?f-u:void 0;return Lc(h,w,g,C)};if(t){const s=t+Ec,h=i;i=p=>p.startsWith(s)?h(p.slice(s.length)):Lc(xg,!1,p,void 0,!0)}if(r){const s=i;i=h=>r({className:h,parseClassName:s})}return i},kg=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,i)=>{t.set(r,1e6+i)}),r=>{const i=[];let s=[];for(let h=0;h<r.length;h++){const p=r[h],n=p[0]==="[",u=t.has(p);n||u?(s.length>0&&(s.sort(),i.push(...s),s=[]),i.push(p)):s.push(p)}return s.length>0&&(s.sort(),i.push(...s)),i}},Eg=e=>({cache:Cg(e.cacheSize),parseClassName:bg(e),sortModifiers:kg(e),...fg(e)}),Lg=/\s+/,Rg=(e,t)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:h}=t,p=[],n=e.trim().split(Lg);let u="";for(let f=n.length-1;f>=0;f-=1){const y=n[f],{isExternal:d,modifiers:g,hasImportantModifier:w,baseClassName:C,maybePostfixModifierPosition:v}=r(y);if(d){u=y+(u.length>0?" "+u:u);continue}let l=!!v,a=i(l?C.substring(0,v):C);if(!a){if(!l){u=y+(u.length>0?" "+u:u);continue}if(a=i(C),!a){u=y+(u.length>0?" "+u:u);continue}l=!1}const o=g.length===0?"":g.length===1?g[0]:h(g).join(":"),c=w?o+al:o,_=c+a;if(p.indexOf(_)>-1)continue;p.push(_);const S=s(a,l);for(let x=0;x<S.length;++x){const b=S[x];p.push(c+b)}u=y+(u.length>0?" "+u:u)}return u},Dg=(...e)=>{let t=0,r,i,s="";for(;t<e.length;)(r=e[t++])&&(i=vd(r))&&(s&&(s+=" "),s+=i);return s},vd=e=>{if(typeof e=="string")return e;let t,r="";for(let i=0;i<e.length;i++)e[i]&&(t=vd(e[i]))&&(r&&(r+=" "),r+=t);return r},Tg=(e,...t)=>{let r,i,s,h;const p=u=>{const f=t.reduce((y,d)=>d(y),e());return r=Eg(f),i=r.cache.get,s=r.cache.set,h=n,n(u)},n=u=>{const f=i(u);if(f)return f;const y=Rg(u,r);return s(u,y),y};return h=p,(...u)=>h(Dg(...u))},Ag=[],ye=e=>{const t=r=>r[e]||Ag;return t.isThemeGetter=!0,t},yd=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Sd=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Pg=/^\d+\/\d+$/,Mg=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Og=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bg=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ig=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ng=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vr=e=>Pg.test(e),ee=e=>!!e&&!Number.isNaN(Number(e)),Pt=e=>!!e&&Number.isInteger(Number(e)),no=e=>e.endsWith("%")&&ee(e.slice(0,-1)),vt=e=>Mg.test(e),jg=()=>!0,Hg=e=>Og.test(e)&&!Bg.test(e),wd=()=>!1,Fg=e=>Ig.test(e),zg=e=>Ng.test(e),Wg=e=>!Y(e)&&!J(e),Ug=e=>Xr(e,bd,wd),Y=e=>yd.test(e),Zt=e=>Xr(e,kd,Hg),oo=e=>Xr(e,Gg,ee),Rc=e=>Xr(e,Cd,wd),$g=e=>Xr(e,xd,zg),gs=e=>Xr(e,Ed,Fg),J=e=>Sd.test(e),ci=e=>Qr(e,kd),Vg=e=>Qr(e,Xg),Dc=e=>Qr(e,Cd),Kg=e=>Qr(e,bd),qg=e=>Qr(e,xd),ms=e=>Qr(e,Ed,!0),Xr=(e,t,r)=>{const i=yd.exec(e);return i?i[1]?t(i[1]):r(i[2]):!1},Qr=(e,t,r=!1)=>{const i=Sd.exec(e);return i?i[1]?t(i[1]):r:!1},Cd=e=>e==="position"||e==="percentage",xd=e=>e==="image"||e==="url",bd=e=>e==="length"||e==="size"||e==="bg-size",kd=e=>e==="length",Gg=e=>e==="number",Xg=e=>e==="family-name",Ed=e=>e==="shadow",Qg=()=>{const e=ye("color"),t=ye("font"),r=ye("text"),i=ye("font-weight"),s=ye("tracking"),h=ye("leading"),p=ye("breakpoint"),n=ye("container"),u=ye("spacing"),f=ye("radius"),y=ye("shadow"),d=ye("inset-shadow"),g=ye("text-shadow"),w=ye("drop-shadow"),C=ye("blur"),v=ye("perspective"),l=ye("aspect"),a=ye("ease"),o=ye("animate"),c=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[..._(),J,Y],x=()=>["auto","hidden","clip","visible","scroll"],b=()=>["auto","contain","none"],m=()=>[J,Y,u],E=()=>[vr,"full","auto",...m()],D=()=>[Pt,"none","subgrid",J,Y],A=()=>["auto",{span:["full",Pt,J,Y]},Pt,J,Y],P=()=>[Pt,"auto",J,Y],B=()=>["auto","min","max","fr",J,Y],j=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],I=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...m()],z=()=>[vr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...m()],k=()=>[e,J,Y],T=()=>[..._(),Dc,Rc,{position:[J,Y]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",Kg,Ug,{size:[J,Y]}],H=()=>[no,ci,Zt],V=()=>["","none","full",f,J,Y],q=()=>["",ee,ci,Zt],G=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>[ee,no,Dc,Rc],N=()=>["","none",C,J,Y],$=()=>["none",ee,J,Y],U=()=>["none",ee,J,Y],Z=()=>[ee,J,Y],X=()=>[vr,"full",...m()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vt],breakpoint:[vt],color:[jg],container:[vt],"drop-shadow":[vt],ease:["in","out","in-out"],font:[Wg],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vt],shadow:[vt],spacing:["px",ee],text:[vt],"text-shadow":[vt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vr,Y,J,l]}],container:["container"],columns:[{columns:[ee,Y,J,n]}],"break-after":[{"break-after":c()}],"break-before":[{"break-before":c()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[Pt,"auto",J,Y]}],basis:[{basis:[vr,"full","auto",n,...m()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ee,vr,"auto","initial","none",Y]}],grow:[{grow:["",ee,J,Y]}],shrink:[{shrink:["",ee,J,Y]}],order:[{order:[Pt,"first","last","none",J,Y]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:m()}],"gap-x":[{"gap-x":m()}],"gap-y":[{"gap-y":m()}],"justify-content":[{justify:[...j(),"normal"]}],"justify-items":[{"justify-items":[...I(),"normal"]}],"justify-self":[{"justify-self":["auto",...I()]}],"align-content":[{content:["normal",...j()]}],"align-items":[{items:[...I(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...I(),{baseline:["","last"]}]}],"place-content":[{"place-content":j()}],"place-items":[{"place-items":[...I(),"baseline"]}],"place-self":[{"place-self":["auto",...I()]}],p:[{p:m()}],px:[{px:m()}],py:[{py:m()}],ps:[{ps:m()}],pe:[{pe:m()}],pt:[{pt:m()}],pr:[{pr:m()}],pb:[{pb:m()}],pl:[{pl:m()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":m()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":m()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[n,"screen",...z()]}],"min-w":[{"min-w":[n,"screen","none",...z()]}],"max-w":[{"max-w":[n,"screen","none","prose",{screen:[p]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",r,ci,Zt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,J,oo]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",no,Y]}],"font-family":[{font:[Vg,Y,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,J,Y]}],"line-clamp":[{"line-clamp":[ee,"none",J,oo]}],leading:[{leading:[h,...m()]}],"list-image":[{"list-image":["none",J,Y]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",J,Y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:k()}],"text-color":[{text:k()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[ee,"from-font","auto",J,Zt]}],"text-decoration-color":[{decoration:k()}],"underline-offset":[{"underline-offset":[ee,"auto",J,Y]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:m()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",J,Y]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",J,Y]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:T()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pt,J,Y],radial:["",J,Y],conic:[Pt,J,Y]},qg,$g]}],"bg-color":[{bg:k()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:k()}],"gradient-via":[{via:k()}],"gradient-to":[{to:k()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:k()}],"border-color-x":[{"border-x":k()}],"border-color-y":[{"border-y":k()}],"border-color-s":[{"border-s":k()}],"border-color-e":[{"border-e":k()}],"border-color-t":[{"border-t":k()}],"border-color-r":[{"border-r":k()}],"border-color-b":[{"border-b":k()}],"border-color-l":[{"border-l":k()}],"divide-color":[{divide:k()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ee,J,Y]}],"outline-w":[{outline:["",ee,ci,Zt]}],"outline-color":[{outline:k()}],shadow:[{shadow:["","none",y,ms,gs]}],"shadow-color":[{shadow:k()}],"inset-shadow":[{"inset-shadow":["none",d,ms,gs]}],"inset-shadow-color":[{"inset-shadow":k()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:k()}],"ring-offset-w":[{"ring-offset":[ee,Zt]}],"ring-offset-color":[{"ring-offset":k()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":k()}],"text-shadow":[{"text-shadow":["none",g,ms,gs]}],"text-shadow-color":[{"text-shadow":k()}],opacity:[{opacity:[ee,J,Y]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ee]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":k()}],"mask-image-linear-to-color":[{"mask-linear-to":k()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":k()}],"mask-image-t-to-color":[{"mask-t-to":k()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":k()}],"mask-image-r-to-color":[{"mask-r-to":k()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":k()}],"mask-image-b-to-color":[{"mask-b-to":k()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":k()}],"mask-image-l-to-color":[{"mask-l-to":k()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":k()}],"mask-image-x-to-color":[{"mask-x-to":k()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":k()}],"mask-image-y-to-color":[{"mask-y-to":k()}],"mask-image-radial":[{"mask-radial":[J,Y]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":k()}],"mask-image-radial-to-color":[{"mask-radial-to":k()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[ee]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":k()}],"mask-image-conic-to-color":[{"mask-conic-to":k()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:T()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",J,Y]}],filter:[{filter:["","none",J,Y]}],blur:[{blur:N()}],brightness:[{brightness:[ee,J,Y]}],contrast:[{contrast:[ee,J,Y]}],"drop-shadow":[{"drop-shadow":["","none",w,ms,gs]}],"drop-shadow-color":[{"drop-shadow":k()}],grayscale:[{grayscale:["",ee,J,Y]}],"hue-rotate":[{"hue-rotate":[ee,J,Y]}],invert:[{invert:["",ee,J,Y]}],saturate:[{saturate:[ee,J,Y]}],sepia:[{sepia:["",ee,J,Y]}],"backdrop-filter":[{"backdrop-filter":["","none",J,Y]}],"backdrop-blur":[{"backdrop-blur":N()}],"backdrop-brightness":[{"backdrop-brightness":[ee,J,Y]}],"backdrop-contrast":[{"backdrop-contrast":[ee,J,Y]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ee,J,Y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ee,J,Y]}],"backdrop-invert":[{"backdrop-invert":["",ee,J,Y]}],"backdrop-opacity":[{"backdrop-opacity":[ee,J,Y]}],"backdrop-saturate":[{"backdrop-saturate":[ee,J,Y]}],"backdrop-sepia":[{"backdrop-sepia":["",ee,J,Y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":m()}],"border-spacing-x":[{"border-spacing-x":m()}],"border-spacing-y":[{"border-spacing-y":m()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",J,Y]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ee,"initial",J,Y]}],ease:[{ease:["linear","initial",a,J,Y]}],delay:[{delay:[ee,J,Y]}],animate:[{animate:["none",o,J,Y]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,J,Y]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:$()}],"rotate-x":[{"rotate-x":$()}],"rotate-y":[{"rotate-y":$()}],"rotate-z":[{"rotate-z":$()}],scale:[{scale:U()}],"scale-x":[{"scale-x":U()}],"scale-y":[{"scale-y":U()}],"scale-z":[{"scale-z":U()}],"scale-3d":["scale-3d"],skew:[{skew:Z()}],"skew-x":[{"skew-x":Z()}],"skew-y":[{"skew-y":Z()}],transform:[{transform:[J,Y,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:X()}],"translate-x":[{"translate-x":X()}],"translate-y":[{"translate-y":X()}],"translate-z":[{"translate-z":X()}],"translate-none":["translate-none"],accent:[{accent:k()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:k()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",J,Y]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":m()}],"scroll-mx":[{"scroll-mx":m()}],"scroll-my":[{"scroll-my":m()}],"scroll-ms":[{"scroll-ms":m()}],"scroll-me":[{"scroll-me":m()}],"scroll-mt":[{"scroll-mt":m()}],"scroll-mr":[{"scroll-mr":m()}],"scroll-mb":[{"scroll-mb":m()}],"scroll-ml":[{"scroll-ml":m()}],"scroll-p":[{"scroll-p":m()}],"scroll-px":[{"scroll-px":m()}],"scroll-py":[{"scroll-py":m()}],"scroll-ps":[{"scroll-ps":m()}],"scroll-pe":[{"scroll-pe":m()}],"scroll-pt":[{"scroll-pt":m()}],"scroll-pr":[{"scroll-pr":m()}],"scroll-pb":[{"scroll-pb":m()}],"scroll-pl":[{"scroll-pl":m()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",J,Y]}],fill:[{fill:["none",...k()]}],"stroke-w":[{stroke:[ee,ci,Zt,oo]}],stroke:[{stroke:["none",...k()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Yg=Tg(Qg);function kn(...e){return Yg(pd(e))}function Tc(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Jg(...e){return t=>{let r=!1;const i=e.map(s=>{const h=Tc(s,t);return!r&&typeof h=="function"&&(r=!0),h});if(r)return()=>{for(let s=0;s<i.length;s++){const h=i[s];typeof h=="function"?h():Tc(e[s],null)}}}}var Zg=Symbol.for("react.lazy"),nn=cf[" use ".trim().toString()];function em(e){return typeof e=="object"&&e!==null&&"then"in e}function Ld(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Zg&&"_payload"in e&&em(e._payload)}function tm(e){const t=im(e),r=W.forwardRef((i,s)=>{let{children:h,...p}=i;Ld(h)&&typeof nn=="function"&&(h=nn(h._payload));const n=W.Children.toArray(h),u=n.find(nm);if(u){const f=u.props.children,y=n.map(d=>d===u?W.Children.count(f)>1?W.Children.only(null):W.isValidElement(f)?f.props.children:null:d);return L.jsx(t,{...p,ref:s,children:W.isValidElement(f)?W.cloneElement(f,void 0,y):null})}return L.jsx(t,{...p,ref:s,children:h})});return r.displayName=`${e}.Slot`,r}var rm=tm("Slot");function im(e){const t=W.forwardRef((r,i)=>{let{children:s,...h}=r;if(Ld(s)&&typeof nn=="function"&&(s=nn(s._payload)),W.isValidElement(s)){const p=lm(s),n=om(h,s.props);return s.type!==W.Fragment&&(n.ref=i?Jg(i,p):p),W.cloneElement(s,n)}return W.Children.count(s)>1?W.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sm=Symbol("radix.slottable");function nm(e){return W.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sm}function om(e,t){const r={...t};for(const i in t){const s=e[i],h=t[i];/^on[A-Z]/.test(i)?s&&h?r[i]=(...n)=>{const u=h(...n);return s(...n),u}:s&&(r[i]=s):i==="style"?r[i]={...s,...h}:i==="className"&&(r[i]=[s,h].filter(Boolean).join(" "))}return{...e,...r}}function lm(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Ac=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Pc=pd,am=(e,t)=>r=>{var i;if((t==null?void 0:t.variants)==null)return Pc(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:h}=t,p=Object.keys(s).map(f=>{const y=r==null?void 0:r[f],d=h==null?void 0:h[f];if(y===null)return null;const g=Ac(y)||Ac(d);return s[f][g]}),n=r&&Object.entries(r).reduce((f,y)=>{let[d,g]=y;return g===void 0||(f[d]=g),f},{}),u=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((f,y)=>{let{class:d,className:g,...w}=y;return Object.entries(w).every(C=>{let[v,l]=C;return Array.isArray(l)?l.includes({...h,...n}[v]):{...h,...n}[v]===l})?[...f,d,g]:f},[]);return Pc(e,p,u,r==null?void 0:r.class,r==null?void 0:r.className)},cm=am("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ut=W.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...s},h)=>{const p=i?rm:"button";return L.jsx(p,{className:kn(cm({variant:t,size:r,className:e})),ref:h,...s})});ut.displayName="Button";function um({onConnectionClick:e,onConnectionEdit:t,searchQuery:r=""}){const{connections:i,isLoading:s,error:h,fetchConnections:p,deleteConnection:n,selectedConnection:u}=dr();W.useEffect(()=>{if(!window.__TAURI__){console.log(" ");return}console.log("  Tauri "),p()},[p]);const f=!window.__TAURI__&&i.length===0?(console.log(" "),[{id:"mock-1",name:" SSH ",type:"ssh",config:{host:"localhost",port:22,username:"testuser",auth_method:"password",password:"password"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"mock-2",name:"",type:"mysql",config:{host:"localhost",port:3306,username:"root",database:"test",password:""},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]):i,y=f.filter(l=>{var S;if(!r)return!0;const a=r.toLowerCase(),o=l.name.toLowerCase(),c=l.type.toLowerCase(),_=l.config&&"host"in l.config&&((S=l.config.host)==null?void 0:S.toLowerCase())||"";return o.includes(a)||c.includes(a)||_.includes(a)}),d=l=>{switch(l){case"ssh":return L.jsx(fr,{className:"w-4 h-4"});case"mysql":case"postgresql":case"redis":return L.jsx(rn,{className:"w-4 h-4"});default:return L.jsx(dd,{className:"w-4 h-4"})}},g=l=>({ssh:"SSH",mysql:"MySQL",postgresql:"PostgreSQL",redis:"Redis",sqlite:"SQLite"})[l],w=async(l,a)=>{if(a.stopPropagation(),confirm(""))try{await n(l)}catch(o){console.error("Failed to delete connection:",o)}},C=(l,a)=>{a.stopPropagation(),t==null||t(l)},v=(l,a)=>{a.stopPropagation(),a.preventDefault(),console.log(":",l.name,l.type),alert(`: ${l.name}`),e==null||e(l)};return s?L.jsx("div",{className:"flex items-center justify-center h-full",children:L.jsx("div",{className:"text-muted-foreground",children:"..."})}):h?L.jsx("div",{className:"flex items-center justify-center h-full",children:L.jsxs("div",{className:"text-destructive",children:[": ",h]})}):f.length===0?L.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[L.jsx(fr,{className:"w-16 h-16 text-muted-foreground/50"}),L.jsxs("div",{className:"text-center space-y-2",children:[L.jsx("h3",{className:"font-medium text-foreground",children:""}),L.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]}):y.length===0&&r?L.jsx("div",{className:"flex items-center justify-center h-full",children:L.jsxs("div",{className:"text-center text-muted-foreground",children:[L.jsx("p",{children:""}),L.jsx("p",{className:"text-sm mt-1",children:""})]})}):L.jsx("div",{className:"space-y-2",children:f.length===0&&r?L.jsx("div",{className:"flex items-center justify-center h-full",children:L.jsxs("div",{className:"text-center text-muted-foreground",children:[L.jsx("p",{children:""}),L.jsx("p",{className:"text-sm mt-1",children:""})]})}):y.map(l=>L.jsxs("div",{onClick:()=>{console.log(":",l.name),e==null||e(l)},className:kn("flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent cursor-pointer transition-colors",(u==null?void 0:u.id)===l.id&&"border-primary bg-accent"),children:[L.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[L.jsx("div",{className:"text-muted-foreground",children:d(l.type)}),L.jsxs("div",{className:"flex-1 min-w-0",children:[L.jsx("div",{className:"font-medium truncate",children:l.name}),L.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[L.jsx("span",{children:g(l.type)}),l.config&&"host"in l.config&&L.jsxs(L.Fragment,{children:[L.jsx("span",{children:""}),L.jsxs("span",{className:"truncate",children:[l.config.host,":",l.config.port]})]})]})]})]}),L.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[L.jsx(ut,{variant:"ghost",size:"icon",className:"h-8 w-8 cursor-pointer",onClick:a=>{console.log("",l.name),v(l,a)},title:"",children:L.jsx(ig,{className:"w-4 h-4"})}),L.jsx(ut,{variant:"ghost",size:"icon",className:"h-8 w-8 cursor-pointer",onClick:a=>C(l,a),title:"",children:L.jsx(tg,{className:"w-4 h-4"})}),L.jsx(ut,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive cursor-pointer",onClick:a=>w(l.id,a),title:"",children:L.jsx(ll,{className:"w-4 h-4"})})]})]},l.id))})}function hm({connection:e,open:t,onClose:r}){const{addConnection:i,updateConnection:s,clearError:h}=dr(),[p,n]=W.useState("ssh"),[u,f]=W.useState(""),[y,d]=W.useState(""),[g,w]=W.useState("22"),[C,v]=W.useState(""),[l,a]=W.useState("password"),[o,c]=W.useState(""),[_,S]=W.useState(""),[x,b]=W.useState("");if(W.useEffect(()=>{if(e){if(n(e.type),f(e.name),e.type==="ssh"&&"auth_method"in e.config){const A=e.config;d(A.host),w(A.port.toString()),v(A.username),a(A.auth_method),c(A.password||""),S(A.private_key_path||""),b(A.passphrase||"")}else if(e.type!=="ssh"&&"host"in e.config){const A=e.config;d(A.host),w(A.port.toString()),v(A.username),c(A.password)}}},[e]),!t)return null;const m=async A=>{A.preventDefault(),h();try{const P={name:u,group_id:void 0};if(p==="ssh"){const B={host:y,port:Number.parseInt(g),username:C,auth_method:l,...l==="password"?{password:o}:{private_key_path:_,passphrase:x}};e?await s(e.id,{...e,...P,config:B}):await i({...P,type:"ssh",config:B})}else{const B={host:y,port:Number.parseInt(g),username:C,password:o};e?await s(e.id,{...e,...P,type:p,config:B}):await i({...P,type:p,config:B})}r(),E()}catch(P){console.error("Failed to save connection:",P)}},E=()=>{n("ssh"),f(""),d(""),w("22"),v(""),a("password"),c(""),S(""),b("")},D=()=>{E(),r()};return L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:L.jsxs("div",{className:"bg-card rounded-lg shadow-lg w-full max-w-md mx-4",children:[L.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[L.jsx("h2",{className:"text-lg font-semibold",children:e?"":""}),L.jsx(ut,{variant:"ghost",size:"icon",onClick:D,children:L.jsx(ca,{className:"w-4 h-4"})})]}),L.jsxs("form",{onSubmit:m,className:"p-4 space-y-4",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium",children:""}),L.jsxs("select",{value:p,onChange:A=>n(A.target.value),className:"w-full px-3 py-2 rounded-md border bg-background",disabled:!!e,children:[L.jsx("option",{value:"ssh",children:"SSH"}),L.jsx("option",{value:"mysql",children:"MySQL"}),L.jsx("option",{value:"postgresql",children:"PostgreSQL"}),L.jsx("option",{value:"redis",children:"Redis"})]})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium",children:""}),L.jsx("input",{type:"text",value:u,onChange:A=>f(A.target.value),placeholder:"",className:"w-full px-3 py-2 rounded-md border bg-background",required:!0})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium",children:""}),L.jsx("input",{type:"text",value:y,onChange:A=>d(A.target.value),placeholder:"localhost  IP ",className:"w-full px-3 py-2 rounded-md border bg-background",required:!0})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium",children:""}),L.jsx("input",{type:"number",value:g,onChange:A=>w(A.target.value),className:"w-full px-3 py-2 rounded-md border bg-background",required:!0})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium",children:""}),L.jsx("input",{type:"text",value:C,onChange:A=>v(A.target.value),className:"w-full px-3 py-2 rounded-md border bg-background",required:!0})]}),p==="ssh"&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium",children:""}),L.jsxs("select",{value:l,onChange:A=>a(A.target.value),className:"w-full px-3 py-2 rounded-md border bg-background",children:[L.jsx("option",{value:"password",children:""}),L.jsx("option",{value:"key",children:""})]})]}),l==="password"?L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium",children:""}),L.jsx("input",{type:"password",value:o,onChange:A=>c(A.target.value),className:"w-full px-3 py-2 rounded-md border bg-background"})]}):L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium",children:""}),L.jsx("input",{type:"text",value:_,onChange:A=>S(A.target.value),placeholder:"~/.ssh/id_rsa",className:"w-full px-3 py-2 rounded-md border bg-background"})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium",children:""}),L.jsx("input",{type:"password",value:x,onChange:A=>b(A.target.value),className:"w-full px-3 py-2 rounded-md border bg-background"})]})]})]}),p!=="ssh"&&L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium",children:""}),L.jsx("input",{type:"password",value:o,onChange:A=>c(A.target.value),className:"w-full px-3 py-2 rounded-md border bg-background"})]}),L.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[L.jsx(ut,{type:"button",variant:"outline",onClick:D,children:""}),L.jsx(ut,{type:"submit",children:e?"":""})]})]})]})})}function dm({onSearch:e,placeholder:t="Search connections...",className:r=""}){const[i,s]=W.useState(""),h=n=>{const u=n.target.value;s(u),e(u)},p=()=>{s(""),e("")};return L.jsxs("div",{className:`relative ${r}`,children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx(hd,{className:"h-4 w-4 text-gray-400"})}),L.jsx("input",{type:"text",value:i,onChange:h,placeholder:t,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg leading-5 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),i&&L.jsx("button",{onClick:p,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:L.jsx(ca,{className:"h-4 w-4"})})]})}function fm({onPageChange:e}){const{error:t,clearError:r,exportConnections:i,importConnections:s,setSelectedConnection:h,connections:p}=dr(),[n,u]=W.useState(!1),[f,y]=W.useState(),[d,g]=W.useState(""),w=()=>{y(void 0),u(!0)},C=o=>{y(o),u(!0)},v=o=>{console.log("=== handleConnectionClick  ==="),console.log(":",o),console.log(":",o.type),console.log("onPageChange :",e);try{h(o),console.log("")}catch(c){console.error(":",c)}o.type==="ssh"?(console.log(" SSH "),e?(e("ssh"),console.log(' onPageChange("ssh")')):console.error("onPageChange ")):["mysql","postgresql","redis","sqlite"].includes(o.type)?(console.log(""),e?(e("database"),console.log(' onPageChange("database")')):console.error("onPageChange ")):console.log(":",o.type)},l=async()=>{try{const o=await i(),c=new Blob([o],{type:"application/json"}),_=URL.createObjectURL(c),S=document.createElement("a");S.href=_,S.download=`devhub-connections-${new Date().toISOString().split("T")[0]}.json`,S.click(),URL.revokeObjectURL(_)}catch(o){console.error("Failed to export:",o)}},a=async()=>{const o=document.createElement("input");o.type="file",o.accept=".json",o.onchange=async c=>{var S;const _=(S=c.target.files)==null?void 0:S[0];if(_)try{const x=await _.text(),b=await s(x);alert(` ${b} `)}catch(x){console.error("Failed to import:",x),alert("")}},o.click()};return L.jsxs("div",{className:"h-full flex flex-col",children:[L.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[L.jsx("h1",{className:"text-xl font-semibold",children:""}),L.jsxs("div",{className:"flex gap-2",children:[L.jsxs(ut,{variant:"outline",size:"sm",onClick:l,children:[L.jsx(ol,{className:"w-4 h-4 mr-2"}),""]}),L.jsxs(ut,{variant:"outline",size:"sm",onClick:a,children:[L.jsx(ag,{className:"w-4 h-4 mr-2"}),""]}),L.jsxs(ut,{size:"sm",onClick:w,children:[L.jsx(cd,{className:"w-4 h-4 mr-2"}),""]})]})]}),L.jsx("div",{className:"px-4 py-3 border-b bg-gray-50 dark:bg-gray-800",children:L.jsx(dm,{onSearch:g,placeholder:"Search connections by name, host, or type..."})}),t&&L.jsx("div",{className:"mx-4 mt-4 p-4 bg-destructive/10 text-destructive rounded-md",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("span",{children:t}),L.jsx("button",{onClick:r,className:"text-sm underline hover:no-underline",children:""})]})}),L.jsx("div",{className:"flex-1 overflow-auto p-4",children:L.jsx(um,{onConnectionClick:v,onConnectionEdit:C,searchQuery:d})}),L.jsx(hm,{connection:f,open:n,onClose:()=>u(!1)})]})}function Mc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function pm(e){if(Array.isArray(e))return e}function _m(e,t,r){return(t=Cm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gm(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,s,h,p,n=[],u=!0,f=!1;try{if(h=(r=r.call(e)).next,t!==0)for(;!(u=(i=h.call(r)).done)&&(n.push(i.value),n.length!==t);u=!0);}catch(y){f=!0,s=y}finally{try{if(!u&&r.return!=null&&(p=r.return(),Object(p)!==p))return}finally{if(f)throw s}}return n}}function mm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oc(Object(r),!0).forEach(function(i){_m(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oc(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function vm(e,t){if(e==null)return{};var r,i,s=ym(e,t);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);for(i=0;i<h.length;i++)r=h[i],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ym(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}function Sm(e,t){return pm(e)||gm(e,t)||xm(e,t)||mm()}function wm(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cm(e){var t=wm(e,"string");return typeof t=="symbol"?t:t+""}function xm(e,t){if(e){if(typeof e=="string")return Mc(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mc(e,t):void 0}}function bm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ic(Object(r),!0).forEach(function(i){bm(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ic(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function km(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduceRight(function(s,h){return h(s)},i)}}function pi(e){return function t(){for(var r=this,i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return s.length>=e.length?e.apply(this,s):function(){for(var p=arguments.length,n=new Array(p),u=0;u<p;u++)n[u]=arguments[u];return t.apply(r,[].concat(s,n))}}}function on(e){return{}.toString.call(e).includes("Object")}function Em(e){return!Object.keys(e).length}function $i(e){return typeof e=="function"}function Lm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rm(e,t){return on(t)||qt("changeType"),Object.keys(t).some(function(r){return!Lm(e,r)})&&qt("changeField"),t}function Dm(e){$i(e)||qt("selectorType")}function Tm(e){$i(e)||on(e)||qt("handlerType"),on(e)&&Object.values(e).some(function(t){return!$i(t)})&&qt("handlersType")}function Am(e){e||qt("initialIsRequired"),on(e)||qt("initialType"),Em(e)&&qt("initialContent")}function Pm(e,t){throw new Error(e[t]||e.default)}var Mm={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},qt=pi(Pm)(Mm),vs={changes:Rm,selector:Dm,handler:Tm,initial:Am};function Om(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vs.initial(e),vs.handler(t);var r={current:e},i=pi(Nm)(r,t),s=pi(Im)(r),h=pi(vs.changes)(e),p=pi(Bm)(r);function n(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return vs.selector(f),f(r.current)}function u(f){km(i,s,h,p)(f)}return[n,u]}function Bm(e,t){return $i(t)?t(e.current):t}function Im(e,t){return e.current=Nc(Nc({},e.current),t),t}function Nm(e,t,r){return $i(t)?t(e.current):Object.keys(r).forEach(function(i){var s;return(s=t[i])===null||s===void 0?void 0:s.call(t,e.current[i])}),r}var jm={create:Om},Hm={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Fm(e){return function t(){for(var r=this,i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return s.length>=e.length?e.apply(this,s):function(){for(var p=arguments.length,n=new Array(p),u=0;u<p;u++)n[u]=arguments[u];return t.apply(r,[].concat(s,n))}}}function zm(e){return{}.toString.call(e).includes("Object")}function Wm(e){return e||jc("configIsRequired"),zm(e)||jc("configType"),e.urls?(Um(),{paths:{vs:e.urls.monacoBase}}):e}function Um(){console.warn(Rd.deprecation)}function $m(e,t){throw new Error(e[t]||e.default)}var Rd={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},jc=Fm($m)(Rd),Vm={config:Wm},Km=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return function(s){return r.reduceRight(function(h,p){return p(h)},s)}};function Dd(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],Dd(e[r],t[r]))}),Bc(Bc({},e),t)}var qm={type:"cancelation",msg:"operation is manually canceled"};function lo(e){var t=!1,r=new Promise(function(i,s){e.then(function(h){return t?s(qm):i(h)}),e.catch(s)});return r.cancel=function(){return t=!0},r}var Gm=["monaco"],Xm=jm.create({config:Hm,isInitialized:!1,resolve:null,reject:null,monaco:null}),Td=Sm(Xm,2),Yi=Td[0],En=Td[1];function Qm(e){var t=Vm.config(e),r=t.monaco,i=vm(t,Gm);En(function(s){return{config:Dd(s.config,i),monaco:r}})}function Ym(){var e=Yi(function(t){var r=t.monaco,i=t.isInitialized,s=t.resolve;return{monaco:r,isInitialized:i,resolve:s}});if(!e.isInitialized){if(En({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),lo(ao);if(window.monaco&&window.monaco.editor)return Ad(window.monaco),e.resolve(window.monaco),lo(ao);Km(Jm,ev)(tv)}return lo(ao)}function Jm(e){return document.body.appendChild(e)}function Zm(e){var t=document.createElement("script");return e&&(t.src=e),t}function ev(e){var t=Yi(function(i){var s=i.config,h=i.reject;return{config:s,reject:h}}),r=Zm("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function tv(){var e=Yi(function(r){var i=r.config,s=r.resolve,h=r.reject;return{config:i,resolve:s,reject:h}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){var i=r.m||r;Ad(i),e.resolve(i)},function(r){e.reject(r)})}function Ad(e){Yi().monaco||En({monaco:e})}function rv(){return Yi(function(e){var t=e.monaco;return t})}var ao=new Promise(function(e,t){return En({resolve:e,reject:t})}),Pd={config:Qm,init:Ym,__getMonacoInstance:rv},iv={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},co=iv,sv={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},nv=sv;function ov({children:e}){return lt.createElement("div",{style:nv.container},e)}var lv=ov,av=lv;function cv({width:e,height:t,isEditorReady:r,loading:i,_ref:s,className:h,wrapperProps:p}){return lt.createElement("section",{style:{...co.wrapper,width:e,height:t},...p},!r&&lt.createElement(av,null,i),lt.createElement("div",{ref:s,style:{...co.fullWidth,...!r&&co.hide},className:h}))}var uv=cv,Md=W.memo(uv);function hv(e){W.useEffect(e,[])}var Od=hv;function dv(e,t,r=!0){let i=W.useRef(!0);W.useEffect(i.current||!r?()=>{i.current=!1}:e,t)}var $e=dv;function Ei(){}function Ar(e,t,r,i){return fv(e,i)||pv(e,t,r,i)}function fv(e,t){return e.editor.getModel(Bd(e,t))}function pv(e,t,r,i){return e.editor.createModel(t,r,i?Bd(e,i):void 0)}function Bd(e,t){return e.Uri.parse(t)}function _v({original:e,modified:t,language:r,originalLanguage:i,modifiedLanguage:s,originalModelPath:h,modifiedModelPath:p,keepCurrentOriginalModel:n=!1,keepCurrentModifiedModel:u=!1,theme:f="light",loading:y="Loading...",options:d={},height:g="100%",width:w="100%",className:C,wrapperProps:v={},beforeMount:l=Ei,onMount:a=Ei}){let[o,c]=W.useState(!1),[_,S]=W.useState(!0),x=W.useRef(null),b=W.useRef(null),m=W.useRef(null),E=W.useRef(a),D=W.useRef(l),A=W.useRef(!1);Od(()=>{let I=Pd.init();return I.then(F=>(b.current=F)&&S(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>x.current?j():I.cancel()}),$e(()=>{if(x.current&&b.current){let I=x.current.getOriginalEditor(),F=Ar(b.current,e||"",i||r||"text",h||"");F!==I.getModel()&&I.setModel(F)}},[h],o),$e(()=>{if(x.current&&b.current){let I=x.current.getModifiedEditor(),F=Ar(b.current,t||"",s||r||"text",p||"");F!==I.getModel()&&I.setModel(F)}},[p],o),$e(()=>{let I=x.current.getModifiedEditor();I.getOption(b.current.editor.EditorOption.readOnly)?I.setValue(t||""):t!==I.getValue()&&(I.executeEdits("",[{range:I.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),I.pushUndoStop())},[t],o),$e(()=>{var I,F;(F=(I=x.current)==null?void 0:I.getModel())==null||F.original.setValue(e||"")},[e],o),$e(()=>{let{original:I,modified:F}=x.current.getModel();b.current.editor.setModelLanguage(I,i||r||"text"),b.current.editor.setModelLanguage(F,s||r||"text")},[r,i,s],o),$e(()=>{var I;(I=b.current)==null||I.editor.setTheme(f)},[f],o),$e(()=>{var I;(I=x.current)==null||I.updateOptions(d)},[d],o);let P=W.useCallback(()=>{var z;if(!b.current)return;D.current(b.current);let I=Ar(b.current,e||"",i||r||"text",h||""),F=Ar(b.current,t||"",s||r||"text",p||"");(z=x.current)==null||z.setModel({original:I,modified:F})},[r,t,s,e,i,h,p]),B=W.useCallback(()=>{var I;!A.current&&m.current&&(x.current=b.current.editor.createDiffEditor(m.current,{automaticLayout:!0,...d}),P(),(I=b.current)==null||I.editor.setTheme(f),c(!0),A.current=!0)},[d,f,P]);W.useEffect(()=>{o&&E.current(x.current,b.current)},[o]),W.useEffect(()=>{!_&&!o&&B()},[_,o,B]);function j(){var F,z,k,T;let I=(F=x.current)==null?void 0:F.getModel();n||((z=I==null?void 0:I.original)==null||z.dispose()),u||((k=I==null?void 0:I.modified)==null||k.dispose()),(T=x.current)==null||T.dispose()}return lt.createElement(Md,{width:w,height:g,isEditorReady:o,loading:y,_ref:m,className:C,wrapperProps:v})}var gv=_v;W.memo(gv);function mv(e){let t=W.useRef();return W.useEffect(()=>{t.current=e},[e]),t.current}var vv=mv,ys=new Map;function yv({defaultValue:e,defaultLanguage:t,defaultPath:r,value:i,language:s,path:h,theme:p="light",line:n,loading:u="Loading...",options:f={},overrideServices:y={},saveViewState:d=!0,keepCurrentModel:g=!1,width:w="100%",height:C="100%",className:v,wrapperProps:l={},beforeMount:a=Ei,onMount:o=Ei,onChange:c,onValidate:_=Ei}){let[S,x]=W.useState(!1),[b,m]=W.useState(!0),E=W.useRef(null),D=W.useRef(null),A=W.useRef(null),P=W.useRef(o),B=W.useRef(a),j=W.useRef(),I=W.useRef(i),F=vv(h),z=W.useRef(!1),k=W.useRef(!1);Od(()=>{let O=Pd.init();return O.then(H=>(E.current=H)&&m(!1)).catch(H=>(H==null?void 0:H.type)!=="cancelation"&&console.error("Monaco initialization: error:",H)),()=>D.current?M():O.cancel()}),$e(()=>{var H,V,q,G;let O=Ar(E.current,e||i||"",t||s||"",h||r||"");O!==((H=D.current)==null?void 0:H.getModel())&&(d&&ys.set(F,(V=D.current)==null?void 0:V.saveViewState()),(q=D.current)==null||q.setModel(O),d&&((G=D.current)==null||G.restoreViewState(ys.get(h))))},[h],S),$e(()=>{var O;(O=D.current)==null||O.updateOptions(f)},[f],S),$e(()=>{!D.current||i===void 0||(D.current.getOption(E.current.editor.EditorOption.readOnly)?D.current.setValue(i):i!==D.current.getValue()&&(k.current=!0,D.current.executeEdits("",[{range:D.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),D.current.pushUndoStop(),k.current=!1))},[i],S),$e(()=>{var H,V;let O=(H=D.current)==null?void 0:H.getModel();O&&s&&((V=E.current)==null||V.editor.setModelLanguage(O,s))},[s],S),$e(()=>{var O;n!==void 0&&((O=D.current)==null||O.revealLine(n))},[n],S),$e(()=>{var O;(O=E.current)==null||O.editor.setTheme(p)},[p],S);let T=W.useCallback(()=>{var O;if(!(!A.current||!E.current)&&!z.current){B.current(E.current);let H=h||r,V=Ar(E.current,i||e||"",t||s||"",H||"");D.current=(O=E.current)==null?void 0:O.editor.create(A.current,{model:V,automaticLayout:!0,...f},y),d&&D.current.restoreViewState(ys.get(H)),E.current.editor.setTheme(p),n!==void 0&&D.current.revealLine(n),x(!0),z.current=!0}},[e,t,r,i,s,h,f,y,d,p,n]);W.useEffect(()=>{S&&P.current(D.current,E.current)},[S]),W.useEffect(()=>{!b&&!S&&T()},[b,S,T]),I.current=i,W.useEffect(()=>{var O,H;S&&c&&((O=j.current)==null||O.dispose(),j.current=(H=D.current)==null?void 0:H.onDidChangeModelContent(V=>{k.current||c(D.current.getValue(),V)}))},[S,c]),W.useEffect(()=>{if(S){let O=E.current.editor.onDidChangeMarkers(H=>{var q;let V=(q=D.current.getModel())==null?void 0:q.uri;if(V&&H.find(G=>G.path===V.path)){let G=E.current.editor.getModelMarkers({resource:V});_==null||_(G)}});return()=>{O==null||O.dispose()}}return()=>{}},[S,_]);function M(){var O,H;(O=j.current)==null||O.dispose(),g?d&&ys.set(h,D.current.saveViewState()):(H=D.current.getModel())==null||H.dispose(),D.current.dispose()}return lt.createElement(Md,{width:w,height:C,isEditorReady:S,loading:u,_ref:A,className:v,wrapperProps:l})}var Sv=yv,wv=W.memo(Sv),Cv=wv;function xv({onExecute:e,isLoading:t=!1,language:r="mysql"}){const i=W.useRef(null),[s,h]=W.useState(""),p={mysql:"SELECT * FROM users LIMIT 10;",postgresql:"SELECT * FROM users LIMIT 10;",sqlite:"SELECT * FROM users LIMIT 10;"},n=(y,d)=>{i.current=y,y.addCommand(d.KeyMod.CtrlCmd|d.KeyCode.Enter,()=>{u()}),h(p[r])},u=async()=>{!s.trim()||t||await e(s)},f=y=>{const d=i.current;if(d){const g=d.getPosition();d.executeEdits("insertText",[{range:{startLineNumber:g.lineNumber,startColumn:g.column,endLineNumber:g.lineNumber,endColumn:g.column},text:y}]),d.focus()}};return L.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900",children:[L.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"SQL Editor"}),L.jsxs("div",{className:"flex items-center space-x-1 ml-4",children:[L.jsx("button",{onClick:()=>f("SELECT * FROM "),className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded",children:"SELECT"}),L.jsx("button",{onClick:()=>f("INSERT INTO "),className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded",children:"INSERT"}),L.jsx("button",{onClick:()=>f("UPDATE "),className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded",children:"UPDATE"}),L.jsx("button",{onClick:()=>f("DELETE FROM "),className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded",children:"DELETE"}),L.jsx("button",{onClick:()=>f("WHERE "),className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded",children:"WHERE"})]})]}),L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ctrl+Enter to execute"}),L.jsx("button",{onClick:u,disabled:!s.trim()||t,className:"flex items-center space-x-1 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white text-sm font-medium rounded",children:t?L.jsxs(L.Fragment,{children:[L.jsx(ad,{className:"w-4 h-4 animate-spin"}),L.jsx("span",{children:"Executing..."})]}):L.jsxs(L.Fragment,{children:[L.jsx(rg,{className:"w-4 h-4"}),L.jsx("span",{children:"Execute"})]})})]})]}),L.jsx("div",{className:"flex-1",children:L.jsx(Cv,{height:"100%",language:r,value:s,onChange:y=>h(y||""),onMount:n,theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:14,fontFamily:"'JetBrains Mono', 'Fira Code', Consolas, monospace",lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",automaticLayout:!0,tabSize:2,formatOnPaste:!0,formatOnType:!0}})}),L.jsxs("div",{className:"flex items-center justify-between px-4 py-1 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 text-xs text-gray-500 dark:text-gray-400",children:[L.jsxs("div",{children:["Lines: ",s.split(`
`).length," | Characters: ",s.length]}),L.jsx("div",{children:r.toUpperCase()})]})]})}function bv({columns:e,rows:t,rowsAffected:r,executionTime:i}){const[h,p]=W.useState(0),n=Math.ceil(t.length/50),u=h*50,f=Math.min(u+50,t.length),y=t.slice(u,f),d=()=>{const w=[e.join(","),...t.map(a=>a.map(o=>{const c=o===null?"NULL":String(o);return c.includes(",")||c.includes('"')||c.includes(`
`)?`"${c.replace(/"/g,'""')}"`:c}).join(","))].join(`
`),C=new Blob([w],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),l=URL.createObjectURL(C);v.setAttribute("href",l),v.setAttribute("download",`query_result_${Date.now()}.csv`),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v)},g=()=>{const w=t.map(o=>{const c={};return e.forEach((_,S)=>{c[_]=o[S]}),c}),C=JSON.stringify(w,null,2),v=new Blob([C],{type:"application/json;charset=utf-8;"}),l=document.createElement("a"),a=URL.createObjectURL(v);l.setAttribute("href",a),l.setAttribute("download",`query_result_${Date.now()}.json`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)};return t.length===0?L.jsx("div",{className:"flex items-center justify-center h-full bg-white dark:bg-gray-900",children:L.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[L.jsx("p",{className:"text-lg",children:"No results"}),L.jsx("p",{className:"text-sm mt-2",children:"Execute a query to see results here"})]})}):L.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900",children:[L.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[L.jsxs("div",{className:"flex items-center space-x-4",children:[L.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Results (",r!==void 0?r:t.length," rows)"]}),i!==void 0&&L.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",i,"ms)"]})]}),L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsxs("button",{onClick:d,className:"flex items-center space-x-1 px-3 py-1.5 text-sm text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded",children:[L.jsx(ol,{className:"w-4 h-4"}),L.jsx("span",{children:"CSV"})]}),L.jsxs("button",{onClick:g,className:"flex items-center space-x-1 px-3 py-1.5 text-sm text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded",children:[L.jsx(ol,{className:"w-4 h-4"}),L.jsx("span",{children:"JSON"})]})]})]}),L.jsx("div",{className:"flex-1 overflow-auto",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[L.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0",children:L.jsx("tr",{children:e.map(w=>L.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider whitespace-nowrap",children:w},w))})}),L.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:y.map((w,C)=>L.jsx("tr",{className:C%2===0?"bg-white dark:bg-gray-900":"bg-gray-50 dark:bg-gray-800",children:w.map((v,l)=>L.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 font-mono",children:v===null?L.jsx("span",{className:"text-gray-400 italic",children:"NULL"}):typeof v=="object"?JSON.stringify(v):String(v)},l))},C))})]})}),n>1&&L.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[L.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Showing ",u+1,"-",f," of ",t.length," rows"]}),L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("button",{onClick:()=>p(w=>Math.max(0,w-1)),disabled:h===0,className:"p-1 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed rounded",children:L.jsx(Q_,{className:"w-4 h-4"})}),L.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",h+1," of ",n]}),L.jsx("button",{onClick:()=>p(w=>Math.min(n-1,w+1)),disabled:h>=n-1,className:"p-1 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed rounded",children:L.jsx(Y_,{className:"w-4 h-4"})})]})]})]})}function kv(){const{connections:e,selectedConnection:t,setSelectedConnection:r}=dr(),[i,s]=W.useState(null),[h,p]=W.useState(null),[n,u]=W.useState(!1),[f,y]=W.useState(null),d=e.filter(v=>v.type==="mysql"||v.type==="postgresql"||v.type==="sqlite"),g=()=>{if(!t)return"mysql";const v=t.type;return v==="postgresql"?"postgresql":v==="sqlite"?"sqlite":"mysql"},w=async()=>{if(t)try{u(!0),y(null);const v=t.config;let l;if(t.type==="mysql")l=await Ee("mysql_connect",{host:v.host,port:v.port,username:v.username,password:v.password,database:v.database});else if(t.type==="postgresql")l=await Ee("postgresql_connect",{host:v.host,port:v.port,username:v.username,password:v.password,database:v.database});else throw new Error("Unsupported database type");s(l)}catch(v){const l=v instanceof Error?v.message:String(v);y(l),console.error("Failed to connect:",v)}finally{u(!1)}};W.useEffect(()=>{t&&t.type!=="ssh"&&w()},[t==null?void 0:t.id]);const C=async v=>{if(!i){y("No database connection. Please select a connection first.");return}const l=Date.now();try{u(!0),y(null),p(null);let a;if((t==null?void 0:t.type)==="mysql")a=await Ee("mysql_query",{sessionId:i,query:v});else if((t==null?void 0:t.type)==="postgresql")a=await Ee("postgresql_query",{sessionId:i,query:v});else throw new Error("Unsupported database type");const o=Date.now()-l;p({...a,executionTime:o})}catch(a){const o=a instanceof Error?a.message:String(a);y(o),console.error("Query failed:",a)}finally{u(!1)}};return L.jsxs("div",{className:"flex flex-col h-full",children:[L.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[L.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center",children:[L.jsx(rn,{className:"w-6 h-6 mr-2"}),"Database Manager"]}),L.jsxs("div",{className:"flex items-center space-x-4",children:[L.jsxs("select",{value:(t==null?void 0:t.id)||"",onChange:v=>{const l=d.find(a=>a.id===v.target.value);l&&r(l)},className:"px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500",disabled:n,children:[L.jsx("option",{value:"",children:"Select Database Connection..."}),d.map(v=>{var l;return L.jsxs("option",{value:v.id,children:[v.name," (",((l=v.config)==null?void 0:l.host)||"unknown",")"]},v.id)})]}),i&&L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Connected"})]})]})]}),L.jsx("div",{className:"flex-1 flex overflow-hidden",children:!t||t.type==="ssh"?L.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:L.jsxs("div",{className:"text-center",children:[L.jsx(rn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),L.jsx("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No Database Connection"}),L.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Select a database connection to start querying"})]})}):L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"w-1/2 flex flex-col border-r border-gray-200 dark:border-gray-700",children:L.jsx(xv,{onExecute:C,isLoading:n,language:g()})}),L.jsxs("div",{className:"w-1/2 flex flex-col",children:[f&&L.jsxs("div",{className:"flex items-center p-4 bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800",children:[L.jsx(ld,{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-2"}),L.jsxs("div",{className:"flex-1",children:[L.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Query Error"}),L.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:f})]})]}),n&&!h?L.jsx("div",{className:"flex-1 flex items-center justify-center",children:L.jsxs("div",{className:"text-center",children:[L.jsx(ad,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-3"}),L.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Executing query..."})]})}):h?L.jsx(bv,{columns:h.columns,rows:h.rows,rowsAffected:h.rows_affected,executionTime:h.executionTime}):L.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:L.jsxs("div",{className:"text-center",children:[L.jsx(lg,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),L.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Execute a query to see results"})]})})]})]})})]})}const Ev={};function Lv(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var h;const p=u=>u===null?null:JSON.parse(u,void 0),n=(h=r.getItem(s))!=null?h:null;return n instanceof Promise?n.then(p):p(n)},setItem:(s,h)=>r.setItem(s,JSON.stringify(h,void 0)),removeItem:s=>r.removeItem(s)}}const Vi=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(i){return Vi(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return Vi(i)(r)}}}},Rv=(e,t)=>(r,i,s)=>{let h={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:l=>l,version:0,merge:(l,a)=>({...a,...l}),...t},p=!1;const n=new Set,u=new Set;let f;try{f=h.getStorage()}catch{}if(!f)return e((...l)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),r(...l)},i,s);const y=Vi(h.serialize),d=()=>{const l=h.partialize({...i()});let a;const o=y({state:l,version:h.version}).then(c=>f.setItem(h.name,c)).catch(c=>{a=c});if(a)throw a;return o},g=s.setState;s.setState=(l,a)=>{g(l,a),d()};const w=e((...l)=>{r(...l),d()},i,s);let C;const v=()=>{var l;if(!f)return;p=!1,n.forEach(o=>o(i()));const a=((l=h.onRehydrateStorage)==null?void 0:l.call(h,i()))||void 0;return Vi(f.getItem.bind(f))(h.name).then(o=>{if(o)return h.deserialize(o)}).then(o=>{if(o)if(typeof o.version=="number"&&o.version!==h.version){if(h.migrate)return h.migrate(o.state,o.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return o.state}).then(o=>{var c;return C=h.merge(o,(c=i())!=null?c:w),r(C,!0),d()}).then(()=>{a==null||a(C,void 0),p=!0,u.forEach(o=>o(C))}).catch(o=>{a==null||a(void 0,o)})};return s.persist={setOptions:l=>{h={...h,...l},l.getStorage&&(f=l.getStorage())},clearStorage:()=>{f==null||f.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>v(),hasHydrated:()=>p,onHydrate:l=>(n.add(l),()=>{n.delete(l)}),onFinishHydration:l=>(u.add(l),()=>{u.delete(l)})},v(),C||w},Dv=(e,t)=>(r,i,s)=>{let h={storage:Lv(()=>localStorage),partialize:v=>v,version:0,merge:(v,l)=>({...l,...v}),...t},p=!1;const n=new Set,u=new Set;let f=h.storage;if(!f)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),r(...v)},i,s);const y=()=>{const v=h.partialize({...i()});return f.setItem(h.name,{state:v,version:h.version})},d=s.setState;s.setState=(v,l)=>{d(v,l),y()};const g=e((...v)=>{r(...v),y()},i,s);s.getInitialState=()=>g;let w;const C=()=>{var v,l;if(!f)return;p=!1,n.forEach(o=>{var c;return o((c=i())!=null?c:g)});const a=((l=h.onRehydrateStorage)==null?void 0:l.call(h,(v=i())!=null?v:g))||void 0;return Vi(f.getItem.bind(f))(h.name).then(o=>{if(o)if(typeof o.version=="number"&&o.version!==h.version){if(h.migrate)return[!0,h.migrate(o.state,o.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,o.state];return[!1,void 0]}).then(o=>{var c;const[_,S]=o;if(w=h.merge(S,(c=i())!=null?c:g),r(w,!0),_)return y()}).then(()=>{a==null||a(w,void 0),w=i(),p=!0,u.forEach(o=>o(w))}).catch(o=>{a==null||a(void 0,o)})};return s.persist={setOptions:v=>{h={...h,...v},v.storage&&(f=v.storage)},clearStorage:()=>{f==null||f.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>C(),hasHydrated:()=>p,onHydrate:v=>(n.add(v),()=>{n.delete(v)}),onFinishHydration:v=>(u.add(v),()=>{u.delete(v)})},h.skipHydration||C(),w||g},Tv=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Ev?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Rv(e,t)):Dv(e,t),ha=Tv,Hc=[{action:"splitHorizontal",label:"",keys:"Ctrl+Shift+D",description:""},{action:"splitVertical",label:"",keys:"Ctrl+Shift+E",description:""},{action:"closePanel",label:"",keys:"Ctrl+Shift+W",description:""},{action:"navigateUp",label:"",keys:"Ctrl+Alt+ArrowUp",description:""},{action:"navigateDown",label:"",keys:"Ctrl+Alt+ArrowDown",description:""},{action:"navigateLeft",label:"",keys:"Ctrl+Alt+ArrowLeft",description:""},{action:"navigateRight",label:"",keys:"Ctrl+Alt+ArrowRight",description:""}],da=bn()(ha((e,t)=>({keybindings:Hc,updateKeybinding:(r,i)=>{e(s=>({keybindings:s.keybindings.map(h=>h.action===r?{...h,keys:i}:h)}))},resetKeybindings:()=>{e({keybindings:Hc})},getKeybinding:r=>t().keybindings.find(i=>i.action===r)}),{name:"devhub-keybindings"}));function Id(e){const t=[];(e.ctrlKey||e.metaKey)&&t.push("Ctrl"),e.altKey&&t.push("Alt"),e.shiftKey&&t.push("Shift");const r=e.key;return["Control","Alt","Shift","Meta"].includes(r)||(r.length===1?t.push(r.toUpperCase()):t.push(r)),t.join("+")}function Av(e,t){return Id(e)===t}function cl(e){return navigator.platform.toUpperCase().indexOf("MAC")>=0?e.replace(/Ctrl/g,"").replace(/Alt/g,"").replace(/Shift/g,"").replace(/ArrowUp/g,"").replace(/ArrowDown/g,"").replace(/ArrowLeft/g,"").replace(/ArrowRight/g,"").replace(/\+/g,""):e.replace(/ArrowUp/g,"").replace(/ArrowDown/g,"").replace(/ArrowLeft/g,"").replace(/ArrowRight/g,"")}const Nd=bn()(ha(e=>({theme:"system",setTheme:t=>{e({theme:t}),jd(t)}}),{name:"devhub-theme"}));function jd(e){const t=window.document.documentElement;if(t.classList.remove("light","dark"),e==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(r)}else t.classList.add(e)}function Pv(){const{keybindings:e,updateKeybinding:t,resetKeybindings:r}=da(),{theme:i,setTheme:s}=Nd(),[h,p]=W.useState(null),[n,u]=W.useState("");W.useEffect(()=>{if(!h)return;const d=w=>{w.preventDefault(),w.stopPropagation();const C=Id(w);if(["Ctrl","Alt","Shift","Ctrl+Shift","Ctrl+Alt","Alt+Shift","Ctrl+Alt+Shift"].includes(C)){u(C+"+...");return}u(C)},g=w=>{w.preventDefault(),w.stopPropagation(),n&&!n.endsWith("+...")&&(t(h,n),p(null),u(""))};return window.addEventListener("keydown",d,!0),window.addEventListener("keyup",g,!0),()=>{window.removeEventListener("keydown",d,!0),window.removeEventListener("keyup",g,!0)}},[h,n,t]);const f=W.useCallback(d=>{p(d),u("")},[]),y=W.useCallback(()=>{p(null),u("")},[]);return L.jsx("div",{className:"h-full overflow-auto bg-background",children:L.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-8",children:[L.jsx("h1",{className:"text-2xl font-bold text-foreground",children:""}),L.jsxs("section",{className:"space-y-4",children:[L.jsx("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:""}),L.jsx("div",{className:"flex gap-3",children:["light","dark","system"].map(d=>L.jsx("button",{onClick:()=>s(d),className:`px-4 py-2 rounded-lg text-sm border transition-colors ${i===d?"bg-primary text-primary-foreground border-primary":"bg-card text-card-foreground border-border hover:bg-accent"}`,children:d==="light"?"":d==="dark"?"":""},d))})]}),L.jsxs("section",{className:"space-y-4",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[L.jsx(Z_,{className:"w-5 h-5"}),""]}),L.jsxs("button",{onClick:r,className:"flex items-center gap-1 px-3 py-1.5 text-xs text-muted-foreground hover:text-foreground bg-card border border-border rounded-lg hover:bg-accent transition-colors",children:[L.jsx(ud,{className:"w-3 h-3"}),""]})]}),L.jsx("div",{className:"border border-border rounded-lg overflow-hidden",children:L.jsxs("table",{className:"w-full",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"bg-muted/50",children:[L.jsx("th",{className:"text-left px-4 py-2.5 text-sm font-medium text-muted-foreground",children:""}),L.jsx("th",{className:"text-left px-4 py-2.5 text-sm font-medium text-muted-foreground",children:""}),L.jsx("th",{className:"text-right px-4 py-2.5 text-sm font-medium text-muted-foreground",children:""})]})}),L.jsx("tbody",{children:e.map((d,g)=>L.jsxs("tr",{className:`border-t border-border ${g%2===0?"":"bg-muted/20"}`,children:[L.jsx("td",{className:"px-4 py-3 text-sm font-medium text-foreground",children:d.label}),L.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:d.description}),L.jsx("td",{className:"px-4 py-3 text-right",children:h===d.action?L.jsxs("div",{className:"flex items-center justify-end gap-2",children:[L.jsx("span",{className:"px-3 py-1.5 bg-blue-500/20 text-blue-400 border border-blue-500/50 rounded text-xs font-mono min-w-[120px] text-center animate-pulse",children:n||"..."}),L.jsx("button",{onClick:y,className:"text-xs text-muted-foreground hover:text-foreground",children:""})]}):L.jsx("button",{onClick:()=>f(d.action),className:"px-3 py-1.5 bg-muted text-foreground border border-border rounded text-xs font-mono hover:bg-accent transition-colors min-w-[120px]",title:"",children:cl(d.keys)})})]},d.action))})]})}),L.jsx("p",{className:"text-xs text-muted-foreground",children:"Ctrl/Alt/Shift"})]})]})})}function Mv(e,t=!0){const{keybindings:r}=da();W.useEffect(()=>{if(!t)return;const i=s=>{for(const h of r)if(Av(s,h.keys)){const p=e[h.action];if(p){s.preventDefault(),s.stopPropagation(),p();return}}};return window.addEventListener("keydown",i,!0),()=>window.removeEventListener("keydown",i,!0)},[r,e,t])}const Ov=1e3,Hd=bn()(ha((e,t)=>({history:[],maxHistory:Ov,addCommand:(r,i,s)=>{const h=r.trim();if(!h)return;const p={command:h,timestamp:Date.now(),connectionId:i,workingDirectory:s};e(n=>{const u=n.history[0];if(u&&u.command===h&&u.connectionId===i)return n;const f=[p,...n.history];return f.length>n.maxHistory?{history:f.slice(0,n.maxHistory)}:{history:f}})},clearHistory:()=>{e({history:[]})},getHistoryByConnection:r=>t().history.filter(i=>i.connectionId===r),searchHistory:r=>{const i=r.toLowerCase();return t().history.filter(s=>s.command.toLowerCase().includes(i))},deleteCommand:r=>{e(i=>({history:i.history.filter(s=>s.timestamp!==r)}))}}),{name:"devhub-command-history",partialize:e=>({history:e.history,maxHistory:e.maxHistory})}));async function Fd(e){return Ee("tauri",e)}async function Bv(e,t){return Fd({__tauriModule:"Event",message:{cmd:"unlisten",event:e,eventId:t}})}async function Iv(e,t,r){return Fd({__tauriModule:"Event",message:{cmd:"listen",event:e,windowLabel:t,handler:sl(r)}}).then(i=>async()=>Bv(e,i))}var Fc;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_CREATED="tauri://window-created",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_FILE_DROP="tauri://file-drop",e.WINDOW_FILE_DROP_HOVER="tauri://file-drop-hover",e.WINDOW_FILE_DROP_CANCELLED="tauri://file-drop-cancelled",e.MENU="tauri://menu",e.CHECK_UPDATE="tauri://update",e.UPDATE_AVAILABLE="tauri://update-available",e.INSTALL_UPDATE="tauri://update-install",e.STATUS_UPDATE="tauri://update-status",e.DOWNLOAD_PROGRESS="tauri://update-download-progress"})(Fc||(Fc={}));async function Nv(e,t){return Iv(e,null,t)}var zd={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,()=>(()=>{var r={4567:function(p,n,u){var f=this&&this.__decorate||function(c,_,S,x){var b,m=arguments.length,E=m<3?_:x===null?x=Object.getOwnPropertyDescriptor(_,S):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,_,S,x);else for(var D=c.length-1;D>=0;D--)(b=c[D])&&(E=(m<3?b(E):m>3?b(_,S,E):b(_,S))||E);return m>3&&E&&Object.defineProperty(_,S,E),E},y=this&&this.__param||function(c,_){return function(S,x){_(S,x,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.AccessibilityManager=void 0;const d=u(9042),g=u(6114),w=u(9924),C=u(844),v=u(5596),l=u(4725),a=u(3656);let o=n.AccessibilityManager=class extends C.Disposable{constructor(c,_){super(),this._terminal=c,this._renderService=_,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let S=0;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);if(this._topBoundaryFocusListener=S=>this._handleBoundaryFocus(S,0),this._bottomBoundaryFocusListener=S=>this._handleBoundaryFocus(S,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new w.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(S=>this._handleResize(S.rows))),this.register(this._terminal.onRender(S=>this._refreshRows(S.start,S.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(S=>this._handleChar(S))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(S=>this._handleTab(S))),this.register(this._terminal.onKey(S=>this._handleKey(S.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new v.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,a.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,C.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(c){for(let _=0;_<c;_++)this._handleChar(" ")}_handleChar(c){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==c&&(this._charsToAnnounce+=c):this._charsToAnnounce+=c,c===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=d.tooMuchOutput)),g.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,g.isMac&&this._liveRegion.remove()}_handleKey(c){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(c)||this._charsToConsume.push(c)}_refreshRows(c,_){this._liveRegionDebouncer.refresh(c,_,this._terminal.rows)}_renderRows(c,_){const S=this._terminal.buffer,x=S.lines.length.toString();for(let b=c;b<=_;b++){const m=S.translateBufferLineToString(S.ydisp+b,!0),E=(S.ydisp+b+1).toString(),D=this._rowElements[b];D&&(m.length===0?D.innerText="":D.textContent=m,D.setAttribute("aria-posinset",E),D.setAttribute("aria-setsize",x))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(c,_){const S=c.target,x=this._rowElements[_===0?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")===(_===0?"1":`${this._terminal.buffer.lines.length}`)||c.relatedTarget!==x)return;let b,m;if(_===0?(b=S,m=this._rowElements.pop(),this._rowContainer.removeChild(m)):(b=this._rowElements.shift(),m=S,this._rowContainer.removeChild(b)),b.removeEventListener("focus",this._topBoundaryFocusListener),m.removeEventListener("focus",this._bottomBoundaryFocusListener),_===0){const E=this._createAccessibilityTreeNode();this._rowElements.unshift(E),this._rowContainer.insertAdjacentElement("afterbegin",E)}else{const E=this._createAccessibilityTreeNode();this._rowElements.push(E),this._rowContainer.appendChild(E)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(_===0?-1:1),this._rowElements[_===0?1:this._rowElements.length-2].focus(),c.preventDefault(),c.stopImmediatePropagation()}_handleResize(c){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let _=this._rowContainer.children.length;_<this._terminal.rows;_++)this._rowElements[_]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[_]);for(;this._rowElements.length>c;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const c=document.createElement("div");return c.setAttribute("role","listitem"),c.tabIndex=-1,this._refreshRowDimensions(c),c}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let c=0;c<this._terminal.rows;c++)this._refreshRowDimensions(this._rowElements[c])}}_refreshRowDimensions(c){c.style.height=`${this._renderService.dimensions.css.cell.height}px`}};n.AccessibilityManager=o=f([y(1,l.IRenderService)],o)},3614:(p,n)=>{function u(g){return g.replace(/\r?\n/g,"\r")}function f(g,w){return w?"\x1B[200~"+g+"\x1B[201~":g}function y(g,w,C,v){g=f(g=u(g),C.decPrivateModes.bracketedPasteMode&&v.rawOptions.ignoreBracketedPasteMode!==!0),C.triggerDataEvent(g,!0),w.value=""}function d(g,w,C){const v=C.getBoundingClientRect(),l=g.clientX-v.left-10,a=g.clientY-v.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${l}px`,w.style.top=`${a}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(n,"__esModule",{value:!0}),n.rightClickHandler=n.moveTextAreaUnderMouseCursor=n.paste=n.handlePasteEvent=n.copyHandler=n.bracketTextForPaste=n.prepareTextForTerminal=void 0,n.prepareTextForTerminal=u,n.bracketTextForPaste=f,n.copyHandler=function(g,w){g.clipboardData&&g.clipboardData.setData("text/plain",w.selectionText),g.preventDefault()},n.handlePasteEvent=function(g,w,C,v){g.stopPropagation(),g.clipboardData&&y(g.clipboardData.getData("text/plain"),w,C,v)},n.paste=y,n.moveTextAreaUnderMouseCursor=d,n.rightClickHandler=function(g,w,C,v,l){d(g,w,C),l&&v.rightClickSelect(g),w.value=v.selectionText,w.select()}},7239:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorContrastCache=void 0;const f=u(1505);n.ColorContrastCache=class{constructor(){this._color=new f.TwoKeyMap,this._css=new f.TwoKeyMap}setCss(y,d,g){this._css.set(y,d,g)}getCss(y,d){return this._css.get(y,d)}setColor(y,d,g){this._color.set(y,d,g)}getColor(y,d){return this._color.get(y,d)}clear(){this._color.clear(),this._css.clear()}}},3656:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.addDisposableDomListener=void 0,n.addDisposableDomListener=function(u,f,y,d){u.addEventListener(f,y,d);let g=!1;return{dispose:()=>{g||(g=!0,u.removeEventListener(f,y,d))}}}},6465:function(p,n,u){var f=this&&this.__decorate||function(l,a,o,c){var _,S=arguments.length,x=S<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,o):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(l,a,o,c);else for(var b=l.length-1;b>=0;b--)(_=l[b])&&(x=(S<3?_(x):S>3?_(a,o,x):_(a,o))||x);return S>3&&x&&Object.defineProperty(a,o,x),x},y=this&&this.__param||function(l,a){return function(o,c){a(o,c,l)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Linkifier2=void 0;const d=u(3656),g=u(8460),w=u(844),C=u(2585);let v=n.Linkifier2=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(l){super(),this._bufferService=l,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(l){return this._linkProviders.push(l),{dispose:()=>{const a=this._linkProviders.indexOf(l);a!==-1&&this._linkProviders.splice(a,1)}}}attachToDom(l,a,o){this._element=l,this._mouseService=a,this._renderService=o,this.register((0,d.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,d.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(l){if(this._lastMouseEvent=l,!this._element||!this._mouseService)return;const a=this._positionFromMouseEvent(l,this._element,this._mouseService);if(!a)return;this._isMouseOut=!1;const o=l.composedPath();for(let c=0;c<o.length;c++){const _=o[c];if(_.classList.contains("xterm"))break;if(_.classList.contains("xterm-hover"))return}this._lastBufferCell&&a.x===this._lastBufferCell.x&&a.y===this._lastBufferCell.y||(this._handleHover(a),this._lastBufferCell=a)}_handleHover(l){if(this._activeLine!==l.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(l,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,l)||(this._clearCurrentLink(),this._askForLink(l,!0))}_askForLink(l,a){var o,c;this._activeProviderReplies&&a||((o=this._activeProviderReplies)===null||o===void 0||o.forEach(S=>{S==null||S.forEach(x=>{x.link.dispose&&x.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=l.y);let _=!1;for(const[S,x]of this._linkProviders.entries())a?!((c=this._activeProviderReplies)===null||c===void 0)&&c.get(S)&&(_=this._checkLinkProviderResult(S,l,_)):x.provideLinks(l.y,b=>{var m,E;if(this._isMouseOut)return;const D=b==null?void 0:b.map(A=>({link:A}));(m=this._activeProviderReplies)===null||m===void 0||m.set(S,D),_=this._checkLinkProviderResult(S,l,_),((E=this._activeProviderReplies)===null||E===void 0?void 0:E.size)===this._linkProviders.length&&this._removeIntersectingLinks(l.y,this._activeProviderReplies)})}_removeIntersectingLinks(l,a){const o=new Set;for(let c=0;c<a.size;c++){const _=a.get(c);if(_)for(let S=0;S<_.length;S++){const x=_[S],b=x.link.range.start.y<l?0:x.link.range.start.x,m=x.link.range.end.y>l?this._bufferService.cols:x.link.range.end.x;for(let E=b;E<=m;E++){if(o.has(E)){_.splice(S--,1);break}o.add(E)}}}}_checkLinkProviderResult(l,a,o){var c;if(!this._activeProviderReplies)return o;const _=this._activeProviderReplies.get(l);let S=!1;for(let x=0;x<l;x++)this._activeProviderReplies.has(x)&&!this._activeProviderReplies.get(x)||(S=!0);if(!S&&_){const x=_.find(b=>this._linkAtPosition(b.link,a));x&&(o=!0,this._handleNewLink(x))}if(this._activeProviderReplies.size===this._linkProviders.length&&!o)for(let x=0;x<this._activeProviderReplies.size;x++){const b=(c=this._activeProviderReplies.get(x))===null||c===void 0?void 0:c.find(m=>this._linkAtPosition(m.link,a));if(b){o=!0,this._handleNewLink(b);break}}return o}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(l){if(!this._element||!this._mouseService||!this._currentLink)return;const a=this._positionFromMouseEvent(l,this._element,this._mouseService);a&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,a)&&this._currentLink.link.activate(l,this._currentLink.link.text)}_clearCurrentLink(l,a){this._element&&this._currentLink&&this._lastMouseEvent&&(!l||!a||this._currentLink.link.range.start.y>=l&&this._currentLink.link.range.end.y<=a)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(l){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const a=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);a&&this._linkAtPosition(l.link,a)&&(this._currentLink=l,this._currentLink.state={decorations:{underline:l.link.decorations===void 0||l.link.decorations.underline,pointerCursor:l.link.decorations===void 0||l.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,l.link,this._lastMouseEvent),l.link.decorations={},Object.defineProperties(l.link.decorations,{pointerCursor:{get:()=>{var o,c;return(c=(o=this._currentLink)===null||o===void 0?void 0:o.state)===null||c===void 0?void 0:c.decorations.pointerCursor},set:o=>{var c,_;!((c=this._currentLink)===null||c===void 0)&&c.state&&this._currentLink.state.decorations.pointerCursor!==o&&(this._currentLink.state.decorations.pointerCursor=o,this._currentLink.state.isHovered&&((_=this._element)===null||_===void 0||_.classList.toggle("xterm-cursor-pointer",o)))}},underline:{get:()=>{var o,c;return(c=(o=this._currentLink)===null||o===void 0?void 0:o.state)===null||c===void 0?void 0:c.decorations.underline},set:o=>{var c,_,S;!((c=this._currentLink)===null||c===void 0)&&c.state&&((S=(_=this._currentLink)===null||_===void 0?void 0:_.state)===null||S===void 0?void 0:S.decorations.underline)!==o&&(this._currentLink.state.decorations.underline=o,this._currentLink.state.isHovered&&this._fireUnderlineEvent(l.link,o))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(o=>{if(!this._currentLink)return;const c=o.start===0?0:o.start+1+this._bufferService.buffer.ydisp,_=this._bufferService.buffer.ydisp+1+o.end;if(this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=_&&(this._clearCurrentLink(c,_),this._lastMouseEvent&&this._element)){const S=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);S&&this._askForLink(S,!1)}})))}_linkHover(l,a,o){var c;!((c=this._currentLink)===null||c===void 0)&&c.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(a,!0),this._currentLink.state.decorations.pointerCursor&&l.classList.add("xterm-cursor-pointer")),a.hover&&a.hover(o,a.text)}_fireUnderlineEvent(l,a){const o=l.range,c=this._bufferService.buffer.ydisp,_=this._createLinkUnderlineEvent(o.start.x-1,o.start.y-c-1,o.end.x,o.end.y-c-1,void 0);(a?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(_)}_linkLeave(l,a,o){var c;!((c=this._currentLink)===null||c===void 0)&&c.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(a,!1),this._currentLink.state.decorations.pointerCursor&&l.classList.remove("xterm-cursor-pointer")),a.leave&&a.leave(o,a.text)}_linkAtPosition(l,a){const o=l.range.start.y*this._bufferService.cols+l.range.start.x,c=l.range.end.y*this._bufferService.cols+l.range.end.x,_=a.y*this._bufferService.cols+a.x;return o<=_&&_<=c}_positionFromMouseEvent(l,a,o){const c=o.getCoords(l,a,this._bufferService.cols,this._bufferService.rows);if(c)return{x:c[0],y:c[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(l,a,o,c,_){return{x1:l,y1:a,x2:o,y2:c,cols:this._bufferService.cols,fg:_}}};n.Linkifier2=v=f([y(0,C.IBufferService)],v)},9042:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tooMuchOutput=n.promptLabel=void 0,n.promptLabel="Terminal input",n.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(p,n,u){var f=this&&this.__decorate||function(v,l,a,o){var c,_=arguments.length,S=_<3?l:o===null?o=Object.getOwnPropertyDescriptor(l,a):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(v,l,a,o);else for(var x=v.length-1;x>=0;x--)(c=v[x])&&(S=(_<3?c(S):_>3?c(l,a,S):c(l,a))||S);return _>3&&S&&Object.defineProperty(l,a,S),S},y=this&&this.__param||function(v,l){return function(a,o){l(a,o,v)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkProvider=void 0;const d=u(511),g=u(2585);let w=n.OscLinkProvider=class{constructor(v,l,a){this._bufferService=v,this._optionsService=l,this._oscLinkService=a}provideLinks(v,l){var a;const o=this._bufferService.buffer.lines.get(v-1);if(!o)return void l(void 0);const c=[],_=this._optionsService.rawOptions.linkHandler,S=new d.CellData,x=o.getTrimmedLength();let b=-1,m=-1,E=!1;for(let D=0;D<x;D++)if(m!==-1||o.hasContent(D)){if(o.loadCell(D,S),S.hasExtendedAttrs()&&S.extended.urlId){if(m===-1){m=D,b=S.extended.urlId;continue}E=S.extended.urlId!==b}else m!==-1&&(E=!0);if(E||m!==-1&&D===x-1){const A=(a=this._oscLinkService.getLinkData(b))===null||a===void 0?void 0:a.uri;if(A){const P={start:{x:m+1,y:v},end:{x:D+(E||D!==x-1?0:1),y:v}};let B=!1;if(!(_!=null&&_.allowNonHttpProtocols))try{const j=new URL(A);["http:","https:"].includes(j.protocol)||(B=!0)}catch{B=!0}B||c.push({text:A,range:P,activate:(j,I)=>_?_.activate(j,I,P):C(0,I),hover:(j,I)=>{var F;return(F=_==null?void 0:_.hover)===null||F===void 0?void 0:F.call(_,j,I,P)},leave:(j,I)=>{var F;return(F=_==null?void 0:_.leave)===null||F===void 0?void 0:F.call(_,j,I,P)}})}E=!1,S.hasExtendedAttrs()&&S.extended.urlId?(m=D,b=S.extended.urlId):(m=-1,b=-1)}}l(c)}};function C(v,l){if(confirm(`Do you want to navigate to ${l}?

WARNING: This link could potentially be dangerous`)){const a=window.open();if(a){try{a.opener=null}catch{}a.location.href=l}else console.warn("Opening link blocked as opener could not be cleared")}}n.OscLinkProvider=w=f([y(0,g.IBufferService),y(1,g.IOptionsService),y(2,g.IOscLinkService)],w)},6193:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.RenderDebouncer=void 0,n.RenderDebouncer=class{constructor(u,f){this._parentWindow=u,this._renderCallback=f,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(u){return this._refreshCallbacks.push(u),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(u,f,y){this._rowCount=y,u=u!==void 0?u:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const u=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,f),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const u of this._refreshCallbacks)u(0);this._refreshCallbacks=[]}}},5596:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ScreenDprMonitor=void 0;const f=u(844);class y extends f.Disposable{constructor(g){super(),this._parentWindow=g,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,f.toDisposable)(()=>{this.clearListener()}))}setListener(g){this._listener&&this.clearListener(),this._listener=g,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var g;this._outerListener&&((g=this._resolutionMediaMatchList)===null||g===void 0||g.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}n.ScreenDprMonitor=y},3236:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;const f=u(3614),y=u(3656),d=u(6465),g=u(9042),w=u(3730),C=u(1680),v=u(3107),l=u(5744),a=u(2950),o=u(1296),c=u(428),_=u(4269),S=u(5114),x=u(8934),b=u(3230),m=u(9312),E=u(4725),D=u(6731),A=u(8055),P=u(8969),B=u(8460),j=u(844),I=u(6114),F=u(8437),z=u(2584),k=u(7399),T=u(5941),M=u(9074),O=u(2585),H=u(5435),V=u(4567),q=typeof window<"u"?window.document:null;class G extends P.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(R={}){super(R),this.browser=I,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new j.MutableDisposable),this._onCursorMove=this.register(new B.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new B.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new B.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new B.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new B.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new B.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new B.EventEmitter),this._onBlur=this.register(new B.EventEmitter),this._onA11yCharEmitter=this.register(new B.EventEmitter),this._onA11yTabEmitter=this.register(new B.EventEmitter),this._onWillOpen=this.register(new B.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(d.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(M.DecorationService),this._instantiationService.setService(O.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((N,$)=>this.refresh(N,$))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(N=>this._reportWindowsOptions(N))),this.register(this._inputHandler.onColor(N=>this._handleColorEvent(N))),this.register((0,B.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,B.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,B.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,B.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(N=>this._afterResize(N.cols,N.rows))),this.register((0,j.toDisposable)(()=>{var N,$;this._customKeyEventHandler=void 0,($=(N=this.element)===null||N===void 0?void 0:N.parentNode)===null||$===void 0||$.removeChild(this.element)}))}_handleColorEvent(R){if(this._themeService)for(const N of R){let $,U="";switch(N.index){case 256:$="foreground",U="10";break;case 257:$="background",U="11";break;case 258:$="cursor",U="12";break;default:$="ansi",U="4;"+N.index}switch(N.type){case 0:const Z=A.color.toColorRGB($==="ansi"?this._themeService.colors.ansi[N.index]:this._themeService.colors[$]);this.coreService.triggerDataEvent(`${z.C0.ESC}]${U};${(0,T.toRgbString)(Z)}${z.C1_ESCAPED.ST}`);break;case 1:if($==="ansi")this._themeService.modifyColors(X=>X.ansi[N.index]=A.rgba.toColor(...N.color));else{const X=$;this._themeService.modifyColors(ne=>ne[X]=A.rgba.toColor(...N.color))}break;case 2:this._themeService.restoreColor(N.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(R){R?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(V.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(R){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[I"),this.updateCursorStyle(R),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var R;return(R=this.textarea)===null||R===void 0?void 0:R.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const R=this.buffer.ybase+this.buffer.y,N=this.buffer.lines.get(R);if(!N)return;const $=Math.min(this.buffer.x,this.cols-1),U=this._renderService.dimensions.css.cell.height,Z=N.getWidth($),X=this._renderService.dimensions.css.cell.width*Z,ne=this.buffer.y*this._renderService.dimensions.css.cell.height,be=$*this._renderService.dimensions.css.cell.width;this.textarea.style.left=be+"px",this.textarea.style.top=ne+"px",this.textarea.style.width=X+"px",this.textarea.style.height=U+"px",this.textarea.style.lineHeight=U+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,y.addDisposableDomListener)(this.element,"copy",N=>{this.hasSelection()&&(0,f.copyHandler)(N,this._selectionService)}));const R=N=>(0,f.handlePasteEvent)(N,this.textarea,this.coreService,this.optionsService);this.register((0,y.addDisposableDomListener)(this.textarea,"paste",R)),this.register((0,y.addDisposableDomListener)(this.element,"paste",R)),I.isFirefox?this.register((0,y.addDisposableDomListener)(this.element,"mousedown",N=>{N.button===2&&(0,f.rightClickHandler)(N,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,y.addDisposableDomListener)(this.element,"contextmenu",N=>{(0,f.rightClickHandler)(N,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),I.isLinux&&this.register((0,y.addDisposableDomListener)(this.element,"auxclick",N=>{N.button===1&&(0,f.moveTextAreaUnderMouseCursor)(N,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,y.addDisposableDomListener)(this.textarea,"keyup",R=>this._keyUp(R),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"keydown",R=>this._keyDown(R),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"keypress",R=>this._keyPress(R),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionupdate",R=>this._compositionHelper.compositionupdate(R))),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,y.addDisposableDomListener)(this.textarea,"input",R=>this._inputEvent(R),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(R){var N;if(!R)throw new Error("Terminal requires a parent element.");R.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=R.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),R.appendChild(this.element);const $=q.createDocumentFragment();this._viewportElement=q.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),$.appendChild(this._viewportElement),this._viewportScrollArea=q.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=q.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=q.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),$.appendChild(this.screenElement),this.textarea=q.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),I.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(S.CoreBrowserService,this.textarea,(N=this._document.defaultView)!==null&&N!==void 0?N:window),this._instantiationService.setService(E.ICoreBrowserService,this._coreBrowserService),this.register((0,y.addDisposableDomListener)(this.textarea,"focus",U=>this._handleTextAreaFocus(U))),this.register((0,y.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(c.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(D.ThemeService),this._instantiationService.setService(E.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(_.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(b.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(U=>this._onRender.fire(U))),this.onResize(U=>this._renderService.resize(U.cols,U.rows)),this._compositionView=q.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(a.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild($);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(x.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(C.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(U=>this.scrollLines(U.amount,U.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(m.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(U=>this.scrollLines(U.amount,U.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(U=>this._renderService.handleSelectionChanged(U.start,U.end,U.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(U=>{this.textarea.value=U,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(U=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,y.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(v.BufferDecorationRenderer,this.screenElement)),this.register((0,y.addDisposableDomListener)(this.element,"mousedown",U=>this._selectionService.handleMouseDown(U))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(V.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",U=>this._handleScreenReaderModeOptionChange(U))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(l.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",U=>{!this._overviewRulerRenderer&&U&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(l.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(o.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const R=this,N=this.element;function $(X){const ne=R._mouseService.getMouseReportCoords(X,R.screenElement);if(!ne)return!1;let be,Ne;switch(X.overrideType||X.type){case"mousemove":Ne=32,X.buttons===void 0?(be=3,X.button!==void 0&&(be=X.button<3?X.button:3)):be=1&X.buttons?0:4&X.buttons?1:2&X.buttons?2:3;break;case"mouseup":Ne=0,be=X.button<3?X.button:3;break;case"mousedown":Ne=1,be=X.button<3?X.button:3;break;case"wheel":if(R.viewport.getLinesScrolled(X)===0)return!1;Ne=X.deltaY<0?0:1,be=4;break;default:return!1}return!(Ne===void 0||be===void 0||be>4)&&R.coreMouseService.triggerMouseEvent({col:ne.col,row:ne.row,x:ne.x,y:ne.y,button:be,action:Ne,ctrl:X.ctrlKey,alt:X.altKey,shift:X.shiftKey})}const U={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Z={mouseup:X=>($(X),X.buttons||(this._document.removeEventListener("mouseup",U.mouseup),U.mousedrag&&this._document.removeEventListener("mousemove",U.mousedrag)),this.cancel(X)),wheel:X=>($(X),this.cancel(X,!0)),mousedrag:X=>{X.buttons&&$(X)},mousemove:X=>{X.buttons||$(X)}};this.register(this.coreMouseService.onProtocolChange(X=>{X?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(X)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&X?U.mousemove||(N.addEventListener("mousemove",Z.mousemove),U.mousemove=Z.mousemove):(N.removeEventListener("mousemove",U.mousemove),U.mousemove=null),16&X?U.wheel||(N.addEventListener("wheel",Z.wheel,{passive:!1}),U.wheel=Z.wheel):(N.removeEventListener("wheel",U.wheel),U.wheel=null),2&X?U.mouseup||(N.addEventListener("mouseup",Z.mouseup),U.mouseup=Z.mouseup):(this._document.removeEventListener("mouseup",U.mouseup),N.removeEventListener("mouseup",U.mouseup),U.mouseup=null),4&X?U.mousedrag||(U.mousedrag=Z.mousedrag):(this._document.removeEventListener("mousemove",U.mousedrag),U.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,y.addDisposableDomListener)(N,"mousedown",X=>{if(X.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(X))return $(X),U.mouseup&&this._document.addEventListener("mouseup",U.mouseup),U.mousedrag&&this._document.addEventListener("mousemove",U.mousedrag),this.cancel(X)})),this.register((0,y.addDisposableDomListener)(N,"wheel",X=>{if(!U.wheel){if(!this.buffer.hasScrollback){const ne=this.viewport.getLinesScrolled(X);if(ne===0)return;const be=z.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(X.deltaY<0?"A":"B");let Ne="";for(let gr=0;gr<Math.abs(ne);gr++)Ne+=be;return this.coreService.triggerDataEvent(Ne,!0),this.cancel(X,!0)}return this.viewport.handleWheel(X)?this.cancel(X):void 0}},{passive:!1})),this.register((0,y.addDisposableDomListener)(N,"touchstart",X=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(X),this.cancel(X)},{passive:!0})),this.register((0,y.addDisposableDomListener)(N,"touchmove",X=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(X)?void 0:this.cancel(X)},{passive:!1}))}refresh(R,N){var $;($=this._renderService)===null||$===void 0||$.refreshRows(R,N)}updateCursorStyle(R){var N;!((N=this._selectionService)===null||N===void 0)&&N.shouldColumnSelect(R)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(R,N,$=0){var U;$===1?(super.scrollLines(R,N,$),this.refresh(0,this.rows-1)):(U=this.viewport)===null||U===void 0||U.scrollLines(R)}paste(R){(0,f.paste)(R,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(R){this._customKeyEventHandler=R}registerLinkProvider(R){return this.linkifier2.registerLinkProvider(R)}registerCharacterJoiner(R){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const N=this._characterJoinerService.register(R);return this.refresh(0,this.rows-1),N}deregisterCharacterJoiner(R){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(R)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(R){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+R)}registerDecoration(R){return this._decorationService.registerDecoration(R)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(R,N,$){this._selectionService.setSelection(R,N,$)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var R;(R=this._selectionService)===null||R===void 0||R.clearSelection()}selectAll(){var R;(R=this._selectionService)===null||R===void 0||R.selectAll()}selectLines(R,N){var $;($=this._selectionService)===null||$===void 0||$.selectLines(R,N)}_keyDown(R){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1)return!1;const N=this.browser.isMac&&this.options.macOptionIsMeta&&R.altKey;if(!N&&!this._compositionHelper.keydown(R))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;N||R.key!=="Dead"&&R.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const $=(0,k.evaluateKeyboardEvent)(R,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(R),$.type===3||$.type===2){const U=this.rows-1;return this.scrollLines($.type===2?-U:U),this.cancel(R,!0)}return $.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,R)||($.cancel&&this.cancel(R,!0),!$.key||!!(R.key&&!R.ctrlKey&&!R.altKey&&!R.metaKey&&R.key.length===1&&R.key.charCodeAt(0)>=65&&R.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):($.key!==z.C0.ETX&&$.key!==z.C0.CR||(this.textarea.value=""),this._onKey.fire({key:$.key,domEvent:R}),this._showCursor(),this.coreService.triggerDataEvent($.key,!0),!this.optionsService.rawOptions.screenReaderMode||R.altKey||R.ctrlKey?this.cancel(R,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(R,N){const $=R.isMac&&!this.options.macOptionIsMeta&&N.altKey&&!N.ctrlKey&&!N.metaKey||R.isWindows&&N.altKey&&N.ctrlKey&&!N.metaKey||R.isWindows&&N.getModifierState("AltGraph");return N.type==="keypress"?$:$&&(!N.keyCode||N.keyCode>47)}_keyUp(R){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1||(function(N){return N.keyCode===16||N.keyCode===17||N.keyCode===18}(R)||this.focus(),this.updateCursorStyle(R),this._keyPressHandled=!1)}_keyPress(R){let N;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1)return!1;if(this.cancel(R),R.charCode)N=R.charCode;else if(R.which===null||R.which===void 0)N=R.keyCode;else{if(R.which===0||R.charCode===0)return!1;N=R.which}return!(!N||(R.altKey||R.ctrlKey||R.metaKey)&&!this._isThirdLevelShift(this.browser,R)||(N=String.fromCharCode(N),this._onKey.fire({key:N,domEvent:R}),this._showCursor(),this.coreService.triggerDataEvent(N,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(R){if(R.data&&R.inputType==="insertText"&&(!R.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const N=R.data;return this.coreService.triggerDataEvent(N,!0),this.cancel(R),!0}return!1}resize(R,N){R!==this.cols||N!==this.rows?super.resize(R,N):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(R,N){var $,U;($=this._charSizeService)===null||$===void 0||$.measure(),(U=this.viewport)===null||U===void 0||U.syncScrollArea(!0)}clear(){var R;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let N=1;N<this.rows;N++)this.buffer.lines.push(this.buffer.getBlankLine(F.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(R=this.viewport)===null||R===void 0||R.reset(),this.refresh(0,this.rows-1)}}reset(){var R,N;this.options.rows=this.rows,this.options.cols=this.cols;const $=this._customKeyEventHandler;this._setup(),super.reset(),(R=this._selectionService)===null||R===void 0||R.reset(),this._decorationService.reset(),(N=this.viewport)===null||N===void 0||N.reset(),this._customKeyEventHandler=$,this.refresh(0,this.rows-1)}clearTextureAtlas(){var R;(R=this._renderService)===null||R===void 0||R.clearTextureAtlas()}_reportFocus(){var R;!((R=this.element)===null||R===void 0)&&R.classList.contains("focus")?this.coreService.triggerDataEvent(z.C0.ESC+"[I"):this.coreService.triggerDataEvent(z.C0.ESC+"[O")}_reportWindowsOptions(R){if(this._renderService)switch(R){case H.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const N=this._renderService.dimensions.css.canvas.width.toFixed(0),$=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[4;${$};${N}t`);break;case H.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const U=this._renderService.dimensions.css.cell.width.toFixed(0),Z=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[6;${Z};${U}t`)}}cancel(R,N){if(this.options.cancelEvents||N)return R.preventDefault(),R.stopPropagation(),!1}}n.Terminal=G},9924:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TimeBasedDebouncer=void 0,n.TimeBasedDebouncer=class{constructor(u,f=1e3){this._renderCallback=u,this._debounceThresholdMS=f,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(u,f,y){this._rowCount=y,u=u!==void 0?u:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f;const d=Date.now();if(d-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=d,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=d-this._lastRefreshMs,w=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const u=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,f)}}},1680:function(p,n,u){var f=this&&this.__decorate||function(a,o,c,_){var S,x=arguments.length,b=x<3?o:_===null?_=Object.getOwnPropertyDescriptor(o,c):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(a,o,c,_);else for(var m=a.length-1;m>=0;m--)(S=a[m])&&(b=(x<3?S(b):x>3?S(o,c,b):S(o,c))||b);return x>3&&b&&Object.defineProperty(o,c,b),b},y=this&&this.__param||function(a,o){return function(c,_){o(c,_,a)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Viewport=void 0;const d=u(3656),g=u(4725),w=u(8460),C=u(844),v=u(2585);let l=n.Viewport=class extends C.Disposable{constructor(a,o,c,_,S,x,b,m){super(),this._viewportElement=a,this._scrollArea=o,this._bufferService=c,this._optionsService=_,this._charSizeService=S,this._renderService=x,this._coreBrowserService=b,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(E=>this._activeBuffer=E.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(E=>this._renderDimensions=E)),this._handleThemeChange(m.colors),this.register(m.onChangeColors(E=>this._handleThemeChange(E))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(a){this._viewportElement.style.backgroundColor=a.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(a){if(a)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const o=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==o&&(this._lastRecordedBufferHeight=o,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const a=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==a&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=a),this._refreshAnimationFrame=null}syncScrollArea(a=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(a);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(a)}_handleScroll(a){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const o=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:o,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const a=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(a*(this._smoothScrollState.target-this._smoothScrollState.origin)),a<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(a,o){const c=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(o<0&&this._viewportElement.scrollTop!==0||o>0&&c<this._lastRecordedBufferHeight)||(a.cancelable&&a.preventDefault(),!1)}handleWheel(a){const o=this._getPixelsScrolled(a);return o!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+o:this._smoothScrollState.target+=o,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=o,this._bubbleScroll(a,o))}scrollLines(a){if(a!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const o=a*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+o,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:a,suppressScrollEvent:!1})}_getPixelsScrolled(a){if(a.deltaY===0||a.shiftKey)return 0;let o=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_LINE?o*=this._currentRowHeight:a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(o*=this._currentRowHeight*this._bufferService.rows),o}getBufferElements(a,o){var c;let _,S="";const x=[],b=o!=null?o:this._bufferService.buffer.lines.length,m=this._bufferService.buffer.lines;for(let E=a;E<b;E++){const D=m.get(E);if(!D)continue;const A=(c=m.get(E+1))===null||c===void 0?void 0:c.isWrapped;if(S+=D.translateToString(!A),!A||E===m.length-1){const P=document.createElement("div");P.textContent=S,x.push(P),S.length>0&&(_=P),S=""}}return{bufferElements:x,cursorElement:_}}getLinesScrolled(a){if(a.deltaY===0||a.shiftKey)return 0;let o=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(o/=this._currentRowHeight+0,this._wheelPartialScroll+=o,o=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(o*=this._bufferService.rows),o}_applyScrollModifier(a,o){const c=this._optionsService.rawOptions.fastScrollModifier;return c==="alt"&&o.altKey||c==="ctrl"&&o.ctrlKey||c==="shift"&&o.shiftKey?a*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:a*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(a){this._lastTouchY=a.touches[0].pageY}handleTouchMove(a){const o=this._lastTouchY-a.touches[0].pageY;return this._lastTouchY=a.touches[0].pageY,o!==0&&(this._viewportElement.scrollTop+=o,this._bubbleScroll(a,o))}};n.Viewport=l=f([y(2,v.IBufferService),y(3,v.IOptionsService),y(4,g.ICharSizeService),y(5,g.IRenderService),y(6,g.ICoreBrowserService),y(7,g.IThemeService)],l)},3107:function(p,n,u){var f=this&&this.__decorate||function(l,a,o,c){var _,S=arguments.length,x=S<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,o):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(l,a,o,c);else for(var b=l.length-1;b>=0;b--)(_=l[b])&&(x=(S<3?_(x):S>3?_(a,o,x):_(a,o))||x);return S>3&&x&&Object.defineProperty(a,o,x),x},y=this&&this.__param||function(l,a){return function(o,c){a(o,c,l)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferDecorationRenderer=void 0;const d=u(3656),g=u(4725),w=u(844),C=u(2585);let v=n.BufferDecorationRenderer=class extends w.Disposable{constructor(l,a,o,c){super(),this._screenElement=l,this._bufferService=a,this._decorationService=o,this._renderService=c,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,d.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(_=>this._removeDecoration(_))),this.register((0,w.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const l of this._decorationService.decorations)this._renderDecoration(l);this._dimensionsChanged=!1}_renderDecoration(l){this._refreshStyle(l),this._dimensionsChanged&&this._refreshXPosition(l)}_createElement(l){var a,o;const c=document.createElement("div");c.classList.add("xterm-decoration"),c.classList.toggle("xterm-decoration-top-layer",((a=l==null?void 0:l.options)===null||a===void 0?void 0:a.layer)==="top"),c.style.width=`${Math.round((l.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,c.style.height=(l.options.height||1)*this._renderService.dimensions.css.cell.height+"px",c.style.top=(l.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",c.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const _=(o=l.options.x)!==null&&o!==void 0?o:0;return _&&_>this._bufferService.cols&&(c.style.display="none"),this._refreshXPosition(l,c),c}_refreshStyle(l){const a=l.marker.line-this._bufferService.buffers.active.ydisp;if(a<0||a>=this._bufferService.rows)l.element&&(l.element.style.display="none",l.onRenderEmitter.fire(l.element));else{let o=this._decorationElements.get(l);o||(o=this._createElement(l),l.element=o,this._decorationElements.set(l,o),this._container.appendChild(o),l.onDispose(()=>{this._decorationElements.delete(l),o.remove()})),o.style.top=a*this._renderService.dimensions.css.cell.height+"px",o.style.display=this._altBufferIsActive?"none":"block",l.onRenderEmitter.fire(o)}}_refreshXPosition(l,a=l.element){var o;if(!a)return;const c=(o=l.options.x)!==null&&o!==void 0?o:0;(l.options.anchor||"left")==="right"?a.style.right=c?c*this._renderService.dimensions.css.cell.width+"px":"":a.style.left=c?c*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(l){var a;(a=this._decorationElements.get(l))===null||a===void 0||a.remove(),this._decorationElements.delete(l),l.dispose()}};n.BufferDecorationRenderer=v=f([y(1,C.IBufferService),y(2,C.IDecorationService),y(3,g.IRenderService)],v)},5871:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorZoneStore=void 0,n.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(u){if(u.options.overviewRulerOptions){for(const f of this._zones)if(f.color===u.options.overviewRulerOptions.color&&f.position===u.options.overviewRulerOptions.position){if(this._lineIntersectsZone(f,u.marker.line))return;if(this._lineAdjacentToZone(f,u.marker.line,u.options.overviewRulerOptions.position))return void this._addLineToZone(f,u.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=u.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=u.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=u.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=u.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:u.options.overviewRulerOptions.color,position:u.options.overviewRulerOptions.position,startBufferLine:u.marker.line,endBufferLine:u.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(u){this._linePadding=u}_lineIntersectsZone(u,f){return f>=u.startBufferLine&&f<=u.endBufferLine}_lineAdjacentToZone(u,f,y){return f>=u.startBufferLine-this._linePadding[y||"full"]&&f<=u.endBufferLine+this._linePadding[y||"full"]}_addLineToZone(u,f){u.startBufferLine=Math.min(u.startBufferLine,f),u.endBufferLine=Math.max(u.endBufferLine,f)}}},5744:function(p,n,u){var f=this&&this.__decorate||function(_,S,x,b){var m,E=arguments.length,D=E<3?S:b===null?b=Object.getOwnPropertyDescriptor(S,x):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(_,S,x,b);else for(var A=_.length-1;A>=0;A--)(m=_[A])&&(D=(E<3?m(D):E>3?m(S,x,D):m(S,x))||D);return E>3&&D&&Object.defineProperty(S,x,D),D},y=this&&this.__param||function(_,S){return function(x,b){S(x,b,_)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OverviewRulerRenderer=void 0;const d=u(5871),g=u(3656),w=u(4725),C=u(844),v=u(2585),l={full:0,left:0,center:0,right:0},a={full:0,left:0,center:0,right:0},o={full:0,left:0,center:0,right:0};let c=n.OverviewRulerRenderer=class extends C.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(_,S,x,b,m,E,D){var A;super(),this._viewportElement=_,this._screenElement=S,this._bufferService=x,this._decorationService=b,this._renderService=m,this._optionsService=E,this._coreBrowseService=D,this._colorZoneStore=new d.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(A=this._viewportElement.parentElement)===null||A===void 0||A.insertBefore(this._canvas,this._viewportElement);const P=this._canvas.getContext("2d");if(!P)throw new Error("Ctx cannot be null");this._ctx=P,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,C.toDisposable)(()=>{var B;(B=this._canvas)===null||B===void 0||B.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,g.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const _=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);a.full=this._canvas.width,a.left=_,a.center=S,a.right=_,this._refreshDrawHeightConstants(),o.full=0,o.left=0,o.center=a.left,o.right=a.left+a.center}_refreshDrawHeightConstants(){l.full=Math.round(2*this._coreBrowseService.dpr);const _=this._canvas.height/this._bufferService.buffer.lines.length,S=Math.round(Math.max(Math.min(_,12),6)*this._coreBrowseService.dpr);l.left=S,l.center=S,l.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*l.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*l.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*l.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*l.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const _=this._colorZoneStore.zones;for(const S of _)S.position!=="full"&&this._renderColorZone(S);for(const S of _)S.position==="full"&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(_){this._ctx.fillStyle=_.color,this._ctx.fillRect(o[_.position||"full"],Math.round((this._canvas.height-1)*(_.startBufferLine/this._bufferService.buffers.active.lines.length)-l[_.position||"full"]/2),a[_.position||"full"],Math.round((this._canvas.height-1)*((_.endBufferLine-_.startBufferLine)/this._bufferService.buffers.active.lines.length)+l[_.position||"full"]))}_queueRefresh(_,S){this._shouldUpdateDimensions=_||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};n.OverviewRulerRenderer=c=f([y(2,v.IBufferService),y(3,v.IDecorationService),y(4,w.IRenderService),y(5,v.IOptionsService),y(6,w.ICoreBrowserService)],c)},2950:function(p,n,u){var f=this&&this.__decorate||function(v,l,a,o){var c,_=arguments.length,S=_<3?l:o===null?o=Object.getOwnPropertyDescriptor(l,a):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(v,l,a,o);else for(var x=v.length-1;x>=0;x--)(c=v[x])&&(S=(_<3?c(S):_>3?c(l,a,S):c(l,a))||S);return _>3&&S&&Object.defineProperty(l,a,S),S},y=this&&this.__param||function(v,l){return function(a,o){l(a,o,v)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompositionHelper=void 0;const d=u(4725),g=u(2585),w=u(2584);let C=n.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(v,l,a,o,c,_){this._textarea=v,this._compositionView=l,this._bufferService=a,this._optionsService=o,this._coreService=c,this._renderService=_,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(v){this._compositionView.textContent=v.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(v){if(this._isComposing||this._isSendingComposition){if(v.keyCode===229||v.keyCode===16||v.keyCode===17||v.keyCode===18)return!1;this._finalizeComposition(!1)}return v.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(v){if(this._compositionView.classList.remove("active"),this._isComposing=!1,v){const l={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let a;this._isSendingComposition=!1,l.start+=this._dataAlreadySent.length,a=this._isComposing?this._textarea.value.substring(l.start,l.end):this._textarea.value.substring(l.start),a.length>0&&this._coreService.triggerDataEvent(a,!0)}},0)}else{this._isSendingComposition=!1;const l=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(l,!0)}}_handleAnyTextareaChanges(){const v=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const l=this._textarea.value,a=l.replace(v,"");this._dataAlreadySent=a,l.length>v.length?this._coreService.triggerDataEvent(a,!0):l.length<v.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):l.length===v.length&&l!==v&&this._coreService.triggerDataEvent(l,!0)}},0)}updateCompositionElements(v){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const l=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),a=this._renderService.dimensions.css.cell.height,o=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,c=l*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=c+"px",this._compositionView.style.top=o+"px",this._compositionView.style.height=a+"px",this._compositionView.style.lineHeight=a+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const _=this._compositionView.getBoundingClientRect();this._textarea.style.left=c+"px",this._textarea.style.top=o+"px",this._textarea.style.width=Math.max(_.width,1)+"px",this._textarea.style.height=Math.max(_.height,1)+"px",this._textarea.style.lineHeight=_.height+"px"}v||setTimeout(()=>this.updateCompositionElements(!0),0)}}};n.CompositionHelper=C=f([y(2,g.IBufferService),y(3,g.IOptionsService),y(4,g.ICoreService),y(5,d.IRenderService)],C)},9806:(p,n)=>{function u(f,y,d){const g=d.getBoundingClientRect(),w=f.getComputedStyle(d),C=parseInt(w.getPropertyValue("padding-left")),v=parseInt(w.getPropertyValue("padding-top"));return[y.clientX-g.left-C,y.clientY-g.top-v]}Object.defineProperty(n,"__esModule",{value:!0}),n.getCoords=n.getCoordsRelativeToElement=void 0,n.getCoordsRelativeToElement=u,n.getCoords=function(f,y,d,g,w,C,v,l,a){if(!C)return;const o=u(f,y,d);return o?(o[0]=Math.ceil((o[0]+(a?v/2:0))/v),o[1]=Math.ceil(o[1]/l),o[0]=Math.min(Math.max(o[0],1),g+(a?1:0)),o[1]=Math.min(Math.max(o[1],1),w),o):void 0}},9504:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.moveToCellSequence=void 0;const f=u(2584);function y(l,a,o,c){const _=l-d(l,o),S=a-d(a,o),x=Math.abs(_-S)-function(b,m,E){let D=0;const A=b-d(b,E),P=m-d(m,E);for(let B=0;B<Math.abs(A-P);B++){const j=g(b,m)==="A"?-1:1,I=E.buffer.lines.get(A+j*B);I!=null&&I.isWrapped&&D++}return D}(l,a,o);return v(x,C(g(l,a),c))}function d(l,a){let o=0,c=a.buffer.lines.get(l),_=c==null?void 0:c.isWrapped;for(;_&&l>=0&&l<a.rows;)o++,c=a.buffer.lines.get(--l),_=c==null?void 0:c.isWrapped;return o}function g(l,a){return l>a?"A":"B"}function w(l,a,o,c,_,S){let x=l,b=a,m="";for(;x!==o||b!==c;)x+=_?1:-1,_&&x>S.cols-1?(m+=S.buffer.translateBufferLineToString(b,!1,l,x),x=0,l=0,b++):!_&&x<0&&(m+=S.buffer.translateBufferLineToString(b,!1,0,l+1),x=S.cols-1,l=x,b--);return m+S.buffer.translateBufferLineToString(b,!1,l,x)}function C(l,a){const o=a?"O":"[";return f.C0.ESC+o+l}function v(l,a){l=Math.floor(l);let o="";for(let c=0;c<l;c++)o+=a;return o}n.moveToCellSequence=function(l,a,o,c){const _=o.buffer.x,S=o.buffer.y;if(!o.buffer.hasScrollback)return function(m,E,D,A,P,B){return y(E,A,P,B).length===0?"":v(w(m,E,m,E-d(E,P),!1,P).length,C("D",B))}(_,S,0,a,o,c)+y(S,a,o,c)+function(m,E,D,A,P,B){let j;j=y(E,A,P,B).length>0?A-d(A,P):E;const I=A,F=function(z,k,T,M,O,H){let V;return V=y(T,M,O,H).length>0?M-d(M,O):k,z<T&&V<=M||z>=T&&V<M?"C":"D"}(m,E,D,A,P,B);return v(w(m,j,D,I,F==="C",P).length,C(F,B))}(_,S,l,a,o,c);let x;if(S===a)return x=_>l?"D":"C",v(Math.abs(_-l),C(x,c));x=S>a?"D":"C";const b=Math.abs(S-a);return v(function(m,E){return E.cols-m}(S>a?l:_,o)+(b-1)*o.cols+1+((S>a?_:l)-1),C(x,c))}},1296:function(p,n,u){var f=this&&this.__decorate||function(P,B,j,I){var F,z=arguments.length,k=z<3?B:I===null?I=Object.getOwnPropertyDescriptor(B,j):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(P,B,j,I);else for(var T=P.length-1;T>=0;T--)(F=P[T])&&(k=(z<3?F(k):z>3?F(B,j,k):F(B,j))||k);return z>3&&k&&Object.defineProperty(B,j,k),k},y=this&&this.__param||function(P,B){return function(j,I){B(j,I,P)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRenderer=void 0;const d=u(3787),g=u(2550),w=u(2223),C=u(6171),v=u(4725),l=u(8055),a=u(8460),o=u(844),c=u(2585),_="xterm-dom-renderer-owner-",S="xterm-rows",x="xterm-fg-",b="xterm-bg-",m="xterm-focus",E="xterm-selection";let D=1,A=n.DomRenderer=class extends o.Disposable{constructor(P,B,j,I,F,z,k,T,M,O){super(),this._element=P,this._screenElement=B,this._viewportElement=j,this._linkifier2=I,this._charSizeService=z,this._optionsService=k,this._bufferService=T,this._coreBrowserService=M,this._themeService=O,this._terminalClass=D++,this._rowElements=[],this.onRequestRedraw=this.register(new a.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(S),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(E),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,C.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(H=>this._injectCss(H))),this._injectCss(this._themeService.colors),this._rowFactory=F.createInstance(d.DomRendererRowFactory,document),this._element.classList.add(_+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(H=>this._handleLinkHover(H))),this.register(this._linkifier2.onHideLinkUnderline(H=>this._handleLinkLeave(H))),this.register((0,o.toDisposable)(()=>{this._element.classList.remove(_+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new g.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const P=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*P,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*P),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/P),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/P),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const j of this._rowElements)j.style.width=`${this.dimensions.css.canvas.width}px`,j.style.height=`${this.dimensions.css.cell.height}px`,j.style.lineHeight=`${this.dimensions.css.cell.height}px`,j.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const B=`${this._terminalSelector} .${S} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=B,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(P){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let B=`${this._terminalSelector} .${S} { color: ${P.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;B+=`${this._terminalSelector} .${S} .xterm-dim { color: ${l.color.multiplyOpacity(P.foreground,.5).css};}`,B+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,B+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",B+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${P.cursor.css};  color: ${P.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${P.cursor.css}; }}`,B+=`${this._terminalSelector} .${S}.${m} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S}.${m} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-block { background-color: ${P.cursor.css}; color: ${P.cursorAccent.css};}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${P.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${P.cursor.css} inset;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${P.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,B+=`${this._terminalSelector} .${E} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${E} div { position: absolute; background-color: ${P.selectionBackgroundOpaque.css};}${this._terminalSelector} .${E} div { position: absolute; background-color: ${P.selectionInactiveBackgroundOpaque.css};}`;for(const[j,I]of P.ansi.entries())B+=`${this._terminalSelector} .${x}${j} { color: ${I.css}; }${this._terminalSelector} .${x}${j}.xterm-dim { color: ${l.color.multiplyOpacity(I,.5).css}; }${this._terminalSelector} .${b}${j} { background-color: ${I.css}; }`;B+=`${this._terminalSelector} .${x}${w.INVERTED_DEFAULT_COLOR} { color: ${l.color.opaque(P.background).css}; }${this._terminalSelector} .${x}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${l.color.multiplyOpacity(l.color.opaque(P.background),.5).css}; }${this._terminalSelector} .${b}${w.INVERTED_DEFAULT_COLOR} { background-color: ${P.foreground.css}; }`,this._themeStyleElement.textContent=B}_setDefaultSpacing(){const P=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${P}px`,this._rowFactory.defaultSpacing=P}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(P,B){for(let j=this._rowElements.length;j<=B;j++){const I=document.createElement("div");this._rowContainer.appendChild(I),this._rowElements.push(I)}for(;this._rowElements.length>B;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(P,B){this._refreshRowElements(P,B),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(m)}handleFocus(){this._rowContainer.classList.add(m),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(P,B,j){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(P,B,j),this.renderRows(0,this._bufferService.rows-1),!P||!B)return;const I=P[1]-this._bufferService.buffer.ydisp,F=B[1]-this._bufferService.buffer.ydisp,z=Math.max(I,0),k=Math.min(F,this._bufferService.rows-1);if(z>=this._bufferService.rows||k<0)return;const T=document.createDocumentFragment();if(j){const M=P[0]>B[0];T.appendChild(this._createSelectionElement(z,M?B[0]:P[0],M?P[0]:B[0],k-z+1))}else{const M=I===z?P[0]:0,O=z===F?B[0]:this._bufferService.cols;T.appendChild(this._createSelectionElement(z,M,O));const H=k-z-1;if(T.appendChild(this._createSelectionElement(z+1,0,this._bufferService.cols,H)),z!==k){const V=F===k?B[0]:this._bufferService.cols;T.appendChild(this._createSelectionElement(k,0,V))}}this._selectionContainer.appendChild(T)}_createSelectionElement(P,B,j,I=1){const F=document.createElement("div");return F.style.height=I*this.dimensions.css.cell.height+"px",F.style.top=P*this.dimensions.css.cell.height+"px",F.style.left=B*this.dimensions.css.cell.width+"px",F.style.width=this.dimensions.css.cell.width*(j-B)+"px",F}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const P of this._rowElements)P.replaceChildren()}renderRows(P,B){const j=this._bufferService.buffer,I=j.ybase+j.y,F=Math.min(j.x,this._bufferService.cols-1),z=this._optionsService.rawOptions.cursorBlink,k=this._optionsService.rawOptions.cursorStyle,T=this._optionsService.rawOptions.cursorInactiveStyle;for(let M=P;M<=B;M++){const O=M+j.ydisp,H=this._rowElements[M],V=j.lines.get(O);if(!H||!V)break;H.replaceChildren(...this._rowFactory.createRow(V,O,O===I,k,T,F,z,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${_}${this._terminalClass}`}_handleLinkHover(P){this._setCellUnderline(P.x1,P.x2,P.y1,P.y2,P.cols,!0)}_handleLinkLeave(P){this._setCellUnderline(P.x1,P.x2,P.y1,P.y2,P.cols,!1)}_setCellUnderline(P,B,j,I,F,z){j<0&&(P=0),I<0&&(B=0);const k=this._bufferService.rows-1;j=Math.max(Math.min(j,k),0),I=Math.max(Math.min(I,k),0),F=Math.min(F,this._bufferService.cols);const T=this._bufferService.buffer,M=T.ybase+T.y,O=Math.min(T.x,F-1),H=this._optionsService.rawOptions.cursorBlink,V=this._optionsService.rawOptions.cursorStyle,q=this._optionsService.rawOptions.cursorInactiveStyle;for(let G=j;G<=I;++G){const ie=G+T.ydisp,R=this._rowElements[G],N=T.lines.get(ie);if(!R||!N)break;R.replaceChildren(...this._rowFactory.createRow(N,ie,ie===M,V,q,O,H,this.dimensions.css.cell.width,this._widthCache,z?G===j?P:0:-1,z?(G===I?B:F)-1:-1))}}};n.DomRenderer=A=f([y(4,c.IInstantiationService),y(5,v.ICharSizeService),y(6,c.IOptionsService),y(7,c.IBufferService),y(8,v.ICoreBrowserService),y(9,v.IThemeService)],A)},3787:function(p,n,u){var f=this&&this.__decorate||function(x,b,m,E){var D,A=arguments.length,P=A<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,m):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(x,b,m,E);else for(var B=x.length-1;B>=0;B--)(D=x[B])&&(P=(A<3?D(P):A>3?D(b,m,P):D(b,m))||P);return A>3&&P&&Object.defineProperty(b,m,P),P},y=this&&this.__param||function(x,b){return function(m,E){b(m,E,x)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRendererRowFactory=void 0;const d=u(2223),g=u(643),w=u(511),C=u(2585),v=u(8055),l=u(4725),a=u(4269),o=u(6171),c=u(3734);let _=n.DomRendererRowFactory=class{constructor(x,b,m,E,D,A,P){this._document=x,this._characterJoinerService=b,this._optionsService=m,this._coreBrowserService=E,this._coreService=D,this._decorationService=A,this._themeService=P,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(x,b,m){this._selectionStart=x,this._selectionEnd=b,this._columnSelectMode=m}createRow(x,b,m,E,D,A,P,B,j,I,F){const z=[],k=this._characterJoinerService.getJoinedCharacters(b),T=this._themeService.colors;let M,O=x.getNoBgTrimmedLength();m&&O<A+1&&(O=A+1);let H=0,V="",q=0,G=0,ie=0,R=!1,N=0,$=!1,U=0;const Z=[],X=I!==-1&&F!==-1;for(let ne=0;ne<O;ne++){x.loadCell(ne,this._workCell);let be=this._workCell.getWidth();if(be===0)continue;let Ne=!1,gr=ne,te=this._workCell;if(k.length>0&&ne===k[0][0]){Ne=!0;const de=k.shift();te=new a.JoinedCellData(this._workCell,x.translateToString(!0,de[0],de[1]),de[1]-de[0]),gr=de[1]-1,be=te.getWidth()}const Yr=this._isCellInSelection(ne,b),Ln=m&&ne===A,Rn=X&&ne>=I&&ne<=F;let Dn=!1;this._decorationService.forEachDecorationAtCell(ne,b,void 0,de=>{Dn=!0});let Ji=te.getChars()||g.WHITESPACE_CELL_CHAR;if(Ji===" "&&(te.isUnderline()||te.isOverline())&&(Ji=""),U=be*B-j.get(Ji,te.isBold(),te.isItalic()),M){if(H&&(Yr&&$||!Yr&&!$&&te.bg===q)&&(Yr&&$&&T.selectionForeground||te.fg===G)&&te.extended.ext===ie&&Rn===R&&U===N&&!Ln&&!Ne&&!Dn){V+=Ji,H++;continue}H&&(M.textContent=V),M=this._document.createElement("span"),H=0,V=""}else M=this._document.createElement("span");if(q=te.bg,G=te.fg,ie=te.extended.ext,R=Rn,N=U,$=Yr,Ne&&A>=ne&&A<=gr&&(A=ne),!this._coreService.isCursorHidden&&Ln){if(Z.push("xterm-cursor"),this._coreBrowserService.isFocused)P&&Z.push("xterm-cursor-blink"),Z.push(E==="bar"?"xterm-cursor-bar":E==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(D)switch(D){case"outline":Z.push("xterm-cursor-outline");break;case"block":Z.push("xterm-cursor-block");break;case"bar":Z.push("xterm-cursor-bar");break;case"underline":Z.push("xterm-cursor-underline")}}if(te.isBold()&&Z.push("xterm-bold"),te.isItalic()&&Z.push("xterm-italic"),te.isDim()&&Z.push("xterm-dim"),V=te.isInvisible()?g.WHITESPACE_CELL_CHAR:te.getChars()||g.WHITESPACE_CELL_CHAR,te.isUnderline()&&(Z.push(`xterm-underline-${te.extended.underlineStyle}`),V===" "&&(V=""),!te.isUnderlineColorDefault()))if(te.isUnderlineColorRGB())M.style.textDecorationColor=`rgb(${c.AttributeData.toColorRGB(te.getUnderlineColor()).join(",")})`;else{let de=te.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&te.isBold()&&de<8&&(de+=8),M.style.textDecorationColor=T.ansi[de].css}te.isOverline()&&(Z.push("xterm-overline"),V===" "&&(V="")),te.isStrikethrough()&&Z.push("xterm-strikethrough"),Rn&&(M.style.textDecoration="underline");let Qe=te.getFgColor(),Jr=te.getFgColorMode(),dt=te.getBgColor(),Zr=te.getBgColorMode();const Tn=!!te.isInverse();if(Tn){const de=Qe;Qe=dt,dt=de;const Vd=Jr;Jr=Zr,Zr=Vd}let Dt,An,Tt,ei=!1;switch(this._decorationService.forEachDecorationAtCell(ne,b,void 0,de=>{de.options.layer!=="top"&&ei||(de.backgroundColorRGB&&(Zr=50331648,dt=de.backgroundColorRGB.rgba>>8&16777215,Dt=de.backgroundColorRGB),de.foregroundColorRGB&&(Jr=50331648,Qe=de.foregroundColorRGB.rgba>>8&16777215,An=de.foregroundColorRGB),ei=de.options.layer==="top")}),!ei&&Yr&&(Dt=this._coreBrowserService.isFocused?T.selectionBackgroundOpaque:T.selectionInactiveBackgroundOpaque,dt=Dt.rgba>>8&16777215,Zr=50331648,ei=!0,T.selectionForeground&&(Jr=50331648,Qe=T.selectionForeground.rgba>>8&16777215,An=T.selectionForeground)),ei&&Z.push("xterm-decoration-top"),Zr){case 16777216:case 33554432:Tt=T.ansi[dt],Z.push(`xterm-bg-${dt}`);break;case 50331648:Tt=v.rgba.toColor(dt>>16,dt>>8&255,255&dt),this._addStyle(M,`background-color:#${S((dt>>>0).toString(16),"0",6)}`);break;default:Tn?(Tt=T.foreground,Z.push(`xterm-bg-${d.INVERTED_DEFAULT_COLOR}`)):Tt=T.background}switch(Dt||te.isDim()&&(Dt=v.color.multiplyOpacity(Tt,.5)),Jr){case 16777216:case 33554432:te.isBold()&&Qe<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Qe+=8),this._applyMinimumContrast(M,Tt,T.ansi[Qe],te,Dt,void 0)||Z.push(`xterm-fg-${Qe}`);break;case 50331648:const de=v.rgba.toColor(Qe>>16&255,Qe>>8&255,255&Qe);this._applyMinimumContrast(M,Tt,de,te,Dt,An)||this._addStyle(M,`color:#${S(Qe.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(M,Tt,T.foreground,te,Dt,void 0)||Tn&&Z.push(`xterm-fg-${d.INVERTED_DEFAULT_COLOR}`)}Z.length&&(M.className=Z.join(" "),Z.length=0),Ln||Ne||Dn?M.textContent=V:H++,U!==this.defaultSpacing&&(M.style.letterSpacing=`${U}px`),z.push(M),ne=gr}return M&&H&&(M.textContent=V),z}_applyMinimumContrast(x,b,m,E,D,A){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,o.excludeFromContrastRatioDemands)(E.getCode()))return!1;const P=this._getContrastCache(E);let B;if(D||A||(B=P.getColor(b.rgba,m.rgba)),B===void 0){const j=this._optionsService.rawOptions.minimumContrastRatio/(E.isDim()?2:1);B=v.color.ensureContrastRatio(D||b,A||m,j),P.setColor((D||b).rgba,(A||m).rgba,B!=null?B:null)}return!!B&&(this._addStyle(x,`color:${B.css}`),!0)}_getContrastCache(x){return x.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(x,b){x.setAttribute("style",`${x.getAttribute("style")||""}${b};`)}_isCellInSelection(x,b){const m=this._selectionStart,E=this._selectionEnd;return!(!m||!E)&&(this._columnSelectMode?m[0]<=E[0]?x>=m[0]&&b>=m[1]&&x<E[0]&&b<=E[1]:x<m[0]&&b>=m[1]&&x>=E[0]&&b<=E[1]:b>m[1]&&b<E[1]||m[1]===E[1]&&b===m[1]&&x>=m[0]&&x<E[0]||m[1]<E[1]&&b===E[1]&&x<E[0]||m[1]<E[1]&&b===m[1]&&x>=m[0])}};function S(x,b,m){for(;x.length<m;)x=b+x;return x}n.DomRendererRowFactory=_=f([y(1,l.ICharacterJoinerService),y(2,C.IOptionsService),y(3,l.ICoreBrowserService),y(4,C.ICoreService),y(5,C.IDecorationService),y(6,l.IThemeService)],_)},2550:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WidthCache=void 0,n.WidthCache=class{constructor(u){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=u.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const f=u.createElement("span"),y=u.createElement("span");y.style.fontWeight="bold";const d=u.createElement("span");d.style.fontStyle="italic";const g=u.createElement("span");g.style.fontWeight="bold",g.style.fontStyle="italic",this._measureElements=[f,y,d,g],this._container.appendChild(f),this._container.appendChild(y),this._container.appendChild(d),this._container.appendChild(g),u.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(u,f,y,d){u===this._font&&f===this._fontSize&&y===this._weight&&d===this._weightBold||(this._font=u,this._fontSize=f,this._weight=y,this._weightBold=d,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${y}`,this._measureElements[1].style.fontWeight=`${d}`,this._measureElements[2].style.fontWeight=`${y}`,this._measureElements[3].style.fontWeight=`${d}`,this.clear())}get(u,f,y){let d=0;if(!f&&!y&&u.length===1&&(d=u.charCodeAt(0))<256)return this._flat[d]!==-9999?this._flat[d]:this._flat[d]=this._measure(u,0);let g=u;f&&(g+="B"),y&&(g+="I");let w=this._holey.get(g);if(w===void 0){let C=0;f&&(C|=1),y&&(C|=2),w=this._measure(u,C),this._holey.set(g,w)}return w}_measure(u,f){const y=this._measureElements[f];return y.textContent=u.repeat(32),y.offsetWidth/32}}},2223:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TEXT_BASELINE=n.DIM_OPACITY=n.INVERTED_DEFAULT_COLOR=void 0;const f=u(6114);n.INVERTED_DEFAULT_COLOR=257,n.DIM_OPACITY=.5,n.TEXT_BASELINE=f.isFirefox||f.isLegacyEdge?"bottom":"ideographic"},6171:(p,n)=>{function u(f){return 57508<=f&&f<=57558}Object.defineProperty(n,"__esModule",{value:!0}),n.createRenderDimensions=n.excludeFromContrastRatioDemands=n.isRestrictedPowerlineGlyph=n.isPowerlineGlyph=n.throwIfFalsy=void 0,n.throwIfFalsy=function(f){if(!f)throw new Error("value must not be falsy");return f},n.isPowerlineGlyph=u,n.isRestrictedPowerlineGlyph=function(f){return 57520<=f&&f<=57527},n.excludeFromContrastRatioDemands=function(f){return u(f)||function(y){return 9472<=y&&y<=9631}(f)},n.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionModel=void 0,n.SelectionModel=class{constructor(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[Math.max(u,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const u=this.selectionStart,f=this.selectionEnd;return!(!u||!f)&&(u[1]>f[1]||u[1]===f[1]&&u[0]>f[0])}handleTrim(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(p,n,u){var f=this&&this.__decorate||function(l,a,o,c){var _,S=arguments.length,x=S<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,o):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(l,a,o,c);else for(var b=l.length-1;b>=0;b--)(_=l[b])&&(x=(S<3?_(x):S>3?_(a,o,x):_(a,o))||x);return S>3&&x&&Object.defineProperty(a,o,x),x},y=this&&this.__param||function(l,a){return function(o,c){a(o,c,l)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharSizeService=void 0;const d=u(2585),g=u(8460),w=u(844);let C=n.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(l,a,o){super(),this._optionsService=o,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new v(l,a,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const l=this._measureStrategy.measure();l.width===this.width&&l.height===this.height||(this.width=l.width,this.height=l.height,this._onCharSizeChange.fire())}};n.CharSizeService=C=f([y(2,d.IOptionsService)],C);class v{constructor(a,o,c){this._document=a,this._parentElement=o,this._optionsService=c,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const a={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return a.width!==0&&a.height!==0&&(this._result.width=a.width/32,this._result.height=Math.ceil(a.height)),this._result}}},4269:function(p,n,u){var f=this&&this.__decorate||function(a,o,c,_){var S,x=arguments.length,b=x<3?o:_===null?_=Object.getOwnPropertyDescriptor(o,c):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(a,o,c,_);else for(var m=a.length-1;m>=0;m--)(S=a[m])&&(b=(x<3?S(b):x>3?S(o,c,b):S(o,c))||b);return x>3&&b&&Object.defineProperty(o,c,b),b},y=this&&this.__param||function(a,o){return function(c,_){o(c,_,a)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterJoinerService=n.JoinedCellData=void 0;const d=u(3734),g=u(643),w=u(511),C=u(2585);class v extends d.AttributeData{constructor(o,c,_){super(),this.content=0,this.combinedData="",this.fg=o.fg,this.bg=o.bg,this.combinedData=c,this._width=_}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(o){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.JoinedCellData=v;let l=n.CharacterJoinerService=class Wd{constructor(o){this._bufferService=o,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(o){const c={id:this._nextCharacterJoinerId++,handler:o};return this._characterJoiners.push(c),c.id}deregister(o){for(let c=0;c<this._characterJoiners.length;c++)if(this._characterJoiners[c].id===o)return this._characterJoiners.splice(c,1),!0;return!1}getJoinedCharacters(o){if(this._characterJoiners.length===0)return[];const c=this._bufferService.buffer.lines.get(o);if(!c||c.length===0)return[];const _=[],S=c.translateToString(!0);let x=0,b=0,m=0,E=c.getFg(0),D=c.getBg(0);for(let A=0;A<c.getTrimmedLength();A++)if(c.loadCell(A,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==D){if(A-x>1){const P=this._getJoinedRanges(S,m,b,c,x);for(let B=0;B<P.length;B++)_.push(P[B])}x=A,m=b,E=this._workCell.fg,D=this._workCell.bg}b+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-x>1){const A=this._getJoinedRanges(S,m,b,c,x);for(let P=0;P<A.length;P++)_.push(A[P])}return _}_getJoinedRanges(o,c,_,S,x){const b=o.substring(c,_);let m=[];try{m=this._characterJoiners[0].handler(b)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const D=this._characterJoiners[E].handler(b);for(let A=0;A<D.length;A++)Wd._mergeRanges(m,D[A])}catch(D){console.error(D)}return this._stringRangesToCellRanges(m,S,x),m}_stringRangesToCellRanges(o,c,_){let S=0,x=!1,b=0,m=o[S];if(m){for(let E=_;E<this._bufferService.cols;E++){const D=c.getWidth(E),A=c.getString(E).length||g.WHITESPACE_CELL_CHAR.length;if(D!==0){if(!x&&m[0]<=b&&(m[0]=E,x=!0),m[1]<=b){if(m[1]=E,m=o[++S],!m)break;m[0]<=b?(m[0]=E,x=!0):x=!1}b+=A}}m&&(m[1]=this._bufferService.cols)}}static _mergeRanges(o,c){let _=!1;for(let S=0;S<o.length;S++){const x=o[S];if(_){if(c[1]<=x[0])return o[S-1][1]=c[1],o;if(c[1]<=x[1])return o[S-1][1]=Math.max(c[1],x[1]),o.splice(S,1),o;o.splice(S,1),S--}else{if(c[1]<=x[0])return o.splice(S,0,c),o;if(c[1]<=x[1])return x[0]=Math.min(c[0],x[0]),o;c[0]<x[1]&&(x[0]=Math.min(c[0],x[0]),_=!0)}}return _?o[o.length-1][1]=c[1]:o.push(c),o}};n.CharacterJoinerService=l=f([y(0,C.IBufferService)],l)},5114:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreBrowserService=void 0,n.CoreBrowserService=class{constructor(u,f){this._textarea=u,this.window=f,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(p,n,u){var f=this&&this.__decorate||function(C,v,l,a){var o,c=arguments.length,_=c<3?v:a===null?a=Object.getOwnPropertyDescriptor(v,l):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(C,v,l,a);else for(var S=C.length-1;S>=0;S--)(o=C[S])&&(_=(c<3?o(_):c>3?o(v,l,_):o(v,l))||_);return c>3&&_&&Object.defineProperty(v,l,_),_},y=this&&this.__param||function(C,v){return function(l,a){v(l,a,C)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseService=void 0;const d=u(4725),g=u(9806);let w=n.MouseService=class{constructor(C,v){this._renderService=C,this._charSizeService=v}getCoords(C,v,l,a,o){return(0,g.getCoords)(window,C,v,l,a,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,o)}getMouseReportCoords(C,v){const l=(0,g.getCoordsRelativeToElement)(window,C,v);if(this._charSizeService.hasValidSize)return l[0]=Math.min(Math.max(l[0],0),this._renderService.dimensions.css.canvas.width-1),l[1]=Math.min(Math.max(l[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(l[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(l[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(l[0]),y:Math.floor(l[1])}}};n.MouseService=w=f([y(0,d.IRenderService),y(1,d.ICharSizeService)],w)},3230:function(p,n,u){var f=this&&this.__decorate||function(_,S,x,b){var m,E=arguments.length,D=E<3?S:b===null?b=Object.getOwnPropertyDescriptor(S,x):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(_,S,x,b);else for(var A=_.length-1;A>=0;A--)(m=_[A])&&(D=(E<3?m(D):E>3?m(S,x,D):m(S,x))||D);return E>3&&D&&Object.defineProperty(S,x,D),D},y=this&&this.__param||function(_,S){return function(x,b){S(x,b,_)}};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderService=void 0;const d=u(3656),g=u(6193),w=u(5596),C=u(4725),v=u(8460),l=u(844),a=u(7226),o=u(2585);let c=n.RenderService=class extends l.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(_,S,x,b,m,E,D,A){if(super(),this._rowCount=_,this._charSizeService=b,this._renderer=this.register(new l.MutableDisposable),this._pausedResizeTask=new a.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new v.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new v.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new v.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new g.RenderDebouncer(D.window,(P,B)=>this._renderRows(P,B)),this.register(this._renderDebouncer),this._screenDprMonitor=new w.ScreenDprMonitor(D.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var P;return(P=this._renderer.value)===null||P===void 0?void 0:P.clear()})),this.register(x.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(m.onDecorationRegistered(()=>this._fullRefresh())),this.register(m.onDecorationRemoved(()=>this._fullRefresh())),this.register(x.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()})),this.register(x.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(E.buffer.y,E.buffer.y,!0))),this.register((0,d.addDisposableDomListener)(D.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(A.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in D.window){const P=new D.window.IntersectionObserver(B=>this._handleIntersectionChange(B[B.length-1]),{threshold:0});P.observe(S),this.register({dispose:()=>P.disconnect()})}}_handleIntersectionChange(_){this._isPaused=_.isIntersecting===void 0?_.intersectionRatio===0:!_.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(_,S,x=!1){this._isPaused?this._needsFullRefresh=!0:(x||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(_,S,this._rowCount))}_renderRows(_,S){this._renderer.value&&(_=Math.min(_,this._rowCount-1),S=Math.min(S,this._rowCount-1),this._renderer.value.renderRows(_,S),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:_,end:S}),this._onRender.fire({start:_,end:S}),this._isNextRenderRedrawOnly=!0)}resize(_,S){this._rowCount=S,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(_){this._renderer.value=_,this._renderer.value.onRequestRedraw(S=>this.refreshRows(S.start,S.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(_){return this._renderDebouncer.addRefreshCallback(_)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var _,S;this._renderer.value&&((S=(_=this._renderer.value).clearTextureAtlas)===null||S===void 0||S.call(_),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(_,S){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(_,S)):this._renderer.value.handleResize(_,S),this._fullRefresh())}handleCharSizeChanged(){var _;(_=this._renderer.value)===null||_===void 0||_.handleCharSizeChanged()}handleBlur(){var _;(_=this._renderer.value)===null||_===void 0||_.handleBlur()}handleFocus(){var _;(_=this._renderer.value)===null||_===void 0||_.handleFocus()}handleSelectionChanged(_,S,x){var b;this._selectionState.start=_,this._selectionState.end=S,this._selectionState.columnSelectMode=x,(b=this._renderer.value)===null||b===void 0||b.handleSelectionChanged(_,S,x)}handleCursorMove(){var _;(_=this._renderer.value)===null||_===void 0||_.handleCursorMove()}clear(){var _;(_=this._renderer.value)===null||_===void 0||_.clear()}};n.RenderService=c=f([y(2,o.IOptionsService),y(3,C.ICharSizeService),y(4,o.IDecorationService),y(5,o.IBufferService),y(6,C.ICoreBrowserService),y(7,C.IThemeService)],c)},9312:function(p,n,u){var f=this&&this.__decorate||function(m,E,D,A){var P,B=arguments.length,j=B<3?E:A===null?A=Object.getOwnPropertyDescriptor(E,D):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(m,E,D,A);else for(var I=m.length-1;I>=0;I--)(P=m[I])&&(j=(B<3?P(j):B>3?P(E,D,j):P(E,D))||j);return B>3&&j&&Object.defineProperty(E,D,j),j},y=this&&this.__param||function(m,E){return function(D,A){E(D,A,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionService=void 0;const d=u(9806),g=u(9504),w=u(456),C=u(4725),v=u(8460),l=u(844),a=u(6114),o=u(4841),c=u(511),_=u(2585),S="",x=new RegExp(S,"g");let b=n.SelectionService=class extends l.Disposable{constructor(m,E,D,A,P,B,j,I,F){super(),this._element=m,this._screenElement=E,this._linkifier=D,this._bufferService=A,this._coreService=P,this._mouseService=B,this._optionsService=j,this._renderService=I,this._coreBrowserService=F,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new c.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new v.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new v.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new v.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=z=>this._handleMouseMove(z),this._mouseUpListener=z=>this._handleMouseUp(z),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(z=>this._handleTrim(z)),this.register(this._bufferService.buffers.onBufferActivate(z=>this._handleBufferActivate(z))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,l.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const m=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!m||!E||m[0]===E[0]&&m[1]===E[1])}get selectionText(){const m=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!m||!E)return"";const D=this._bufferService.buffer,A=[];if(this._activeSelectionMode===3){if(m[0]===E[0])return"";const P=m[0]<E[0]?m[0]:E[0],B=m[0]<E[0]?E[0]:m[0];for(let j=m[1];j<=E[1];j++){const I=D.translateBufferLineToString(j,!0,P,B);A.push(I)}}else{const P=m[1]===E[1]?E[0]:void 0;A.push(D.translateBufferLineToString(m[1],!0,m[0],P));for(let B=m[1]+1;B<=E[1]-1;B++){const j=D.lines.get(B),I=D.translateBufferLineToString(B,!0);j!=null&&j.isWrapped?A[A.length-1]+=I:A.push(I)}if(m[1]!==E[1]){const B=D.lines.get(E[1]),j=D.translateBufferLineToString(E[1],!0,0,E[0]);B&&B.isWrapped?A[A.length-1]+=j:A.push(j)}}return A.map(P=>P.replace(x," ")).join(a.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(m){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),a.isLinux&&m&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(m){const E=this._getMouseBufferCoords(m),D=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!!(D&&A&&E)&&this._areCoordsInSelection(E,D,A)}isCellInSelection(m,E){const D=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!D||!A)&&this._areCoordsInSelection([m,E],D,A)}_areCoordsInSelection(m,E,D){return m[1]>E[1]&&m[1]<D[1]||E[1]===D[1]&&m[1]===E[1]&&m[0]>=E[0]&&m[0]<D[0]||E[1]<D[1]&&m[1]===D[1]&&m[0]<D[0]||E[1]<D[1]&&m[1]===E[1]&&m[0]>=E[0]}_selectWordAtCursor(m,E){var D,A;const P=(A=(D=this._linkifier.currentLink)===null||D===void 0?void 0:D.link)===null||A===void 0?void 0:A.range;if(P)return this._model.selectionStart=[P.start.x-1,P.start.y-1],this._model.selectionStartLength=(0,o.getRangeLength)(P,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const B=this._getMouseBufferCoords(m);return!!B&&(this._selectWordAt(B,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(m,E){this._model.clearSelection(),m=Math.max(m,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,m],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_handleTrim(m){this._model.handleTrim(m)&&this.refresh()}_getMouseBufferCoords(m){const E=this._mouseService.getCoords(m,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(m){let E=(0,d.getCoordsRelativeToElement)(this._coreBrowserService.window,m,this._screenElement)[1];const D=this._renderService.dimensions.css.canvas.height;return E>=0&&E<=D?0:(E>D&&(E-=D),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(m){return a.isMac?m.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:m.shiftKey}handleMouseDown(m){if(this._mouseDownTimeStamp=m.timeStamp,(m.button!==2||!this.hasSelection)&&m.button===0){if(!this._enabled){if(!this.shouldForceSelection(m))return;m.stopPropagation()}m.preventDefault(),this._dragScrollAmount=0,this._enabled&&m.shiftKey?this._handleIncrementalClick(m):m.detail===1?this._handleSingleClick(m):m.detail===2?this._handleDoubleClick(m):m.detail===3&&this._handleTripleClick(m),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(m){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(m))}_handleSingleClick(m){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(m)?3:0,this._model.selectionStart=this._getMouseBufferCoords(m),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(m){this._selectWordAtCursor(m,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(m){const E=this._getMouseBufferCoords(m);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(m){return m.altKey&&!(a.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(m){if(m.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(m),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(m),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const D=this._bufferService.buffer;if(this._model.selectionEnd[1]<D.lines.length){const A=D.lines.get(this._model.selectionEnd[1]);A&&A.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const m=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(m.ydisp+this._bufferService.rows,m.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=m.ydisp),this.refresh()}}_handleMouseUp(m){const E=m.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&m.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const D=this._mouseService.getCoords(m,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(D&&D[0]!==void 0&&D[1]!==void 0){const A=(0,g.moveToCellSequence)(D[0]-1,D[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(A,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const m=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,D=!(!m||!E||m[0]===E[0]&&m[1]===E[1]);D?m&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&m[0]===this._oldSelectionStart[0]&&m[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(m,E,D)):this._oldHasSelection&&this._fireOnSelectionChange(m,E,D)}_fireOnSelectionChange(m,E,D){this._oldSelectionStart=m,this._oldSelectionEnd=E,this._oldHasSelection=D,this._onSelectionChange.fire()}_handleBufferActivate(m){this.clearSelection(),this._trimListener.dispose(),this._trimListener=m.activeBuffer.lines.onTrim(E=>this._handleTrim(E))}_convertViewportColToCharacterIndex(m,E){let D=E;for(let A=0;E>=A;A++){const P=m.loadCell(A,this._workCell).getChars().length;this._workCell.getWidth()===0?D--:P>1&&E!==A&&(D+=P-1)}return D}setSelection(m,E,D){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[m,E],this._model.selectionStartLength=D,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(m){this._isClickInSelection(m)||(this._selectWordAtCursor(m,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(m,E,D=!0,A=!0){if(m[0]>=this._bufferService.cols)return;const P=this._bufferService.buffer,B=P.lines.get(m[1]);if(!B)return;const j=P.translateBufferLineToString(m[1],!1);let I=this._convertViewportColToCharacterIndex(B,m[0]),F=I;const z=m[0]-I;let k=0,T=0,M=0,O=0;if(j.charAt(I)===" "){for(;I>0&&j.charAt(I-1)===" ";)I--;for(;F<j.length&&j.charAt(F+1)===" ";)F++}else{let q=m[0],G=m[0];B.getWidth(q)===0&&(k++,q--),B.getWidth(G)===2&&(T++,G++);const ie=B.getString(G).length;for(ie>1&&(O+=ie-1,F+=ie-1);q>0&&I>0&&!this._isCharWordSeparator(B.loadCell(q-1,this._workCell));){B.loadCell(q-1,this._workCell);const R=this._workCell.getChars().length;this._workCell.getWidth()===0?(k++,q--):R>1&&(M+=R-1,I-=R-1),I--,q--}for(;G<B.length&&F+1<j.length&&!this._isCharWordSeparator(B.loadCell(G+1,this._workCell));){B.loadCell(G+1,this._workCell);const R=this._workCell.getChars().length;this._workCell.getWidth()===2?(T++,G++):R>1&&(O+=R-1,F+=R-1),F++,G++}}F++;let H=I+z-k+M,V=Math.min(this._bufferService.cols,F-I+k+T-M-O);if(E||j.slice(I,F).trim()!==""){if(D&&H===0&&B.getCodePoint(0)!==32){const q=P.lines.get(m[1]-1);if(q&&B.isWrapped&&q.getCodePoint(this._bufferService.cols-1)!==32){const G=this._getWordAt([this._bufferService.cols-1,m[1]-1],!1,!0,!1);if(G){const ie=this._bufferService.cols-G.start;H-=ie,V+=ie}}}if(A&&H+V===this._bufferService.cols&&B.getCodePoint(this._bufferService.cols-1)!==32){const q=P.lines.get(m[1]+1);if(q!=null&&q.isWrapped&&q.getCodePoint(0)!==32){const G=this._getWordAt([0,m[1]+1],!1,!1,!0);G&&(V+=G.length)}}return{start:H,length:V}}}_selectWordAt(m,E){const D=this._getWordAt(m,E);if(D){for(;D.start<0;)D.start+=this._bufferService.cols,m[1]--;this._model.selectionStart=[D.start,m[1]],this._model.selectionStartLength=D.length}}_selectToWordAt(m){const E=this._getWordAt(m,!0);if(E){let D=m[1];for(;E.start<0;)E.start+=this._bufferService.cols,D--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,D++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,D]}}_isCharWordSeparator(m){return m.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(m.getChars())>=0}_selectLineAt(m){const E=this._bufferService.buffer.getWrappedRangeForLine(m),D={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,o.getRangeLength)(D,this._bufferService.cols)}};n.SelectionService=b=f([y(3,_.IBufferService),y(4,_.ICoreService),y(5,C.IMouseService),y(6,_.IOptionsService),y(7,C.IRenderService),y(8,C.ICoreBrowserService)],b)},4725:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IThemeService=n.ICharacterJoinerService=n.ISelectionService=n.IRenderService=n.IMouseService=n.ICoreBrowserService=n.ICharSizeService=void 0;const f=u(8343);n.ICharSizeService=(0,f.createDecorator)("CharSizeService"),n.ICoreBrowserService=(0,f.createDecorator)("CoreBrowserService"),n.IMouseService=(0,f.createDecorator)("MouseService"),n.IRenderService=(0,f.createDecorator)("RenderService"),n.ISelectionService=(0,f.createDecorator)("SelectionService"),n.ICharacterJoinerService=(0,f.createDecorator)("CharacterJoinerService"),n.IThemeService=(0,f.createDecorator)("ThemeService")},6731:function(p,n,u){var f=this&&this.__decorate||function(b,m,E,D){var A,P=arguments.length,B=P<3?m:D===null?D=Object.getOwnPropertyDescriptor(m,E):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(b,m,E,D);else for(var j=b.length-1;j>=0;j--)(A=b[j])&&(B=(P<3?A(B):P>3?A(m,E,B):A(m,E))||B);return P>3&&B&&Object.defineProperty(m,E,B),B},y=this&&this.__param||function(b,m){return function(E,D){m(E,D,b)}};Object.defineProperty(n,"__esModule",{value:!0}),n.ThemeService=n.DEFAULT_ANSI_COLORS=void 0;const d=u(7239),g=u(8055),w=u(8460),C=u(844),v=u(2585),l=g.css.toColor("#ffffff"),a=g.css.toColor("#000000"),o=g.css.toColor("#ffffff"),c=g.css.toColor("#000000"),_={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};n.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const b=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],m=[0,95,135,175,215,255];for(let E=0;E<216;E++){const D=m[E/36%6|0],A=m[E/6%6|0],P=m[E%6];b.push({css:g.channels.toCss(D,A,P),rgba:g.channels.toRgba(D,A,P)})}for(let E=0;E<24;E++){const D=8+10*E;b.push({css:g.channels.toCss(D,D,D),rgba:g.channels.toRgba(D,D,D)})}return b})());let S=n.ThemeService=class extends C.Disposable{get colors(){return this._colors}constructor(b){super(),this._optionsService=b,this._contrastCache=new d.ColorContrastCache,this._halfContrastCache=new d.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:l,background:a,cursor:o,cursorAccent:c,selectionForeground:void 0,selectionBackgroundTransparent:_,selectionBackgroundOpaque:g.color.blend(a,_),selectionInactiveBackgroundTransparent:_,selectionInactiveBackgroundOpaque:g.color.blend(a,_),ansi:n.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(b={}){const m=this._colors;if(m.foreground=x(b.foreground,l),m.background=x(b.background,a),m.cursor=x(b.cursor,o),m.cursorAccent=x(b.cursorAccent,c),m.selectionBackgroundTransparent=x(b.selectionBackground,_),m.selectionBackgroundOpaque=g.color.blend(m.background,m.selectionBackgroundTransparent),m.selectionInactiveBackgroundTransparent=x(b.selectionInactiveBackground,m.selectionBackgroundTransparent),m.selectionInactiveBackgroundOpaque=g.color.blend(m.background,m.selectionInactiveBackgroundTransparent),m.selectionForeground=b.selectionForeground?x(b.selectionForeground,g.NULL_COLOR):void 0,m.selectionForeground===g.NULL_COLOR&&(m.selectionForeground=void 0),g.color.isOpaque(m.selectionBackgroundTransparent)&&(m.selectionBackgroundTransparent=g.color.opacity(m.selectionBackgroundTransparent,.3)),g.color.isOpaque(m.selectionInactiveBackgroundTransparent)&&(m.selectionInactiveBackgroundTransparent=g.color.opacity(m.selectionInactiveBackgroundTransparent,.3)),m.ansi=n.DEFAULT_ANSI_COLORS.slice(),m.ansi[0]=x(b.black,n.DEFAULT_ANSI_COLORS[0]),m.ansi[1]=x(b.red,n.DEFAULT_ANSI_COLORS[1]),m.ansi[2]=x(b.green,n.DEFAULT_ANSI_COLORS[2]),m.ansi[3]=x(b.yellow,n.DEFAULT_ANSI_COLORS[3]),m.ansi[4]=x(b.blue,n.DEFAULT_ANSI_COLORS[4]),m.ansi[5]=x(b.magenta,n.DEFAULT_ANSI_COLORS[5]),m.ansi[6]=x(b.cyan,n.DEFAULT_ANSI_COLORS[6]),m.ansi[7]=x(b.white,n.DEFAULT_ANSI_COLORS[7]),m.ansi[8]=x(b.brightBlack,n.DEFAULT_ANSI_COLORS[8]),m.ansi[9]=x(b.brightRed,n.DEFAULT_ANSI_COLORS[9]),m.ansi[10]=x(b.brightGreen,n.DEFAULT_ANSI_COLORS[10]),m.ansi[11]=x(b.brightYellow,n.DEFAULT_ANSI_COLORS[11]),m.ansi[12]=x(b.brightBlue,n.DEFAULT_ANSI_COLORS[12]),m.ansi[13]=x(b.brightMagenta,n.DEFAULT_ANSI_COLORS[13]),m.ansi[14]=x(b.brightCyan,n.DEFAULT_ANSI_COLORS[14]),m.ansi[15]=x(b.brightWhite,n.DEFAULT_ANSI_COLORS[15]),b.extendedAnsi){const E=Math.min(m.ansi.length-16,b.extendedAnsi.length);for(let D=0;D<E;D++)m.ansi[D+16]=x(b.extendedAnsi[D],n.DEFAULT_ANSI_COLORS[D+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(b){this._restoreColor(b),this._onChangeColors.fire(this.colors)}_restoreColor(b){if(b!==void 0)switch(b){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[b]=this._restoreColors.ansi[b]}else for(let m=0;m<this._restoreColors.ansi.length;++m)this._colors.ansi[m]=this._restoreColors.ansi[m]}modifyColors(b){b(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function x(b,m){if(b!==void 0)try{return g.css.toColor(b)}catch{}return m}n.ThemeService=S=f([y(0,v.IOptionsService)],S)},6349:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CircularList=void 0;const f=u(8460),y=u(844);class d extends y.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new f.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new f.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new f.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const C=new Array(w);for(let v=0;v<Math.min(w,this.length);v++)C[v]=this._array[this._getCyclicIndex(v)];this._array=C,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let C=this._length;C<w;C++)this._array[C]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,C){this._array[this._getCyclicIndex(w)]=C}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,C,...v){if(C){for(let l=w;l<this._length-C;l++)this._array[this._getCyclicIndex(l)]=this._array[this._getCyclicIndex(l+C)];this._length-=C,this.onDeleteEmitter.fire({index:w,amount:C})}for(let l=this._length-1;l>=w;l--)this._array[this._getCyclicIndex(l+v.length)]=this._array[this._getCyclicIndex(l)];for(let l=0;l<v.length;l++)this._array[this._getCyclicIndex(w+l)]=v[l];if(v.length&&this.onInsertEmitter.fire({index:w,amount:v.length}),this._length+v.length>this._maxLength){const l=this._length+v.length-this._maxLength;this._startIndex+=l,this._length=this._maxLength,this.onTrimEmitter.fire(l)}else this._length+=v.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,C,v){if(!(C<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+v<0)throw new Error("Cannot shift elements in list beyond index 0");if(v>0){for(let a=C-1;a>=0;a--)this.set(w+a+v,this.get(w+a));const l=w+C+v-this._length;if(l>0)for(this._length+=l;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let l=0;l<C;l++)this.set(w+l+v,this.get(w+l))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}n.CircularList=d},1439:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.clone=void 0,n.clone=function u(f,y=5){if(typeof f!="object")return f;const d=Array.isArray(f)?[]:{};for(const g in f)d[g]=y<=1?f[g]:f[g]&&u(f[g],y-1);return d}},8055:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.contrastRatio=n.toPaddedHex=n.rgba=n.rgb=n.css=n.color=n.channels=n.NULL_COLOR=void 0;const f=u(6114);let y=0,d=0,g=0,w=0;var C,v,l,a,o;function c(S){const x=S.toString(16);return x.length<2?"0"+x:x}function _(S,x){return S<x?(x+.05)/(S+.05):(S+.05)/(x+.05)}n.NULL_COLOR={css:"#00000000",rgba:0},function(S){S.toCss=function(x,b,m,E){return E!==void 0?`#${c(x)}${c(b)}${c(m)}${c(E)}`:`#${c(x)}${c(b)}${c(m)}`},S.toRgba=function(x,b,m,E=255){return(x<<24|b<<16|m<<8|E)>>>0}}(C||(n.channels=C={})),function(S){function x(b,m){return w=Math.round(255*m),[y,d,g]=o.toChannels(b.rgba),{css:C.toCss(y,d,g,w),rgba:C.toRgba(y,d,g,w)}}S.blend=function(b,m){if(w=(255&m.rgba)/255,w===1)return{css:m.css,rgba:m.rgba};const E=m.rgba>>24&255,D=m.rgba>>16&255,A=m.rgba>>8&255,P=b.rgba>>24&255,B=b.rgba>>16&255,j=b.rgba>>8&255;return y=P+Math.round((E-P)*w),d=B+Math.round((D-B)*w),g=j+Math.round((A-j)*w),{css:C.toCss(y,d,g),rgba:C.toRgba(y,d,g)}},S.isOpaque=function(b){return(255&b.rgba)==255},S.ensureContrastRatio=function(b,m,E){const D=o.ensureContrastRatio(b.rgba,m.rgba,E);if(D)return o.toColor(D>>24&255,D>>16&255,D>>8&255)},S.opaque=function(b){const m=(255|b.rgba)>>>0;return[y,d,g]=o.toChannels(m),{css:C.toCss(y,d,g),rgba:m}},S.opacity=x,S.multiplyOpacity=function(b,m){return w=255&b.rgba,x(b,w*m/255)},S.toColorRGB=function(b){return[b.rgba>>24&255,b.rgba>>16&255,b.rgba>>8&255]}}(v||(n.color=v={})),function(S){let x,b;if(!f.isNode){const m=document.createElement("canvas");m.width=1,m.height=1;const E=m.getContext("2d",{willReadFrequently:!0});E&&(x=E,x.globalCompositeOperation="copy",b=x.createLinearGradient(0,0,1,1))}S.toColor=function(m){if(m.match(/#[\da-f]{3,8}/i))switch(m.length){case 4:return y=parseInt(m.slice(1,2).repeat(2),16),d=parseInt(m.slice(2,3).repeat(2),16),g=parseInt(m.slice(3,4).repeat(2),16),o.toColor(y,d,g);case 5:return y=parseInt(m.slice(1,2).repeat(2),16),d=parseInt(m.slice(2,3).repeat(2),16),g=parseInt(m.slice(3,4).repeat(2),16),w=parseInt(m.slice(4,5).repeat(2),16),o.toColor(y,d,g,w);case 7:return{css:m,rgba:(parseInt(m.slice(1),16)<<8|255)>>>0};case 9:return{css:m,rgba:parseInt(m.slice(1),16)>>>0}}const E=m.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return y=parseInt(E[1]),d=parseInt(E[2]),g=parseInt(E[3]),w=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),o.toColor(y,d,g,w);if(!x||!b)throw new Error("css.toColor: Unsupported css format");if(x.fillStyle=b,x.fillStyle=m,typeof x.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(x.fillRect(0,0,1,1),[y,d,g,w]=x.getImageData(0,0,1,1).data,w!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:C.toRgba(y,d,g,w),css:m}}}(l||(n.css=l={})),function(S){function x(b,m,E){const D=b/255,A=m/255,P=E/255;return .2126*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))+.7152*(A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4))+.0722*(P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4))}S.relativeLuminance=function(b){return x(b>>16&255,b>>8&255,255&b)},S.relativeLuminance2=x}(a||(n.rgb=a={})),function(S){function x(m,E,D){const A=m>>24&255,P=m>>16&255,B=m>>8&255;let j=E>>24&255,I=E>>16&255,F=E>>8&255,z=_(a.relativeLuminance2(j,I,F),a.relativeLuminance2(A,P,B));for(;z<D&&(j>0||I>0||F>0);)j-=Math.max(0,Math.ceil(.1*j)),I-=Math.max(0,Math.ceil(.1*I)),F-=Math.max(0,Math.ceil(.1*F)),z=_(a.relativeLuminance2(j,I,F),a.relativeLuminance2(A,P,B));return(j<<24|I<<16|F<<8|255)>>>0}function b(m,E,D){const A=m>>24&255,P=m>>16&255,B=m>>8&255;let j=E>>24&255,I=E>>16&255,F=E>>8&255,z=_(a.relativeLuminance2(j,I,F),a.relativeLuminance2(A,P,B));for(;z<D&&(j<255||I<255||F<255);)j=Math.min(255,j+Math.ceil(.1*(255-j))),I=Math.min(255,I+Math.ceil(.1*(255-I))),F=Math.min(255,F+Math.ceil(.1*(255-F))),z=_(a.relativeLuminance2(j,I,F),a.relativeLuminance2(A,P,B));return(j<<24|I<<16|F<<8|255)>>>0}S.ensureContrastRatio=function(m,E,D){const A=a.relativeLuminance(m>>8),P=a.relativeLuminance(E>>8);if(_(A,P)<D){if(P<A){const I=x(m,E,D),F=_(A,a.relativeLuminance(I>>8));if(F<D){const z=b(m,E,D);return F>_(A,a.relativeLuminance(z>>8))?I:z}return I}const B=b(m,E,D),j=_(A,a.relativeLuminance(B>>8));if(j<D){const I=x(m,E,D);return j>_(A,a.relativeLuminance(I>>8))?B:I}return B}},S.reduceLuminance=x,S.increaseLuminance=b,S.toChannels=function(m){return[m>>24&255,m>>16&255,m>>8&255,255&m]},S.toColor=function(m,E,D,A){return{css:C.toCss(m,E,D,A),rgba:C.toRgba(m,E,D,A)}}}(o||(n.rgba=o={})),n.toPaddedHex=c,n.contrastRatio=_},8969:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreTerminal=void 0;const f=u(844),y=u(2585),d=u(4348),g=u(7866),w=u(744),C=u(7302),v=u(6975),l=u(8460),a=u(1753),o=u(1480),c=u(7994),_=u(9282),S=u(5435),x=u(5981),b=u(2660);let m=!1;class E extends f.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new l.EventEmitter),this._onScroll.event(A=>{var P;(P=this._onScrollApi)===null||P===void 0||P.fire(A.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(A){for(const P in A)this.optionsService.options[P]=A[P]}constructor(A){super(),this._windowsWrappingHeuristics=this.register(new f.MutableDisposable),this._onBinary=this.register(new l.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new l.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new l.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new l.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new l.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new l.EventEmitter),this._instantiationService=new d.InstantiationService,this.optionsService=this.register(new C.OptionsService(A)),this._instantiationService.setService(y.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(y.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(y.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(v.CoreService)),this._instantiationService.setService(y.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(a.CoreMouseService)),this._instantiationService.setService(y.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(o.UnicodeService)),this._instantiationService.setService(y.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(c.CharsetService),this._instantiationService.setService(y.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(b.OscLinkService),this._instantiationService.setService(y.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,l.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,l.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,l.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,l.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(P=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(P=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new x.WriteBuffer((P,B)=>this._inputHandler.parse(P,B))),this.register((0,l.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(A,P){this._writeBuffer.write(A,P)}writeSync(A,P){this._logService.logLevel<=y.LogLevelEnum.WARN&&!m&&(this._logService.warn("writeSync is unreliable and will be removed soon."),m=!0),this._writeBuffer.writeSync(A,P)}resize(A,P){isNaN(A)||isNaN(P)||(A=Math.max(A,w.MINIMUM_COLS),P=Math.max(P,w.MINIMUM_ROWS),this._bufferService.resize(A,P))}scroll(A,P=!1){this._bufferService.scroll(A,P)}scrollLines(A,P,B){this._bufferService.scrollLines(A,P,B)}scrollPages(A){this.scrollLines(A*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(A){const P=A-this._bufferService.buffer.ydisp;P!==0&&this.scrollLines(P)}registerEscHandler(A,P){return this._inputHandler.registerEscHandler(A,P)}registerDcsHandler(A,P){return this._inputHandler.registerDcsHandler(A,P)}registerCsiHandler(A,P){return this._inputHandler.registerCsiHandler(A,P)}registerOscHandler(A,P){return this._inputHandler.registerOscHandler(A,P)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let A=!1;const P=this.optionsService.rawOptions.windowsPty;P&&P.buildNumber!==void 0&&P.buildNumber!==void 0?A=P.backend==="conpty"&&P.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(A=!0),A?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const A=[];A.push(this.onLineFeed(_.updateWindowsModeWrappedState.bind(null,this._bufferService))),A.push(this.registerCsiHandler({final:"H"},()=>((0,_.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,f.toDisposable)(()=>{for(const P of A)P.dispose()})}}}n.CoreTerminal=E},8460:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.forwardEvent=n.EventEmitter=void 0,n.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=u=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let f=0;f<this._listeners.length;f++)if(this._listeners[f]===u)return void this._listeners.splice(f,1)}}})),this._event}fire(u,f){const y=[];for(let d=0;d<this._listeners.length;d++)y.push(this._listeners[d]);for(let d=0;d<y.length;d++)y[d].call(void 0,u,f)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},n.forwardEvent=function(u,f){return u(y=>f.fire(y))}},5435:function(p,n,u){var f=this&&this.__decorate||function(z,k,T,M){var O,H=arguments.length,V=H<3?k:M===null?M=Object.getOwnPropertyDescriptor(k,T):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(z,k,T,M);else for(var q=z.length-1;q>=0;q--)(O=z[q])&&(V=(H<3?O(V):H>3?O(k,T,V):O(k,T))||V);return H>3&&V&&Object.defineProperty(k,T,V),V},y=this&&this.__param||function(z,k){return function(T,M){k(T,M,z)}};Object.defineProperty(n,"__esModule",{value:!0}),n.InputHandler=n.WindowsOptionsReportType=void 0;const d=u(2584),g=u(7116),w=u(2015),C=u(844),v=u(482),l=u(8437),a=u(8460),o=u(643),c=u(511),_=u(3734),S=u(2585),x=u(6242),b=u(6351),m=u(5941),E={"(":0,")":1,"*":2,"+":3,"-":1,".":2},D=131072;function A(z,k){if(z>24)return k.setWinLines||!1;switch(z){case 1:return!!k.restoreWin;case 2:return!!k.minimizeWin;case 3:return!!k.setWinPosition;case 4:return!!k.setWinSizePixels;case 5:return!!k.raiseWin;case 6:return!!k.lowerWin;case 7:return!!k.refreshWin;case 8:return!!k.setWinSizeChars;case 9:return!!k.maximizeWin;case 10:return!!k.fullscreenWin;case 11:return!!k.getWinState;case 13:return!!k.getWinPosition;case 14:return!!k.getWinSizePixels;case 15:return!!k.getScreenSizePixels;case 16:return!!k.getCellSizePixels;case 18:return!!k.getWinSizeChars;case 19:return!!k.getScreenSizeChars;case 20:return!!k.getIconTitle;case 21:return!!k.getWinTitle;case 22:return!!k.pushTitle;case 23:return!!k.popTitle;case 24:return!!k.setWinLines}return!1}var P;(function(z){z[z.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",z[z.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(P||(n.WindowsOptionsReportType=P={}));let B=0;class j extends C.Disposable{getAttrData(){return this._curAttrData}constructor(k,T,M,O,H,V,q,G,ie=new w.EscapeSequenceParser){super(),this._bufferService=k,this._charsetService=T,this._coreService=M,this._logService=O,this._optionsService=H,this._oscLinkService=V,this._coreMouseService=q,this._unicodeService=G,this._parser=ie,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new v.StringToUtf32,this._utf8Decoder=new v.Utf8ToUtf32,this._workCell=new c.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=l.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new a.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new a.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new a.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new a.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new a.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new a.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new a.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new a.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new a.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new a.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new a.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new a.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new a.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new I(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(R=>this._activeBuffer=R.activeBuffer)),this._parser.setCsiHandlerFallback((R,N)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(R),params:N.toArray()})}),this._parser.setEscHandlerFallback(R=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(R)})}),this._parser.setExecuteHandlerFallback(R=>{this._logService.debug("Unknown EXECUTE code: ",{code:R})}),this._parser.setOscHandlerFallback((R,N,$)=>{this._logService.debug("Unknown OSC code: ",{identifier:R,action:N,data:$})}),this._parser.setDcsHandlerFallback((R,N,$)=>{N==="HOOK"&&($=$.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(R),action:N,payload:$})}),this._parser.setPrintHandler((R,N,$)=>this.print(R,N,$)),this._parser.registerCsiHandler({final:"@"},R=>this.insertChars(R)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},R=>this.scrollLeft(R)),this._parser.registerCsiHandler({final:"A"},R=>this.cursorUp(R)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},R=>this.scrollRight(R)),this._parser.registerCsiHandler({final:"B"},R=>this.cursorDown(R)),this._parser.registerCsiHandler({final:"C"},R=>this.cursorForward(R)),this._parser.registerCsiHandler({final:"D"},R=>this.cursorBackward(R)),this._parser.registerCsiHandler({final:"E"},R=>this.cursorNextLine(R)),this._parser.registerCsiHandler({final:"F"},R=>this.cursorPrecedingLine(R)),this._parser.registerCsiHandler({final:"G"},R=>this.cursorCharAbsolute(R)),this._parser.registerCsiHandler({final:"H"},R=>this.cursorPosition(R)),this._parser.registerCsiHandler({final:"I"},R=>this.cursorForwardTab(R)),this._parser.registerCsiHandler({final:"J"},R=>this.eraseInDisplay(R,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},R=>this.eraseInDisplay(R,!0)),this._parser.registerCsiHandler({final:"K"},R=>this.eraseInLine(R,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},R=>this.eraseInLine(R,!0)),this._parser.registerCsiHandler({final:"L"},R=>this.insertLines(R)),this._parser.registerCsiHandler({final:"M"},R=>this.deleteLines(R)),this._parser.registerCsiHandler({final:"P"},R=>this.deleteChars(R)),this._parser.registerCsiHandler({final:"S"},R=>this.scrollUp(R)),this._parser.registerCsiHandler({final:"T"},R=>this.scrollDown(R)),this._parser.registerCsiHandler({final:"X"},R=>this.eraseChars(R)),this._parser.registerCsiHandler({final:"Z"},R=>this.cursorBackwardTab(R)),this._parser.registerCsiHandler({final:"`"},R=>this.charPosAbsolute(R)),this._parser.registerCsiHandler({final:"a"},R=>this.hPositionRelative(R)),this._parser.registerCsiHandler({final:"b"},R=>this.repeatPrecedingCharacter(R)),this._parser.registerCsiHandler({final:"c"},R=>this.sendDeviceAttributesPrimary(R)),this._parser.registerCsiHandler({prefix:">",final:"c"},R=>this.sendDeviceAttributesSecondary(R)),this._parser.registerCsiHandler({final:"d"},R=>this.linePosAbsolute(R)),this._parser.registerCsiHandler({final:"e"},R=>this.vPositionRelative(R)),this._parser.registerCsiHandler({final:"f"},R=>this.hVPosition(R)),this._parser.registerCsiHandler({final:"g"},R=>this.tabClear(R)),this._parser.registerCsiHandler({final:"h"},R=>this.setMode(R)),this._parser.registerCsiHandler({prefix:"?",final:"h"},R=>this.setModePrivate(R)),this._parser.registerCsiHandler({final:"l"},R=>this.resetMode(R)),this._parser.registerCsiHandler({prefix:"?",final:"l"},R=>this.resetModePrivate(R)),this._parser.registerCsiHandler({final:"m"},R=>this.charAttributes(R)),this._parser.registerCsiHandler({final:"n"},R=>this.deviceStatus(R)),this._parser.registerCsiHandler({prefix:"?",final:"n"},R=>this.deviceStatusPrivate(R)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},R=>this.softReset(R)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},R=>this.setCursorStyle(R)),this._parser.registerCsiHandler({final:"r"},R=>this.setScrollRegion(R)),this._parser.registerCsiHandler({final:"s"},R=>this.saveCursor(R)),this._parser.registerCsiHandler({final:"t"},R=>this.windowOptions(R)),this._parser.registerCsiHandler({final:"u"},R=>this.restoreCursor(R)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},R=>this.insertColumns(R)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},R=>this.deleteColumns(R)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},R=>this.selectProtected(R)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},R=>this.requestMode(R,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},R=>this.requestMode(R,!1)),this._parser.setExecuteHandler(d.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(d.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(d.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(d.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(d.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(d.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(d.C1.IND,()=>this.index()),this._parser.setExecuteHandler(d.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(d.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new x.OscHandler(R=>(this.setTitle(R),this.setIconName(R),!0))),this._parser.registerOscHandler(1,new x.OscHandler(R=>this.setIconName(R))),this._parser.registerOscHandler(2,new x.OscHandler(R=>this.setTitle(R))),this._parser.registerOscHandler(4,new x.OscHandler(R=>this.setOrReportIndexedColor(R))),this._parser.registerOscHandler(8,new x.OscHandler(R=>this.setHyperlink(R))),this._parser.registerOscHandler(10,new x.OscHandler(R=>this.setOrReportFgColor(R))),this._parser.registerOscHandler(11,new x.OscHandler(R=>this.setOrReportBgColor(R))),this._parser.registerOscHandler(12,new x.OscHandler(R=>this.setOrReportCursorColor(R))),this._parser.registerOscHandler(104,new x.OscHandler(R=>this.restoreIndexedColor(R))),this._parser.registerOscHandler(110,new x.OscHandler(R=>this.restoreFgColor(R))),this._parser.registerOscHandler(111,new x.OscHandler(R=>this.restoreBgColor(R))),this._parser.registerOscHandler(112,new x.OscHandler(R=>this.restoreCursorColor(R))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const R in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:R},()=>this.selectCharset("("+R)),this._parser.registerEscHandler({intermediates:")",final:R},()=>this.selectCharset(")"+R)),this._parser.registerEscHandler({intermediates:"*",final:R},()=>this.selectCharset("*"+R)),this._parser.registerEscHandler({intermediates:"+",final:R},()=>this.selectCharset("+"+R)),this._parser.registerEscHandler({intermediates:"-",final:R},()=>this.selectCharset("-"+R)),this._parser.registerEscHandler({intermediates:".",final:R},()=>this.selectCharset("."+R)),this._parser.registerEscHandler({intermediates:"/",final:R},()=>this.selectCharset("/"+R));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(R=>(this._logService.error("Parsing error: ",R),R)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new b.DcsHandler((R,N)=>this.requestStatusString(R,N)))}_preserveStack(k,T,M,O){this._parseStack.paused=!0,this._parseStack.cursorStartX=k,this._parseStack.cursorStartY=T,this._parseStack.decodedLength=M,this._parseStack.position=O}_logSlowResolvingAsync(k){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([k,new Promise((T,M)=>setTimeout(()=>M("#SLOW_TIMEOUT"),5e3))]).catch(T=>{if(T!=="#SLOW_TIMEOUT")throw T;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(k,T){let M,O=this._activeBuffer.x,H=this._activeBuffer.y,V=0;const q=this._parseStack.paused;if(q){if(M=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,T))return this._logSlowResolvingAsync(M),M;O=this._parseStack.cursorStartX,H=this._parseStack.cursorStartY,this._parseStack.paused=!1,k.length>D&&(V=this._parseStack.position+D)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof k=="string"?` "${k}"`:` "${Array.prototype.map.call(k,G=>String.fromCharCode(G)).join("")}"`),typeof k=="string"?k.split("").map(G=>G.charCodeAt(0)):k),this._parseBuffer.length<k.length&&this._parseBuffer.length<D&&(this._parseBuffer=new Uint32Array(Math.min(k.length,D))),q||this._dirtyRowTracker.clearRange(),k.length>D)for(let G=V;G<k.length;G+=D){const ie=G+D<k.length?G+D:k.length,R=typeof k=="string"?this._stringDecoder.decode(k.substring(G,ie),this._parseBuffer):this._utf8Decoder.decode(k.subarray(G,ie),this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,R))return this._preserveStack(O,H,R,G),this._logSlowResolvingAsync(M),M}else if(!q){const G=typeof k=="string"?this._stringDecoder.decode(k,this._parseBuffer):this._utf8Decoder.decode(k,this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,G))return this._preserveStack(O,H,G,0),this._logSlowResolvingAsync(M),M}this._activeBuffer.x===O&&this._activeBuffer.y===H||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(k,T,M){let O,H;const V=this._charsetService.charset,q=this._optionsService.rawOptions.screenReaderMode,G=this._bufferService.cols,ie=this._coreService.decPrivateModes.wraparound,R=this._coreService.modes.insertMode,N=this._curAttrData;let $=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&M-T>0&&$.getWidth(this._activeBuffer.x-1)===2&&$.setCellFromCodePoint(this._activeBuffer.x-1,0,1,N.fg,N.bg,N.extended);for(let U=T;U<M;++U){if(O=k[U],H=this._unicodeService.wcwidth(O),O<127&&V){const Z=V[String.fromCharCode(O)];Z&&(O=Z.charCodeAt(0))}if(q&&this._onA11yChar.fire((0,v.stringFromCodePoint)(O)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),H||!this._activeBuffer.x){if(this._activeBuffer.x+H-1>=G){if(ie){for(;this._activeBuffer.x<G;)$.setCellFromCodePoint(this._activeBuffer.x++,0,1,N.fg,N.bg,N.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),$=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=G-1,H===2)continue}if(R&&($.insertCells(this._activeBuffer.x,H,this._activeBuffer.getNullCell(N),N),$.getWidth(G-1)===2&&$.setCellFromCodePoint(G-1,o.NULL_CELL_CODE,o.NULL_CELL_WIDTH,N.fg,N.bg,N.extended)),$.setCellFromCodePoint(this._activeBuffer.x++,O,H,N.fg,N.bg,N.extended),H>0)for(;--H;)$.setCellFromCodePoint(this._activeBuffer.x++,0,0,N.fg,N.bg,N.extended)}else $.getWidth(this._activeBuffer.x-1)?$.addCodepointToCell(this._activeBuffer.x-1,O):$.addCodepointToCell(this._activeBuffer.x-2,O)}M-T>0&&($.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<G&&M-T>0&&$.getWidth(this._activeBuffer.x)===0&&!$.hasContent(this._activeBuffer.x)&&$.setCellFromCodePoint(this._activeBuffer.x,0,1,N.fg,N.bg,N.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(k,T){return k.final!=="t"||k.prefix||k.intermediates?this._parser.registerCsiHandler(k,T):this._parser.registerCsiHandler(k,M=>!A(M.params[0],this._optionsService.rawOptions.windowOptions)||T(M))}registerDcsHandler(k,T){return this._parser.registerDcsHandler(k,new b.DcsHandler(T))}registerEscHandler(k,T){return this._parser.registerEscHandler(k,T)}registerOscHandler(k,T){return this._parser.registerOscHandler(k,new x.OscHandler(T))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var k;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||k===void 0)&&k.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);T.hasWidth(this._activeBuffer.x)&&!T.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const k=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-k),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(k=this._bufferService.cols-1){this._activeBuffer.x=Math.min(k,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(k,T){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=k,this._activeBuffer.y=this._activeBuffer.scrollTop+T):(this._activeBuffer.x=k,this._activeBuffer.y=T),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(k,T){this._restrictCursor(),this._setCursor(this._activeBuffer.x+k,this._activeBuffer.y+T)}cursorUp(k){const T=this._activeBuffer.y-this._activeBuffer.scrollTop;return T>=0?this._moveCursor(0,-Math.min(T,k.params[0]||1)):this._moveCursor(0,-(k.params[0]||1)),!0}cursorDown(k){const T=this._activeBuffer.scrollBottom-this._activeBuffer.y;return T>=0?this._moveCursor(0,Math.min(T,k.params[0]||1)):this._moveCursor(0,k.params[0]||1),!0}cursorForward(k){return this._moveCursor(k.params[0]||1,0),!0}cursorBackward(k){return this._moveCursor(-(k.params[0]||1),0),!0}cursorNextLine(k){return this.cursorDown(k),this._activeBuffer.x=0,!0}cursorPrecedingLine(k){return this.cursorUp(k),this._activeBuffer.x=0,!0}cursorCharAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(k){return this._setCursor(k.length>=2?(k.params[1]||1)-1:0,(k.params[0]||1)-1),!0}charPosAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(k){return this._moveCursor(k.params[0]||1,0),!0}linePosAbsolute(k){return this._setCursor(this._activeBuffer.x,(k.params[0]||1)-1),!0}vPositionRelative(k){return this._moveCursor(0,k.params[0]||1),!0}hVPosition(k){return this.cursorPosition(k),!0}tabClear(k){const T=k.params[0];return T===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:T===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let T=k.params[0]||1;for(;T--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let T=k.params[0]||1;for(;T--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(k){const T=k.params[0];return T===1&&(this._curAttrData.bg|=536870912),T!==2&&T!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(k,T,M,O=!1,H=!1){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);V.replaceCells(T,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),H),O&&(V.isWrapped=!1)}_resetBufferLine(k,T=!1){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);M&&(M.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),T),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+k),M.isWrapped=!1)}eraseInDisplay(k,T=!1){let M;switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,T);M<this._bufferService.rows;M++)this._resetBufferLine(M,T);this._dirtyRowTracker.markDirty(M);break;case 1:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M,0,this._activeBuffer.x+1,!0,T),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(M+1).isWrapped=!1);M--;)this._resetBufferLine(M,T);this._dirtyRowTracker.markDirty(0);break;case 2:for(M=this._bufferService.rows,this._dirtyRowTracker.markDirty(M-1);M--;)this._resetBufferLine(M,T);this._dirtyRowTracker.markDirty(0);break;case 3:const O=this._activeBuffer.lines.length-this._bufferService.rows;O>0&&(this._activeBuffer.lines.trimStart(O),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-O,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-O,0),this._onScroll.fire(0))}return!0}eraseInLine(k,T=!1){switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,T);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,T);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,T)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(k){this._restrictCursor();let T=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y,O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,H=this._bufferService.rows-1+this._activeBuffer.ybase-O+1;for(;T--;)this._activeBuffer.lines.splice(H-1,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(k){this._restrictCursor();let T=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y;let O;for(O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,O=this._bufferService.rows-1+this._activeBuffer.ybase-O;T--;)this._activeBuffer.lines.splice(M,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(k){this._restrictCursor();const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return T&&(T.insertCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(k){this._restrictCursor();const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return T&&(T.deleteCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(k){let T=k.params[0]||1;for(;T--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(k){let T=k.params[0]||1;for(;T--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(l.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=k.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);O.deleteCells(0,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=k.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);O.insertCells(0,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=k.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);O.insertCells(this._activeBuffer.x,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=k.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);O.deleteCells(this._activeBuffer.x,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(k){this._restrictCursor();const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return T&&(T.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(k.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(k){if(!this._parser.precedingCodepoint)return!0;const T=k.params[0]||1,M=new Uint32Array(T);for(let O=0;O<T;++O)M[O]=this._parser.precedingCodepoint;return this.print(M,0,M.length),!0}sendDeviceAttributesPrimary(k){return k.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(d.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(d.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(k){return k.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(d.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(d.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(k.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(d.C0.ESC+"[>83;40003;0c")),!0}_is(k){return(this._optionsService.rawOptions.termName+"").indexOf(k)===0}setMode(k){for(let T=0;T<k.length;T++)switch(k.params[T]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(k){for(let T=0;T<k.length;T++)switch(k.params[T]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(k){for(let T=0;T<k.length;T++)switch(k.params[T]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(k){for(let T=0;T<k.length;T++)switch(k.params[T]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),k.params[T]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(k,T){const M=this._coreService.decPrivateModes,{activeProtocol:O,activeEncoding:H}=this._coreMouseService,V=this._coreService,{buffers:q,cols:G}=this._bufferService,{active:ie,alt:R}=q,N=this._optionsService.rawOptions,$=ne=>ne?1:2,U=k.params[0];return Z=U,X=T?U===2?4:U===4?$(V.modes.insertMode):U===12?3:U===20?$(N.convertEol):0:U===1?$(M.applicationCursorKeys):U===3?N.windowOptions.setWinLines?G===80?2:G===132?1:0:0:U===6?$(M.origin):U===7?$(M.wraparound):U===8?3:U===9?$(O==="X10"):U===12?$(N.cursorBlink):U===25?$(!V.isCursorHidden):U===45?$(M.reverseWraparound):U===66?$(M.applicationKeypad):U===67?4:U===1e3?$(O==="VT200"):U===1002?$(O==="DRAG"):U===1003?$(O==="ANY"):U===1004?$(M.sendFocus):U===1005?4:U===1006?$(H==="SGR"):U===1015?4:U===1016?$(H==="SGR_PIXELS"):U===1048?1:U===47||U===1047||U===1049?$(ie===R):U===2004?$(M.bracketedPasteMode):0,V.triggerDataEvent(`${d.C0.ESC}[${T?"":"?"}${Z};${X}$y`),!0;var Z,X}_updateAttrColor(k,T,M,O,H){return T===2?(k|=50331648,k&=-16777216,k|=_.AttributeData.fromColorRGB([M,O,H])):T===5&&(k&=-50331904,k|=33554432|255&M),k}_extractColor(k,T,M){const O=[0,0,-1,0,0,0];let H=0,V=0;do{if(O[V+H]=k.params[T+V],k.hasSubParams(T+V)){const q=k.getSubParams(T+V);let G=0;do O[1]===5&&(H=1),O[V+G+1+H]=q[G];while(++G<q.length&&G+V+1+H<O.length);break}if(O[1]===5&&V+H>=2||O[1]===2&&V+H>=5)break;O[1]&&(H=1)}while(++V+T<k.length&&V+H<O.length);for(let q=2;q<O.length;++q)O[q]===-1&&(O[q]=0);switch(O[0]){case 38:M.fg=this._updateAttrColor(M.fg,O[1],O[3],O[4],O[5]);break;case 48:M.bg=this._updateAttrColor(M.bg,O[1],O[3],O[4],O[5]);break;case 58:M.extended=M.extended.clone(),M.extended.underlineColor=this._updateAttrColor(M.extended.underlineColor,O[1],O[3],O[4],O[5])}return V}_processUnderline(k,T){T.extended=T.extended.clone(),(!~k||k>5)&&(k=1),T.extended.underlineStyle=k,T.fg|=268435456,k===0&&(T.fg&=-268435457),T.updateExtended()}_processSGR0(k){k.fg=l.DEFAULT_ATTR_DATA.fg,k.bg=l.DEFAULT_ATTR_DATA.bg,k.extended=k.extended.clone(),k.extended.underlineStyle=0,k.extended.underlineColor&=-67108864,k.updateExtended()}charAttributes(k){if(k.length===1&&k.params[0]===0)return this._processSGR0(this._curAttrData),!0;const T=k.length;let M;const O=this._curAttrData;for(let H=0;H<T;H++)M=k.params[H],M>=30&&M<=37?(O.fg&=-50331904,O.fg|=16777216|M-30):M>=40&&M<=47?(O.bg&=-50331904,O.bg|=16777216|M-40):M>=90&&M<=97?(O.fg&=-50331904,O.fg|=16777224|M-90):M>=100&&M<=107?(O.bg&=-50331904,O.bg|=16777224|M-100):M===0?this._processSGR0(O):M===1?O.fg|=134217728:M===3?O.bg|=67108864:M===4?(O.fg|=268435456,this._processUnderline(k.hasSubParams(H)?k.getSubParams(H)[0]:1,O)):M===5?O.fg|=536870912:M===7?O.fg|=67108864:M===8?O.fg|=1073741824:M===9?O.fg|=2147483648:M===2?O.bg|=134217728:M===21?this._processUnderline(2,O):M===22?(O.fg&=-134217729,O.bg&=-134217729):M===23?O.bg&=-67108865:M===24?(O.fg&=-268435457,this._processUnderline(0,O)):M===25?O.fg&=-536870913:M===27?O.fg&=-67108865:M===28?O.fg&=-1073741825:M===29?O.fg&=2147483647:M===39?(O.fg&=-67108864,O.fg|=16777215&l.DEFAULT_ATTR_DATA.fg):M===49?(O.bg&=-67108864,O.bg|=16777215&l.DEFAULT_ATTR_DATA.bg):M===38||M===48||M===58?H+=this._extractColor(k,H,O):M===53?O.bg|=1073741824:M===55?O.bg&=-1073741825:M===59?(O.extended=O.extended.clone(),O.extended.underlineColor=-1,O.updateExtended()):M===100?(O.fg&=-67108864,O.fg|=16777215&l.DEFAULT_ATTR_DATA.fg,O.bg&=-67108864,O.bg|=16777215&l.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",M);return!0}deviceStatus(k){switch(k.params[0]){case 5:this._coreService.triggerDataEvent(`${d.C0.ESC}[0n`);break;case 6:const T=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[${T};${M}R`)}return!0}deviceStatusPrivate(k){if(k.params[0]===6){const T=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[?${T};${M}R`)}return!0}softReset(k){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(k){const T=k.params[0]||1;switch(T){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const M=T%2==1;return this._optionsService.options.cursorBlink=M,!0}setScrollRegion(k){const T=k.params[0]||1;let M;return(k.length<2||(M=k.params[1])>this._bufferService.rows||M===0)&&(M=this._bufferService.rows),M>T&&(this._activeBuffer.scrollTop=T-1,this._activeBuffer.scrollBottom=M-1,this._setCursor(0,0)),!0}windowOptions(k){if(!A(k.params[0],this._optionsService.rawOptions.windowOptions))return!0;const T=k.length>1?k.params[1]:0;switch(k.params[0]){case 14:T!==2&&this._onRequestWindowsOptionsReport.fire(P.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(P.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${d.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:T!==0&&T!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),T!==0&&T!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:T!==0&&T!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),T!==0&&T!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(k){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(k){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(k){return this._windowTitle=k,this._onTitleChange.fire(k),!0}setIconName(k){return this._iconName=k,!0}setOrReportIndexedColor(k){const T=[],M=k.split(";");for(;M.length>1;){const O=M.shift(),H=M.shift();if(/^\d+$/.exec(O)){const V=parseInt(O);if(F(V))if(H==="?")T.push({type:0,index:V});else{const q=(0,m.parseColor)(H);q&&T.push({type:1,index:V,color:q})}}}return T.length&&this._onColor.fire(T),!0}setHyperlink(k){const T=k.split(";");return!(T.length<2)&&(T[1]?this._createHyperlink(T[0],T[1]):!T[0]&&this._finishHyperlink())}_createHyperlink(k,T){this._getCurrentLinkId()&&this._finishHyperlink();const M=k.split(":");let O;const H=M.findIndex(V=>V.startsWith("id="));return H!==-1&&(O=M[H].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:O,uri:T}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(k,T){const M=k.split(";");for(let O=0;O<M.length&&!(T>=this._specialColors.length);++O,++T)if(M[O]==="?")this._onColor.fire([{type:0,index:this._specialColors[T]}]);else{const H=(0,m.parseColor)(M[O]);H&&this._onColor.fire([{type:1,index:this._specialColors[T],color:H}])}return!0}setOrReportFgColor(k){return this._setOrReportSpecialColor(k,0)}setOrReportBgColor(k){return this._setOrReportSpecialColor(k,1)}setOrReportCursorColor(k){return this._setOrReportSpecialColor(k,2)}restoreIndexedColor(k){if(!k)return this._onColor.fire([{type:2}]),!0;const T=[],M=k.split(";");for(let O=0;O<M.length;++O)if(/^\d+$/.exec(M[O])){const H=parseInt(M[O]);F(H)&&T.push({type:2,index:H})}return T.length&&this._onColor.fire(T),!0}restoreFgColor(k){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(k){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(k){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(k){return k.length!==2?(this.selectDefaultCharset(),!0):(k[0]==="/"||this._charsetService.setgCharset(E[k[0]],g.CHARSETS[k[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const k=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,k,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=l.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(k){return this._charsetService.setgLevel(k),!0}screenAlignmentPattern(){const k=new c.CellData;k.content=4194373,k.fg=this._curAttrData.fg,k.bg=this._curAttrData.bg,this._setCursor(0,0);for(let T=0;T<this._bufferService.rows;++T){const M=this._activeBuffer.ybase+this._activeBuffer.y+T,O=this._activeBuffer.lines.get(M);O&&(O.fill(k),O.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(k,T){const M=this._bufferService.buffer,O=this._optionsService.rawOptions;return(H=>(this._coreService.triggerDataEvent(`${d.C0.ESC}${H}${d.C0.ESC}\\`),!0))(k==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:k==='"p'?'P1$r61;1"p':k==="r"?`P1$r${M.scrollTop+1};${M.scrollBottom+1}r`:k==="m"?"P1$r0m":k===" q"?`P1$r${{block:2,underline:4,bar:6}[O.cursorStyle]-(O.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(k,T){this._dirtyRowTracker.markRangeDirty(k,T)}}n.InputHandler=j;let I=class{constructor(z){this._bufferService=z,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(z){z<this.start?this.start=z:z>this.end&&(this.end=z)}markRangeDirty(z,k){z>k&&(B=z,z=k,k=B),z<this.start&&(this.start=z),k>this.end&&(this.end=k)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function F(z){return 0<=z&&z<256}I=f([y(0,S.IBufferService)],I)},844:(p,n)=>{function u(f){for(const y of f)y.dispose();f.length=0}Object.defineProperty(n,"__esModule",{value:!0}),n.getDisposeArrayDisposable=n.disposeArray=n.toDisposable=n.MutableDisposable=n.Disposable=void 0,n.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const f of this._disposables)f.dispose();this._disposables.length=0}register(f){return this._disposables.push(f),f}unregister(f){const y=this._disposables.indexOf(f);y!==-1&&this._disposables.splice(y,1)}},n.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(f){var y;this._isDisposed||f===this._value||((y=this._value)===null||y===void 0||y.dispose(),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,(f=this._value)===null||f===void 0||f.dispose(),this._value=void 0}},n.toDisposable=function(f){return{dispose:f}},n.disposeArray=u,n.getDisposeArrayDisposable=function(f){return{dispose:()=>u(f)}}},1505:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FourKeyMap=n.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(y,d,g){this._data[y]||(this._data[y]={}),this._data[y][d]=g}get(y,d){return this._data[y]?this._data[y][d]:void 0}clear(){this._data={}}}n.TwoKeyMap=u,n.FourKeyMap=class{constructor(){this._data=new u}set(f,y,d,g,w){this._data.get(f,y)||this._data.set(f,y,new u),this._data.get(f,y).set(d,g,w)}get(f,y,d,g){var w;return(w=this._data.get(f,y))===null||w===void 0?void 0:w.get(d,g)}clear(){this._data.clear()}}},6114:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isChromeOS=n.isLinux=n.isWindows=n.isIphone=n.isIpad=n.isMac=n.getSafariVersion=n.isSafari=n.isLegacyEdge=n.isFirefox=n.isNode=void 0,n.isNode=typeof navigator>"u";const u=n.isNode?"node":navigator.userAgent,f=n.isNode?"node":navigator.platform;n.isFirefox=u.includes("Firefox"),n.isLegacyEdge=u.includes("Edge"),n.isSafari=/^((?!chrome|android).)*safari/i.test(u),n.getSafariVersion=function(){if(!n.isSafari)return 0;const y=u.match(/Version\/(\d+)/);return y===null||y.length<2?0:parseInt(y[1])},n.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(f),n.isIpad=f==="iPad",n.isIphone=f==="iPhone",n.isWindows=["Windows","Win16","Win32","WinCE"].includes(f),n.isLinux=f.indexOf("Linux")>=0,n.isChromeOS=/\bCrOS\b/.test(u)},6106:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SortedList=void 0;let u=0;n.SortedList=class{constructor(f){this._getKey=f,this._array=[]}clear(){this._array.length=0}insert(f){this._array.length!==0?(u=this._search(this._getKey(f)),this._array.splice(u,0,f)):this._array.push(f)}delete(f){if(this._array.length===0)return!1;const y=this._getKey(f);if(y===void 0||(u=this._search(y),u===-1)||this._getKey(this._array[u])!==y)return!1;do if(this._array[u]===f)return this._array.splice(u,1),!0;while(++u<this._array.length&&this._getKey(this._array[u])===y);return!1}*getKeyIterator(f){if(this._array.length!==0&&(u=this._search(f),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===f))do yield this._array[u];while(++u<this._array.length&&this._getKey(this._array[u])===f)}forEachByKey(f,y){if(this._array.length!==0&&(u=this._search(f),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===f))do y(this._array[u]);while(++u<this._array.length&&this._getKey(this._array[u])===f)}values(){return[...this._array].values()}_search(f){let y=0,d=this._array.length-1;for(;d>=y;){let g=y+d>>1;const w=this._getKey(this._array[g]);if(w>f)d=g-1;else{if(!(w<f)){for(;g>0&&this._getKey(this._array[g-1])===f;)g--;return g}y=g+1}}return y}}},7226:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DebouncedIdleTask=n.IdleTaskQueue=n.PriorityTaskQueue=void 0;const f=u(6114);class y{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let C=0,v=0,l=w.timeRemaining(),a=0;for(;this._i<this._tasks.length;){if(C=Date.now(),this._tasks[this._i]()||this._i++,C=Math.max(1,Date.now()-C),v=Math.max(C,v),a=w.timeRemaining(),1.5*v>a)return l-C<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(l-C))}ms`),void this._start();l=a}this.clear()}}class d extends y{_requestCallback(w){return setTimeout(()=>w(this._createDeadline(16)))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const C=Date.now()+w;return{timeRemaining:()=>Math.max(0,C-Date.now())}}}n.PriorityTaskQueue=d,n.IdleTaskQueue=!f.isNode&&"requestIdleCallback"in window?class extends y{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:d,n.DebouncedIdleTask=class{constructor(){this._queue=new n.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.updateWindowsModeWrappedState=void 0;const f=u(643);n.updateWindowsModeWrappedState=function(y){const d=y.buffer.lines.get(y.buffer.ybase+y.buffer.y-1),g=d==null?void 0:d.get(y.cols-1),w=y.buffer.lines.get(y.buffer.ybase+y.buffer.y);w&&g&&(w.isWrapped=g[f.CHAR_DATA_CODE_INDEX]!==f.NULL_CELL_CODE&&g[f.CHAR_DATA_CODE_INDEX]!==f.WHITESPACE_CELL_CODE)}},3734:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendedAttrs=n.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new f}static toColorRGB(d){return[d>>>16&255,d>>>8&255,255&d]}static fromColorRGB(d){return(255&d[0])<<16|(255&d[1])<<8|255&d[2]}clone(){const d=new u;return d.fg=this.fg,d.bg=this.bg,d.extended=this.extended.clone(),d}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}n.AttributeData=u;class f{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(d){this._ext=d}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(d){this._ext&=-469762049,this._ext|=d<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(d){this._ext&=-67108864,this._ext|=67108863&d}get urlId(){return this._urlId}set urlId(d){this._urlId=d}constructor(d=0,g=0){this._ext=0,this._urlId=0,this._ext=d,this._urlId=g}clone(){return new f(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}n.ExtendedAttrs=f},9092:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Buffer=n.MAX_BUFFER_SIZE=void 0;const f=u(6349),y=u(7226),d=u(3734),g=u(8437),w=u(4634),C=u(511),v=u(643),l=u(4863),a=u(7116);n.MAX_BUFFER_SIZE=4294967295,n.Buffer=class{constructor(o,c,_){this._hasScrollback=o,this._optionsService=c,this._bufferService=_,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=a.DEFAULT_CHARSET,this.markers=[],this._nullCell=C.CellData.fromCharData([0,v.NULL_CELL_CHAR,v.NULL_CELL_WIDTH,v.NULL_CELL_CODE]),this._whitespaceCell=C.CellData.fromCharData([0,v.WHITESPACE_CELL_CHAR,v.WHITESPACE_CELL_WIDTH,v.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new y.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(o){return o?(this._nullCell.fg=o.fg,this._nullCell.bg=o.bg,this._nullCell.extended=o.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new d.ExtendedAttrs),this._nullCell}getWhitespaceCell(o){return o?(this._whitespaceCell.fg=o.fg,this._whitespaceCell.bg=o.bg,this._whitespaceCell.extended=o.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new d.ExtendedAttrs),this._whitespaceCell}getBlankLine(o,c){return new g.BufferLine(this._bufferService.cols,this.getNullCell(o),c)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const o=this.ybase+this.y-this.ydisp;return o>=0&&o<this._rows}_getCorrectBufferLength(o){if(!this._hasScrollback)return o;const c=o+this._optionsService.rawOptions.scrollback;return c>n.MAX_BUFFER_SIZE?n.MAX_BUFFER_SIZE:c}fillViewportRows(o){if(this.lines.length===0){o===void 0&&(o=g.DEFAULT_ATTR_DATA);let c=this._rows;for(;c--;)this.lines.push(this.getBlankLine(o))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(o,c){const _=this.getNullCell(g.DEFAULT_ATTR_DATA);let S=0;const x=this._getCorrectBufferLength(c);if(x>this.lines.maxLength&&(this.lines.maxLength=x),this.lines.length>0){if(this._cols<o)for(let m=0;m<this.lines.length;m++)S+=+this.lines.get(m).resize(o,_);let b=0;if(this._rows<c)for(let m=this._rows;m<c;m++)this.lines.length<c+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(o,_)):this.ybase>0&&this.lines.length<=this.ybase+this.y+b+1?(this.ybase--,b++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(o,_)));else for(let m=this._rows;m>c;m--)this.lines.length>c+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(x<this.lines.maxLength){const m=this.lines.length-x;m>0&&(this.lines.trimStart(m),this.ybase=Math.max(this.ybase-m,0),this.ydisp=Math.max(this.ydisp-m,0),this.savedY=Math.max(this.savedY-m,0)),this.lines.maxLength=x}this.x=Math.min(this.x,o-1),this.y=Math.min(this.y,c-1),b&&(this.y+=b),this.savedX=Math.min(this.savedX,o-1),this.scrollTop=0}if(this.scrollBottom=c-1,this._isReflowEnabled&&(this._reflow(o,c),this._cols>o))for(let b=0;b<this.lines.length;b++)S+=+this.lines.get(b).resize(o,_);this._cols=o,this._rows=c,this._memoryCleanupQueue.clear(),S>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let o=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,o=!1);let c=0;for(;this._memoryCleanupPosition<this.lines.length;)if(c+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),c>100)return!0;return o}get _isReflowEnabled(){const o=this._optionsService.rawOptions.windowsPty;return o&&o.buildNumber?this._hasScrollback&&o.backend==="conpty"&&o.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(o,c){this._cols!==o&&(o>this._cols?this._reflowLarger(o,c):this._reflowSmaller(o,c))}_reflowLarger(o,c){const _=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,o,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(_.length>0){const S=(0,w.reflowLargerCreateNewLayout)(this.lines,_);(0,w.reflowLargerApplyNewLayout)(this.lines,S.layout),this._reflowLargerAdjustViewport(o,c,S.countRemoved)}}_reflowLargerAdjustViewport(o,c,_){const S=this.getNullCell(g.DEFAULT_ATTR_DATA);let x=_;for(;x-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<c&&this.lines.push(new g.BufferLine(o,S))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-_,0)}_reflowSmaller(o,c){const _=this.getNullCell(g.DEFAULT_ATTR_DATA),S=[];let x=0;for(let b=this.lines.length-1;b>=0;b--){let m=this.lines.get(b);if(!m||!m.isWrapped&&m.getTrimmedLength()<=o)continue;const E=[m];for(;m.isWrapped&&b>0;)m=this.lines.get(--b),E.unshift(m);const D=this.ybase+this.y;if(D>=b&&D<b+E.length)continue;const A=E[E.length-1].getTrimmedLength(),P=(0,w.reflowSmallerGetNewLineLengths)(E,this._cols,o),B=P.length-E.length;let j;j=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+B):Math.max(0,this.lines.length-this.lines.maxLength+B);const I=[];for(let O=0;O<B;O++){const H=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);I.push(H)}I.length>0&&(S.push({start:b+E.length+x,newLines:I}),x+=I.length),E.push(...I);let F=P.length-1,z=P[F];z===0&&(F--,z=P[F]);let k=E.length-B-1,T=A;for(;k>=0;){const O=Math.min(T,z);if(E[F]===void 0)break;if(E[F].copyCellsFrom(E[k],T-O,z-O,O,!0),z-=O,z===0&&(F--,z=P[F]),T-=O,T===0){k--;const H=Math.max(k,0);T=(0,w.getWrappedLineTrimmedLength)(E,H,this._cols)}}for(let O=0;O<E.length;O++)P[O]<o&&E[O].setCell(P[O],_);let M=B-j;for(;M-- >0;)this.ybase===0?this.y<c-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+x)-c&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+B,this.ybase+c-1)}if(S.length>0){const b=[],m=[];for(let F=0;F<this.lines.length;F++)m.push(this.lines.get(F));const E=this.lines.length;let D=E-1,A=0,P=S[A];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+x);let B=0;for(let F=Math.min(this.lines.maxLength-1,E+x-1);F>=0;F--)if(P&&P.start>D+B){for(let z=P.newLines.length-1;z>=0;z--)this.lines.set(F--,P.newLines[z]);F++,b.push({index:D+1,amount:P.newLines.length}),B+=P.newLines.length,P=S[++A]}else this.lines.set(F,m[D--]);let j=0;for(let F=b.length-1;F>=0;F--)b[F].index+=j,this.lines.onInsertEmitter.fire(b[F]),j+=b[F].amount;const I=Math.max(0,E+x-this.lines.maxLength);I>0&&this.lines.onTrimEmitter.fire(I)}}translateBufferLineToString(o,c,_=0,S){const x=this.lines.get(o);return x?x.translateToString(c,_,S):""}getWrappedRangeForLine(o){let c=o,_=o;for(;c>0&&this.lines.get(c).isWrapped;)c--;for(;_+1<this.lines.length&&this.lines.get(_+1).isWrapped;)_++;return{first:c,last:_}}setupTabStops(o){for(o!=null?this.tabs[o]||(o=this.prevStop(o)):(this.tabs={},o=0);o<this._cols;o+=this._optionsService.rawOptions.tabStopWidth)this.tabs[o]=!0}prevStop(o){for(o==null&&(o=this.x);!this.tabs[--o]&&o>0;);return o>=this._cols?this._cols-1:o<0?0:o}nextStop(o){for(o==null&&(o=this.x);!this.tabs[++o]&&o<this._cols;);return o>=this._cols?this._cols-1:o<0?0:o}clearMarkers(o){this._isClearing=!0;for(let c=0;c<this.markers.length;c++)this.markers[c].line===o&&(this.markers[c].dispose(),this.markers.splice(c--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let o=0;o<this.markers.length;o++)this.markers[o].dispose(),this.markers.splice(o--,1);this._isClearing=!1}addMarker(o){const c=new l.Marker(o);return this.markers.push(c),c.register(this.lines.onTrim(_=>{c.line-=_,c.line<0&&c.dispose()})),c.register(this.lines.onInsert(_=>{c.line>=_.index&&(c.line+=_.amount)})),c.register(this.lines.onDelete(_=>{c.line>=_.index&&c.line<_.index+_.amount&&c.dispose(),c.line>_.index&&(c.line-=_.amount)})),c.register(c.onDispose(()=>this._removeMarker(c))),c}_removeMarker(o){this._isClearing||this.markers.splice(this.markers.indexOf(o),1)}}},8437:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLine=n.DEFAULT_ATTR_DATA=void 0;const f=u(3734),y=u(511),d=u(643),g=u(482);n.DEFAULT_ATTR_DATA=Object.freeze(new f.AttributeData);let w=0;class C{constructor(l,a,o=!1){this.isWrapped=o,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*l);const c=a||y.CellData.fromCharData([0,d.NULL_CELL_CHAR,d.NULL_CELL_WIDTH,d.NULL_CELL_CODE]);for(let _=0;_<l;++_)this.setCell(_,c);this.length=l}get(l){const a=this._data[3*l+0],o=2097151&a;return[this._data[3*l+1],2097152&a?this._combined[l]:o?(0,g.stringFromCodePoint)(o):"",a>>22,2097152&a?this._combined[l].charCodeAt(this._combined[l].length-1):o]}set(l,a){this._data[3*l+1]=a[d.CHAR_DATA_ATTR_INDEX],a[d.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[l]=a[1],this._data[3*l+0]=2097152|l|a[d.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*l+0]=a[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|a[d.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(l){return this._data[3*l+0]>>22}hasWidth(l){return 12582912&this._data[3*l+0]}getFg(l){return this._data[3*l+1]}getBg(l){return this._data[3*l+2]}hasContent(l){return 4194303&this._data[3*l+0]}getCodePoint(l){const a=this._data[3*l+0];return 2097152&a?this._combined[l].charCodeAt(this._combined[l].length-1):2097151&a}isCombined(l){return 2097152&this._data[3*l+0]}getString(l){const a=this._data[3*l+0];return 2097152&a?this._combined[l]:2097151&a?(0,g.stringFromCodePoint)(2097151&a):""}isProtected(l){return 536870912&this._data[3*l+2]}loadCell(l,a){return w=3*l,a.content=this._data[w+0],a.fg=this._data[w+1],a.bg=this._data[w+2],2097152&a.content&&(a.combinedData=this._combined[l]),268435456&a.bg&&(a.extended=this._extendedAttrs[l]),a}setCell(l,a){2097152&a.content&&(this._combined[l]=a.combinedData),268435456&a.bg&&(this._extendedAttrs[l]=a.extended),this._data[3*l+0]=a.content,this._data[3*l+1]=a.fg,this._data[3*l+2]=a.bg}setCellFromCodePoint(l,a,o,c,_,S){268435456&_&&(this._extendedAttrs[l]=S),this._data[3*l+0]=a|o<<22,this._data[3*l+1]=c,this._data[3*l+2]=_}addCodepointToCell(l,a){let o=this._data[3*l+0];2097152&o?this._combined[l]+=(0,g.stringFromCodePoint)(a):(2097151&o?(this._combined[l]=(0,g.stringFromCodePoint)(2097151&o)+(0,g.stringFromCodePoint)(a),o&=-2097152,o|=2097152):o=a|4194304,this._data[3*l+0]=o)}insertCells(l,a,o,c){if((l%=this.length)&&this.getWidth(l-1)===2&&this.setCellFromCodePoint(l-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new f.ExtendedAttrs),a<this.length-l){const _=new y.CellData;for(let S=this.length-l-a-1;S>=0;--S)this.setCell(l+a+S,this.loadCell(l+S,_));for(let S=0;S<a;++S)this.setCell(l+S,o)}else for(let _=l;_<this.length;++_)this.setCell(_,o);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new f.ExtendedAttrs)}deleteCells(l,a,o,c){if(l%=this.length,a<this.length-l){const _=new y.CellData;for(let S=0;S<this.length-l-a;++S)this.setCell(l+S,this.loadCell(l+a+S,_));for(let S=this.length-a;S<this.length;++S)this.setCell(S,o)}else for(let _=l;_<this.length;++_)this.setCell(_,o);l&&this.getWidth(l-1)===2&&this.setCellFromCodePoint(l-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new f.ExtendedAttrs),this.getWidth(l)!==0||this.hasContent(l)||this.setCellFromCodePoint(l,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new f.ExtendedAttrs)}replaceCells(l,a,o,c,_=!1){if(_)for(l&&this.getWidth(l-1)===2&&!this.isProtected(l-1)&&this.setCellFromCodePoint(l-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new f.ExtendedAttrs),a<this.length&&this.getWidth(a-1)===2&&!this.isProtected(a)&&this.setCellFromCodePoint(a,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new f.ExtendedAttrs);l<a&&l<this.length;)this.isProtected(l)||this.setCell(l,o),l++;else for(l&&this.getWidth(l-1)===2&&this.setCellFromCodePoint(l-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new f.ExtendedAttrs),a<this.length&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new f.ExtendedAttrs);l<a&&l<this.length;)this.setCell(l++,o)}resize(l,a){if(l===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const o=3*l;if(l>this.length){if(this._data.buffer.byteLength>=4*o)this._data=new Uint32Array(this._data.buffer,0,o);else{const c=new Uint32Array(o);c.set(this._data),this._data=c}for(let c=this.length;c<l;++c)this.setCell(c,a)}else{this._data=this._data.subarray(0,o);const c=Object.keys(this._combined);for(let S=0;S<c.length;S++){const x=parseInt(c[S],10);x>=l&&delete this._combined[x]}const _=Object.keys(this._extendedAttrs);for(let S=0;S<_.length;S++){const x=parseInt(_[S],10);x>=l&&delete this._extendedAttrs[x]}}return this.length=l,4*o*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const l=new Uint32Array(this._data.length);return l.set(this._data),this._data=l,1}return 0}fill(l,a=!1){if(a)for(let o=0;o<this.length;++o)this.isProtected(o)||this.setCell(o,l);else{this._combined={},this._extendedAttrs={};for(let o=0;o<this.length;++o)this.setCell(o,l)}}copyFrom(l){this.length!==l.length?this._data=new Uint32Array(l._data):this._data.set(l._data),this.length=l.length,this._combined={};for(const a in l._combined)this._combined[a]=l._combined[a];this._extendedAttrs={};for(const a in l._extendedAttrs)this._extendedAttrs[a]=l._extendedAttrs[a];this.isWrapped=l.isWrapped}clone(){const l=new C(0);l._data=new Uint32Array(this._data),l.length=this.length;for(const a in this._combined)l._combined[a]=this._combined[a];for(const a in this._extendedAttrs)l._extendedAttrs[a]=this._extendedAttrs[a];return l.isWrapped=this.isWrapped,l}getTrimmedLength(){for(let l=this.length-1;l>=0;--l)if(4194303&this._data[3*l+0])return l+(this._data[3*l+0]>>22);return 0}getNoBgTrimmedLength(){for(let l=this.length-1;l>=0;--l)if(4194303&this._data[3*l+0]||50331648&this._data[3*l+2])return l+(this._data[3*l+0]>>22);return 0}copyCellsFrom(l,a,o,c,_){const S=l._data;if(_)for(let b=c-1;b>=0;b--){for(let m=0;m<3;m++)this._data[3*(o+b)+m]=S[3*(a+b)+m];268435456&S[3*(a+b)+2]&&(this._extendedAttrs[o+b]=l._extendedAttrs[a+b])}else for(let b=0;b<c;b++){for(let m=0;m<3;m++)this._data[3*(o+b)+m]=S[3*(a+b)+m];268435456&S[3*(a+b)+2]&&(this._extendedAttrs[o+b]=l._extendedAttrs[a+b])}const x=Object.keys(l._combined);for(let b=0;b<x.length;b++){const m=parseInt(x[b],10);m>=a&&(this._combined[m-a+o]=l._combined[m])}}translateToString(l=!1,a=0,o=this.length){l&&(o=Math.min(o,this.getTrimmedLength()));let c="";for(;a<o;){const _=this._data[3*a+0],S=2097151&_;c+=2097152&_?this._combined[a]:S?(0,g.stringFromCodePoint)(S):d.WHITESPACE_CELL_CHAR,a+=_>>22||1}return c}}n.BufferLine=C},4841:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getRangeLength=void 0,n.getRangeLength=function(u,f){if(u.start.y>u.end.y)throw new Error(`Buffer range end (${u.end.x}, ${u.end.y}) cannot be before start (${u.start.x}, ${u.start.y})`);return f*(u.end.y-u.start.y)+(u.end.x-u.start.x+1)}},4634:(p,n)=>{function u(f,y,d){if(y===f.length-1)return f[y].getTrimmedLength();const g=!f[y].hasContent(d-1)&&f[y].getWidth(d-1)===1,w=f[y+1].getWidth(0)===2;return g&&w?d-1:d}Object.defineProperty(n,"__esModule",{value:!0}),n.getWrappedLineTrimmedLength=n.reflowSmallerGetNewLineLengths=n.reflowLargerApplyNewLayout=n.reflowLargerCreateNewLayout=n.reflowLargerGetLinesToRemove=void 0,n.reflowLargerGetLinesToRemove=function(f,y,d,g,w){const C=[];for(let v=0;v<f.length-1;v++){let l=v,a=f.get(++l);if(!a.isWrapped)continue;const o=[f.get(v)];for(;l<f.length&&a.isWrapped;)o.push(a),a=f.get(++l);if(g>=v&&g<l){v+=o.length-1;continue}let c=0,_=u(o,c,y),S=1,x=0;for(;S<o.length;){const m=u(o,S,y),E=m-x,D=d-_,A=Math.min(E,D);o[c].copyCellsFrom(o[S],x,_,A,!1),_+=A,_===d&&(c++,_=0),x+=A,x===m&&(S++,x=0),_===0&&c!==0&&o[c-1].getWidth(d-1)===2&&(o[c].copyCellsFrom(o[c-1],d-1,_++,1,!1),o[c-1].setCell(d-1,w))}o[c].replaceCells(_,d,w);let b=0;for(let m=o.length-1;m>0&&(m>c||o[m].getTrimmedLength()===0);m--)b++;b>0&&(C.push(v+o.length-b),C.push(b)),v+=o.length-1}return C},n.reflowLargerCreateNewLayout=function(f,y){const d=[];let g=0,w=y[g],C=0;for(let v=0;v<f.length;v++)if(w===v){const l=y[++g];f.onDeleteEmitter.fire({index:v-C,amount:l}),v+=l-1,C+=l,w=y[++g]}else d.push(v);return{layout:d,countRemoved:C}},n.reflowLargerApplyNewLayout=function(f,y){const d=[];for(let g=0;g<y.length;g++)d.push(f.get(y[g]));for(let g=0;g<d.length;g++)f.set(g,d[g]);f.length=y.length},n.reflowSmallerGetNewLineLengths=function(f,y,d){const g=[],w=f.map((a,o)=>u(f,o,y)).reduce((a,o)=>a+o);let C=0,v=0,l=0;for(;l<w;){if(w-l<d){g.push(w-l);break}C+=d;const a=u(f,v,y);C>a&&(C-=a,v++);const o=f[v].getWidth(C-1)===2;o&&C--;const c=o?d-1:d;g.push(c),l+=c}return g},n.getWrappedLineTrimmedLength=u},5295:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferSet=void 0;const f=u(8460),y=u(844),d=u(9092);class g extends y.Disposable{constructor(C,v){super(),this._optionsService=C,this._bufferService=v,this._onBufferActivate=this.register(new f.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new d.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new d.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(C){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(C),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(C,v){this._normal.resize(C,v),this._alt.resize(C,v),this.setupTabStops(C)}setupTabStops(C){this._normal.setupTabStops(C),this._alt.setupTabStops(C)}}n.BufferSet=g},511:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CellData=void 0;const f=u(482),y=u(643),d=u(3734);class g extends d.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new d.ExtendedAttrs,this.combinedData=""}static fromCharData(C){const v=new g;return v.setFromCharData(C),v}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,f.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(C){this.fg=C[y.CHAR_DATA_ATTR_INDEX],this.bg=0;let v=!1;if(C[y.CHAR_DATA_CHAR_INDEX].length>2)v=!0;else if(C[y.CHAR_DATA_CHAR_INDEX].length===2){const l=C[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=l&&l<=56319){const a=C[y.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=a&&a<=57343?this.content=1024*(l-55296)+a-56320+65536|C[y.CHAR_DATA_WIDTH_INDEX]<<22:v=!0}else v=!0}else this.content=C[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[y.CHAR_DATA_WIDTH_INDEX]<<22;v&&(this.combinedData=C[y.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[y.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.CellData=g},643:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WHITESPACE_CELL_CODE=n.WHITESPACE_CELL_WIDTH=n.WHITESPACE_CELL_CHAR=n.NULL_CELL_CODE=n.NULL_CELL_WIDTH=n.NULL_CELL_CHAR=n.CHAR_DATA_CODE_INDEX=n.CHAR_DATA_WIDTH_INDEX=n.CHAR_DATA_CHAR_INDEX=n.CHAR_DATA_ATTR_INDEX=n.DEFAULT_EXT=n.DEFAULT_ATTR=n.DEFAULT_COLOR=void 0,n.DEFAULT_COLOR=0,n.DEFAULT_ATTR=256|n.DEFAULT_COLOR<<9,n.DEFAULT_EXT=0,n.CHAR_DATA_ATTR_INDEX=0,n.CHAR_DATA_CHAR_INDEX=1,n.CHAR_DATA_WIDTH_INDEX=2,n.CHAR_DATA_CODE_INDEX=3,n.NULL_CELL_CHAR="",n.NULL_CELL_WIDTH=1,n.NULL_CELL_CODE=0,n.WHITESPACE_CELL_CHAR=" ",n.WHITESPACE_CELL_WIDTH=1,n.WHITESPACE_CELL_CODE=32},4863:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Marker=void 0;const f=u(8460),y=u(844);class d{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=d._nextId++,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,y.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}n.Marker=d,d._nextId=1},7116:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHARSET=n.CHARSETS=void 0,n.CHARSETS={},n.DEFAULT_CHARSET=n.CHARSETS.B,n.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},n.CHARSETS.A={"#":""},n.CHARSETS.B=void 0,n.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},n.CHARSETS.C=n.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.E=n.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},n.CHARSETS.H=n.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(p,n)=>{var u,f,y;Object.defineProperty(n,"__esModule",{value:!0}),n.C1_ESCAPED=n.C1=n.C0=void 0,function(d){d.NUL="\0",d.SOH="",d.STX="",d.ETX="",d.EOT="",d.ENQ="",d.ACK="",d.BEL="\x07",d.BS="\b",d.HT="	",d.LF=`
`,d.VT="\v",d.FF="\f",d.CR="\r",d.SO="",d.SI="",d.DLE="",d.DC1="",d.DC2="",d.DC3="",d.DC4="",d.NAK="",d.SYN="",d.ETB="",d.CAN="",d.EM="",d.SUB="",d.ESC="\x1B",d.FS="",d.GS="",d.RS="",d.US="",d.SP=" ",d.DEL=""}(u||(n.C0=u={})),function(d){d.PAD="",d.HOP="",d.BPH="",d.NBH="",d.IND="",d.NEL="",d.SSA="",d.ESA="",d.HTS="",d.HTJ="",d.VTS="",d.PLD="",d.PLU="",d.RI="",d.SS2="",d.SS3="",d.DCS="",d.PU1="",d.PU2="",d.STS="",d.CCH="",d.MW="",d.SPA="",d.EPA="",d.SOS="",d.SGCI="",d.SCI="",d.CSI="",d.ST="",d.OSC="",d.PM="",d.APC=""}(f||(n.C1=f={})),function(d){d.ST=`${u.ESC}\\`}(y||(n.C1_ESCAPED=y={}))},7399:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.evaluateKeyboardEvent=void 0;const f=u(2584),y={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};n.evaluateKeyboardEvent=function(d,g,w,C){const v={type:0,cancel:!1,key:void 0},l=(d.shiftKey?1:0)|(d.altKey?2:0)|(d.ctrlKey?4:0)|(d.metaKey?8:0);switch(d.keyCode){case 0:d.key==="UIKeyInputUpArrow"?v.key=g?f.C0.ESC+"OA":f.C0.ESC+"[A":d.key==="UIKeyInputLeftArrow"?v.key=g?f.C0.ESC+"OD":f.C0.ESC+"[D":d.key==="UIKeyInputRightArrow"?v.key=g?f.C0.ESC+"OC":f.C0.ESC+"[C":d.key==="UIKeyInputDownArrow"&&(v.key=g?f.C0.ESC+"OB":f.C0.ESC+"[B");break;case 8:if(d.altKey){v.key=f.C0.ESC+f.C0.DEL;break}v.key=f.C0.DEL;break;case 9:if(d.shiftKey){v.key=f.C0.ESC+"[Z";break}v.key=f.C0.HT,v.cancel=!0;break;case 13:v.key=d.altKey?f.C0.ESC+f.C0.CR:f.C0.CR,v.cancel=!0;break;case 27:v.key=f.C0.ESC,d.altKey&&(v.key=f.C0.ESC+f.C0.ESC),v.cancel=!0;break;case 37:if(d.metaKey)break;l?(v.key=f.C0.ESC+"[1;"+(l+1)+"D",v.key===f.C0.ESC+"[1;3D"&&(v.key=f.C0.ESC+(w?"b":"[1;5D"))):v.key=g?f.C0.ESC+"OD":f.C0.ESC+"[D";break;case 39:if(d.metaKey)break;l?(v.key=f.C0.ESC+"[1;"+(l+1)+"C",v.key===f.C0.ESC+"[1;3C"&&(v.key=f.C0.ESC+(w?"f":"[1;5C"))):v.key=g?f.C0.ESC+"OC":f.C0.ESC+"[C";break;case 38:if(d.metaKey)break;l?(v.key=f.C0.ESC+"[1;"+(l+1)+"A",w||v.key!==f.C0.ESC+"[1;3A"||(v.key=f.C0.ESC+"[1;5A")):v.key=g?f.C0.ESC+"OA":f.C0.ESC+"[A";break;case 40:if(d.metaKey)break;l?(v.key=f.C0.ESC+"[1;"+(l+1)+"B",w||v.key!==f.C0.ESC+"[1;3B"||(v.key=f.C0.ESC+"[1;5B")):v.key=g?f.C0.ESC+"OB":f.C0.ESC+"[B";break;case 45:d.shiftKey||d.ctrlKey||(v.key=f.C0.ESC+"[2~");break;case 46:v.key=l?f.C0.ESC+"[3;"+(l+1)+"~":f.C0.ESC+"[3~";break;case 36:v.key=l?f.C0.ESC+"[1;"+(l+1)+"H":g?f.C0.ESC+"OH":f.C0.ESC+"[H";break;case 35:v.key=l?f.C0.ESC+"[1;"+(l+1)+"F":g?f.C0.ESC+"OF":f.C0.ESC+"[F";break;case 33:d.shiftKey?v.type=2:d.ctrlKey?v.key=f.C0.ESC+"[5;"+(l+1)+"~":v.key=f.C0.ESC+"[5~";break;case 34:d.shiftKey?v.type=3:d.ctrlKey?v.key=f.C0.ESC+"[6;"+(l+1)+"~":v.key=f.C0.ESC+"[6~";break;case 112:v.key=l?f.C0.ESC+"[1;"+(l+1)+"P":f.C0.ESC+"OP";break;case 113:v.key=l?f.C0.ESC+"[1;"+(l+1)+"Q":f.C0.ESC+"OQ";break;case 114:v.key=l?f.C0.ESC+"[1;"+(l+1)+"R":f.C0.ESC+"OR";break;case 115:v.key=l?f.C0.ESC+"[1;"+(l+1)+"S":f.C0.ESC+"OS";break;case 116:v.key=l?f.C0.ESC+"[15;"+(l+1)+"~":f.C0.ESC+"[15~";break;case 117:v.key=l?f.C0.ESC+"[17;"+(l+1)+"~":f.C0.ESC+"[17~";break;case 118:v.key=l?f.C0.ESC+"[18;"+(l+1)+"~":f.C0.ESC+"[18~";break;case 119:v.key=l?f.C0.ESC+"[19;"+(l+1)+"~":f.C0.ESC+"[19~";break;case 120:v.key=l?f.C0.ESC+"[20;"+(l+1)+"~":f.C0.ESC+"[20~";break;case 121:v.key=l?f.C0.ESC+"[21;"+(l+1)+"~":f.C0.ESC+"[21~";break;case 122:v.key=l?f.C0.ESC+"[23;"+(l+1)+"~":f.C0.ESC+"[23~";break;case 123:v.key=l?f.C0.ESC+"[24;"+(l+1)+"~":f.C0.ESC+"[24~";break;default:if(!d.ctrlKey||d.shiftKey||d.altKey||d.metaKey)if(w&&!C||!d.altKey||d.metaKey)!w||d.altKey||d.ctrlKey||d.shiftKey||!d.metaKey?d.key&&!d.ctrlKey&&!d.altKey&&!d.metaKey&&d.keyCode>=48&&d.key.length===1?v.key=d.key:d.key&&d.ctrlKey&&(d.key==="_"&&(v.key=f.C0.US),d.key==="@"&&(v.key=f.C0.NUL)):d.keyCode===65&&(v.type=1);else{const a=y[d.keyCode],o=a==null?void 0:a[d.shiftKey?1:0];if(o)v.key=f.C0.ESC+o;else if(d.keyCode>=65&&d.keyCode<=90){const c=d.ctrlKey?d.keyCode-64:d.keyCode+32;let _=String.fromCharCode(c);d.shiftKey&&(_=_.toUpperCase()),v.key=f.C0.ESC+_}else if(d.keyCode===32)v.key=f.C0.ESC+(d.ctrlKey?f.C0.NUL:" ");else if(d.key==="Dead"&&d.code.startsWith("Key")){let c=d.code.slice(3,4);d.shiftKey||(c=c.toLowerCase()),v.key=f.C0.ESC+c,v.cancel=!0}}else d.keyCode>=65&&d.keyCode<=90?v.key=String.fromCharCode(d.keyCode-64):d.keyCode===32?v.key=f.C0.NUL:d.keyCode>=51&&d.keyCode<=55?v.key=String.fromCharCode(d.keyCode-51+27):d.keyCode===56?v.key=f.C0.DEL:d.keyCode===219?v.key=f.C0.ESC:d.keyCode===220?v.key=f.C0.FS:d.keyCode===221&&(v.key=f.C0.GS)}return v}},482:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utf8ToUtf32=n.StringToUtf32=n.utf32ToString=n.stringFromCodePoint=void 0,n.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},n.utf32ToString=function(u,f=0,y=u.length){let d="";for(let g=f;g<y;++g){let w=u[g];w>65535?(w-=65536,d+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):d+=String.fromCharCode(w)}return d},n.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,f){const y=u.length;if(!y)return 0;let d=0,g=0;if(this._interim){const w=u.charCodeAt(g++);56320<=w&&w<=57343?f[d++]=1024*(this._interim-55296)+w-56320+65536:(f[d++]=this._interim,f[d++]=w),this._interim=0}for(let w=g;w<y;++w){const C=u.charCodeAt(w);if(55296<=C&&C<=56319){if(++w>=y)return this._interim=C,d;const v=u.charCodeAt(w);56320<=v&&v<=57343?f[d++]=1024*(C-55296)+v-56320+65536:(f[d++]=C,f[d++]=v)}else C!==65279&&(f[d++]=C)}return d}},n.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,f){const y=u.length;if(!y)return 0;let d,g,w,C,v=0,l=0,a=0;if(this.interim[0]){let _=!1,S=this.interim[0];S&=(224&S)==192?31:(240&S)==224?15:7;let x,b=0;for(;(x=63&this.interim[++b])&&b<4;)S<<=6,S|=x;const m=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=m-b;for(;a<E;){if(a>=y)return 0;if(x=u[a++],(192&x)!=128){a--,_=!0;break}this.interim[b++]=x,S<<=6,S|=63&x}_||(m===2?S<128?a--:f[v++]=S:m===3?S<2048||S>=55296&&S<=57343||S===65279||(f[v++]=S):S<65536||S>1114111||(f[v++]=S)),this.interim.fill(0)}const o=y-4;let c=a;for(;c<y;){for(;!(!(c<o)||128&(d=u[c])||128&(g=u[c+1])||128&(w=u[c+2])||128&(C=u[c+3]));)f[v++]=d,f[v++]=g,f[v++]=w,f[v++]=C,c+=4;if(d=u[c++],d<128)f[v++]=d;else if((224&d)==192){if(c>=y)return this.interim[0]=d,v;if(g=u[c++],(192&g)!=128){c--;continue}if(l=(31&d)<<6|63&g,l<128){c--;continue}f[v++]=l}else if((240&d)==224){if(c>=y)return this.interim[0]=d,v;if(g=u[c++],(192&g)!=128){c--;continue}if(c>=y)return this.interim[0]=d,this.interim[1]=g,v;if(w=u[c++],(192&w)!=128){c--;continue}if(l=(15&d)<<12|(63&g)<<6|63&w,l<2048||l>=55296&&l<=57343||l===65279)continue;f[v++]=l}else if((248&d)==240){if(c>=y)return this.interim[0]=d,v;if(g=u[c++],(192&g)!=128){c--;continue}if(c>=y)return this.interim[0]=d,this.interim[1]=g,v;if(w=u[c++],(192&w)!=128){c--;continue}if(c>=y)return this.interim[0]=d,this.interim[1]=g,this.interim[2]=w,v;if(C=u[c++],(192&C)!=128){c--;continue}if(l=(7&d)<<18|(63&g)<<12|(63&w)<<6|63&C,l<65536||l>1114111)continue;f[v++]=l}}return v}}},225:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeV6=void 0;const u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],f=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let y;n.UnicodeV6=class{constructor(){if(this.version="6",!y){y=new Uint8Array(65536),y.fill(1),y[0]=0,y.fill(0,1,32),y.fill(0,127,160),y.fill(2,4352,4448),y[9001]=2,y[9002]=2,y.fill(2,11904,42192),y[12351]=1,y.fill(2,44032,55204),y.fill(2,63744,64256),y.fill(2,65040,65050),y.fill(2,65072,65136),y.fill(2,65280,65377),y.fill(2,65504,65511);for(let d=0;d<u.length;++d)y.fill(0,u[d][0],u[d][1]+1)}}wcwidth(d){return d<32?0:d<127?1:d<65536?y[d]:function(g,w){let C,v=0,l=w.length-1;if(g<w[0][0]||g>w[l][1])return!1;for(;l>=v;)if(C=v+l>>1,g>w[C][1])v=C+1;else{if(!(g<w[C][0]))return!0;l=C-1}return!1}(d,f)?0:d>=131072&&d<=196605||d>=196608&&d<=262141?2:1}}},5981:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WriteBuffer=void 0;const f=u(8460),y=u(844);class d extends y.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new f.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,C){if(C!==void 0&&this._syncCalls>C)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let v;for(this._isSyncWriting=!0;v=this._writeBuffer.shift();){this._action(v);const l=this._callbacks.shift();l&&l()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,C){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(C),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(C)}_innerWrite(w=0,C=!0){const v=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const l=this._writeBuffer[this._bufferOffset],a=this._action(l,C);if(a){const c=_=>Date.now()-v>=12?setTimeout(()=>this._innerWrite(0,_)):this._innerWrite(v,_);return void a.catch(_=>(queueMicrotask(()=>{throw _}),Promise.resolve(!1))).then(c)}const o=this._callbacks[this._bufferOffset];if(o&&o(),this._bufferOffset++,this._pendingData-=l.length,Date.now()-v>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}n.WriteBuffer=d},5941:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.toRgbString=n.parseColor=void 0;const u=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,f=/^[\da-f]+$/;function y(d,g){const w=d.toString(16),C=w.length<2?"0"+w:w;switch(g){case 4:return w[0];case 8:return C;case 12:return(C+C).slice(0,3);default:return C+C}}n.parseColor=function(d){if(!d)return;let g=d.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const w=u.exec(g);if(w){const C=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/C*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/C*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/C*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),f.exec(g)&&[3,6,9,12].includes(g.length))){const w=g.length/3,C=[0,0,0];for(let v=0;v<3;++v){const l=parseInt(g.slice(w*v,w*v+w),16);C[v]=w===1?l<<4:w===2?l:w===3?l>>4:l>>8}return C}},n.toRgbString=function(d,g=16){const[w,C,v]=d;return`rgb:${y(w,g)}/${y(C,g)}/${y(v,g)}`}},5770:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PAYLOAD_LIMIT=void 0,n.PAYLOAD_LIMIT=1e7},6351:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DcsHandler=n.DcsParser=void 0;const f=u(482),y=u(8742),d=u(5770),g=[];n.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(C,v){this._handlers[C]===void 0&&(this._handlers[C]=[]);const l=this._handlers[C];return l.push(v),{dispose:()=>{const a=l.indexOf(v);a!==-1&&l.splice(a,1)}}}clearHandler(C){this._handlers[C]&&delete this._handlers[C]}setHandlerFallback(C){this._handlerFb=C}reset(){if(this._active.length)for(let C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(C,v){if(this.reset(),this._ident=C,this._active=this._handlers[C]||g,this._active.length)for(let l=this._active.length-1;l>=0;l--)this._active[l].hook(v);else this._handlerFb(this._ident,"HOOK",v)}put(C,v,l){if(this._active.length)for(let a=this._active.length-1;a>=0;a--)this._active[a].put(C,v,l);else this._handlerFb(this._ident,"PUT",(0,f.utf32ToString)(C,v,l))}unhook(C,v=!0){if(this._active.length){let l=!1,a=this._active.length-1,o=!1;if(this._stack.paused&&(a=this._stack.loopPosition-1,l=v,o=this._stack.fallThrough,this._stack.paused=!1),!o&&l===!1){for(;a>=0&&(l=this._active[a].unhook(C),l!==!0);a--)if(l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!1,l;a--}for(;a>=0;a--)if(l=this._active[a].unhook(!1),l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!0,l}else this._handlerFb(this._ident,"UNHOOK",C);this._active=g,this._ident=0}};const w=new y.Params;w.addParam(0),n.DcsHandler=class{constructor(C){this._handler=C,this._data="",this._params=w,this._hitLimit=!1}hook(C){this._params=C.length>1||C.params[0]?C.clone():w,this._data="",this._hitLimit=!1}put(C,v,l){this._hitLimit||(this._data+=(0,f.utf32ToString)(C,v,l),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(C){let v=!1;if(this._hitLimit)v=!1;else if(C&&(v=this._handler(this._data,this._params),v instanceof Promise))return v.then(l=>(this._params=w,this._data="",this._hitLimit=!1,l));return this._params=w,this._data="",this._hitLimit=!1,v}}},2015:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.EscapeSequenceParser=n.VT500_TRANSITION_TABLE=n.TransitionTable=void 0;const f=u(844),y=u(8742),d=u(6242),g=u(6351);class w{constructor(a){this.table=new Uint8Array(a)}setDefault(a,o){this.table.fill(a<<4|o)}add(a,o,c,_){this.table[o<<8|a]=c<<4|_}addMany(a,o,c,_){for(let S=0;S<a.length;S++)this.table[o<<8|a[S]]=c<<4|_}}n.TransitionTable=w;const C=160;n.VT500_TRANSITION_TABLE=function(){const l=new w(4095),a=Array.apply(null,Array(256)).map((b,m)=>m),o=(b,m)=>a.slice(b,m),c=o(32,127),_=o(0,24);_.push(25),_.push.apply(_,o(28,32));const S=o(0,14);let x;for(x in l.setDefault(1,0),l.addMany(c,0,2,0),S)l.addMany([24,26,153,154],x,3,0),l.addMany(o(128,144),x,3,0),l.addMany(o(144,152),x,3,0),l.add(156,x,0,0),l.add(27,x,11,1),l.add(157,x,4,8),l.addMany([152,158,159],x,0,7),l.add(155,x,11,3),l.add(144,x,11,9);return l.addMany(_,0,3,0),l.addMany(_,1,3,1),l.add(127,1,0,1),l.addMany(_,8,0,8),l.addMany(_,3,3,3),l.add(127,3,0,3),l.addMany(_,4,3,4),l.add(127,4,0,4),l.addMany(_,6,3,6),l.addMany(_,5,3,5),l.add(127,5,0,5),l.addMany(_,2,3,2),l.add(127,2,0,2),l.add(93,1,4,8),l.addMany(c,8,5,8),l.add(127,8,5,8),l.addMany([156,27,24,26,7],8,6,0),l.addMany(o(28,32),8,0,8),l.addMany([88,94,95],1,0,7),l.addMany(c,7,0,7),l.addMany(_,7,0,7),l.add(156,7,0,0),l.add(127,7,0,7),l.add(91,1,11,3),l.addMany(o(64,127),3,7,0),l.addMany(o(48,60),3,8,4),l.addMany([60,61,62,63],3,9,4),l.addMany(o(48,60),4,8,4),l.addMany(o(64,127),4,7,0),l.addMany([60,61,62,63],4,0,6),l.addMany(o(32,64),6,0,6),l.add(127,6,0,6),l.addMany(o(64,127),6,0,0),l.addMany(o(32,48),3,9,5),l.addMany(o(32,48),5,9,5),l.addMany(o(48,64),5,0,6),l.addMany(o(64,127),5,7,0),l.addMany(o(32,48),4,9,5),l.addMany(o(32,48),1,9,2),l.addMany(o(32,48),2,9,2),l.addMany(o(48,127),2,10,0),l.addMany(o(48,80),1,10,0),l.addMany(o(81,88),1,10,0),l.addMany([89,90,92],1,10,0),l.addMany(o(96,127),1,10,0),l.add(80,1,11,9),l.addMany(_,9,0,9),l.add(127,9,0,9),l.addMany(o(28,32),9,0,9),l.addMany(o(32,48),9,9,12),l.addMany(o(48,60),9,8,10),l.addMany([60,61,62,63],9,9,10),l.addMany(_,11,0,11),l.addMany(o(32,128),11,0,11),l.addMany(o(28,32),11,0,11),l.addMany(_,10,0,10),l.add(127,10,0,10),l.addMany(o(28,32),10,0,10),l.addMany(o(48,60),10,8,10),l.addMany([60,61,62,63],10,0,11),l.addMany(o(32,48),10,9,12),l.addMany(_,12,0,12),l.add(127,12,0,12),l.addMany(o(28,32),12,0,12),l.addMany(o(32,48),12,9,12),l.addMany(o(48,64),12,0,11),l.addMany(o(64,127),12,12,13),l.addMany(o(64,127),10,12,13),l.addMany(o(64,127),9,12,13),l.addMany(_,13,13,13),l.addMany(c,13,13,13),l.add(127,13,0,13),l.addMany([27,156,24,26],13,14,0),l.add(C,0,2,0),l.add(C,8,5,8),l.add(C,6,0,6),l.add(C,11,0,11),l.add(C,13,13,13),l}();class v extends f.Disposable{constructor(a=n.VT500_TRANSITION_TABLE){super(),this._transitions=a,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new y.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(o,c,_)=>{},this._executeHandlerFb=o=>{},this._csiHandlerFb=(o,c)=>{},this._escHandlerFb=o=>{},this._errorHandlerFb=o=>o,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,f.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new d.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(a,o=[64,126]){let c=0;if(a.prefix){if(a.prefix.length>1)throw new Error("only one byte as prefix supported");if(c=a.prefix.charCodeAt(0),c&&60>c||c>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(a.intermediates){if(a.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<a.intermediates.length;++S){const x=a.intermediates.charCodeAt(S);if(32>x||x>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");c<<=8,c|=x}}if(a.final.length!==1)throw new Error("final must be a single byte");const _=a.final.charCodeAt(0);if(o[0]>_||_>o[1])throw new Error(`final must be in range ${o[0]} .. ${o[1]}`);return c<<=8,c|=_,c}identToString(a){const o=[];for(;a;)o.push(String.fromCharCode(255&a)),a>>=8;return o.reverse().join("")}setPrintHandler(a){this._printHandler=a}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(a,o){const c=this._identifier(a,[48,126]);this._escHandlers[c]===void 0&&(this._escHandlers[c]=[]);const _=this._escHandlers[c];return _.push(o),{dispose:()=>{const S=_.indexOf(o);S!==-1&&_.splice(S,1)}}}clearEscHandler(a){this._escHandlers[this._identifier(a,[48,126])]&&delete this._escHandlers[this._identifier(a,[48,126])]}setEscHandlerFallback(a){this._escHandlerFb=a}setExecuteHandler(a,o){this._executeHandlers[a.charCodeAt(0)]=o}clearExecuteHandler(a){this._executeHandlers[a.charCodeAt(0)]&&delete this._executeHandlers[a.charCodeAt(0)]}setExecuteHandlerFallback(a){this._executeHandlerFb=a}registerCsiHandler(a,o){const c=this._identifier(a);this._csiHandlers[c]===void 0&&(this._csiHandlers[c]=[]);const _=this._csiHandlers[c];return _.push(o),{dispose:()=>{const S=_.indexOf(o);S!==-1&&_.splice(S,1)}}}clearCsiHandler(a){this._csiHandlers[this._identifier(a)]&&delete this._csiHandlers[this._identifier(a)]}setCsiHandlerFallback(a){this._csiHandlerFb=a}registerDcsHandler(a,o){return this._dcsParser.registerHandler(this._identifier(a),o)}clearDcsHandler(a){this._dcsParser.clearHandler(this._identifier(a))}setDcsHandlerFallback(a){this._dcsParser.setHandlerFallback(a)}registerOscHandler(a,o){return this._oscParser.registerHandler(a,o)}clearOscHandler(a){this._oscParser.clearHandler(a)}setOscHandlerFallback(a){this._oscParser.setHandlerFallback(a)}setErrorHandler(a){this._errorHandler=a}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(a,o,c,_,S){this._parseStack.state=a,this._parseStack.handlers=o,this._parseStack.handlerPos=c,this._parseStack.transition=_,this._parseStack.chunkPos=S}parse(a,o,c){let _,S=0,x=0,b=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,b=this._parseStack.chunkPos+1;else{if(c===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const m=this._parseStack.handlers;let E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(c===!1&&E>-1){for(;E>=0&&(_=m[E](this._params),_!==!0);E--)if(_ instanceof Promise)return this._parseStack.handlerPos=E,_}this._parseStack.handlers=[];break;case 4:if(c===!1&&E>-1){for(;E>=0&&(_=m[E](),_!==!0);E--)if(_ instanceof Promise)return this._parseStack.handlerPos=E,_}this._parseStack.handlers=[];break;case 6:if(S=a[this._parseStack.chunkPos],_=this._dcsParser.unhook(S!==24&&S!==26,c),_)return _;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=a[this._parseStack.chunkPos],_=this._oscParser.end(S!==24&&S!==26,c),_)return _;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,b=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let m=b;m<o;++m){switch(S=a[m],x=this._transitions.table[this.currentState<<8|(S<160?S:C)],x>>4){case 2:for(let B=m+1;;++B){if(B>=o||(S=a[B])<32||S>126&&S<C){this._printHandler(a,m,B),m=B-1;break}if(++B>=o||(S=a[B])<32||S>126&&S<C){this._printHandler(a,m,B),m=B-1;break}if(++B>=o||(S=a[B])<32||S>126&&S<C){this._printHandler(a,m,B),m=B-1;break}if(++B>=o||(S=a[B])<32||S>126&&S<C){this._printHandler(a,m,B),m=B-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:m,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const E=this._csiHandlers[this._collect<<8|S];let D=E?E.length-1:-1;for(;D>=0&&(_=E[D](this._params),_!==!0);D--)if(_ instanceof Promise)return this._preserveStack(3,E,D,x,m),_;D<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}while(++m<o&&(S=a[m])>47&&S<60);m--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const A=this._escHandlers[this._collect<<8|S];let P=A?A.length-1:-1;for(;P>=0&&(_=A[P](),_!==!0);P--)if(_ instanceof Promise)return this._preserveStack(4,A,P,x,m),_;P<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let B=m+1;;++B)if(B>=o||(S=a[B])===24||S===26||S===27||S>127&&S<C){this._dcsParser.put(a,m,B),m=B-1;break}break;case 14:if(_=this._dcsParser.unhook(S!==24&&S!==26),_)return this._preserveStack(6,[],0,x,m),_;S===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let B=m+1;;B++)if(B>=o||(S=a[B])<32||S>127&&S<C){this._oscParser.put(a,m,B),m=B-1;break}break;case 6:if(_=this._oscParser.end(S!==24&&S!==26),_)return this._preserveStack(5,[],0,x,m),_;S===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&x}}}n.EscapeSequenceParser=v},6242:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OscHandler=n.OscParser=void 0;const f=u(5770),y=u(482),d=[];n.OscParser=class{constructor(){this._state=0,this._active=d,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,w){this._handlers[g]===void 0&&(this._handlers[g]=[]);const C=this._handlers[g];return C.push(w),{dispose:()=>{const v=C.indexOf(w);v!==-1&&C.splice(v,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=d}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=d,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||d,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,w,C){if(this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].put(g,w,C);else this._handlerFb(this._id,"PUT",(0,y.utf32ToString)(g,w,C))}start(){this.reset(),this._state=1}put(g,w,C){if(this._state!==3){if(this._state===1)for(;w<C;){const v=g[w++];if(v===59){this._state=2,this._start();break}if(v<48||57<v)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+v-48}this._state===2&&C-w>0&&this._put(g,w,C)}}end(g,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let C=!1,v=this._active.length-1,l=!1;if(this._stack.paused&&(v=this._stack.loopPosition-1,C=w,l=this._stack.fallThrough,this._stack.paused=!1),!l&&C===!1){for(;v>=0&&(C=this._active[v].end(g),C!==!0);v--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!1,C;v--}for(;v>=0;v--)if(C=this._active[v].end(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",g);this._active=d,this._id=-1,this._state=0}}},n.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,w,C){this._hitLimit||(this._data+=(0,y.utf32ToString)(g,w,C),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let w=!1;if(this._hitLimit)w=!1;else if(g&&(w=this._handler(this._data),w instanceof Promise))return w.then(C=>(this._data="",this._hitLimit=!1,C));return this._data="",this._hitLimit=!1,w}}},8742:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Params=void 0;const u=2147483647;class f{static fromArray(d){const g=new f;if(!d.length)return g;for(let w=Array.isArray(d[0])?1:0;w<d.length;++w){const C=d[w];if(Array.isArray(C))for(let v=0;v<C.length;++v)g.addSubParam(C[v]);else g.addParam(C)}return g}constructor(d=32,g=32){if(this.maxLength=d,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(d),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(d),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const d=new f(this.maxLength,this.maxSubParamsLength);return d.params.set(this.params),d.length=this.length,d._subParams.set(this._subParams),d._subParamsLength=this._subParamsLength,d._subParamsIdx.set(this._subParamsIdx),d._rejectDigits=this._rejectDigits,d._rejectSubDigits=this._rejectSubDigits,d._digitIsSub=this._digitIsSub,d}toArray(){const d=[];for(let g=0;g<this.length;++g){d.push(this.params[g]);const w=this._subParamsIdx[g]>>8,C=255&this._subParamsIdx[g];C-w>0&&d.push(Array.prototype.slice.call(this._subParams,w,C))}return d}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(d){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=d>u?u:d}}addSubParam(d){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=d>u?u:d,this._subParamsIdx[this.length-1]++}}hasSubParams(d){return(255&this._subParamsIdx[d])-(this._subParamsIdx[d]>>8)>0}getSubParams(d){const g=this._subParamsIdx[d]>>8,w=255&this._subParamsIdx[d];return w-g>0?this._subParams.subarray(g,w):null}getSubParamsAll(){const d={};for(let g=0;g<this.length;++g){const w=this._subParamsIdx[g]>>8,C=255&this._subParamsIdx[g];C-w>0&&(d[g]=this._subParams.slice(w,C))}return d}addDigit(d){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,C=w[g-1];w[g-1]=~C?Math.min(10*C+d,u):d}}n.Params=f},5741:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AddonManager=void 0,n.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()}loadAddon(u,f){const y={instance:f,dispose:f.dispose,isDisposed:!1};this._addons.push(y),f.dispose=()=>this._wrappedAddonDispose(y),f.activate(u)}_wrappedAddonDispose(u){if(u.isDisposed)return;let f=-1;for(let y=0;y<this._addons.length;y++)if(this._addons[y]===u){f=y;break}if(f===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(f,1)}}},8771:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferApiView=void 0;const f=u(3785),y=u(511);n.BufferApiView=class{constructor(d,g){this._buffer=d,this.type=g}init(d){return this._buffer=d,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(d){const g=this._buffer.lines.get(d);if(g)return new f.BufferLineApiView(g)}getNullCell(){return new y.CellData}}},3785:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLineApiView=void 0;const f=u(511);n.BufferLineApiView=class{constructor(y){this._line=y}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(y,d){if(!(y<0||y>=this._line.length))return d?(this._line.loadCell(y,d),d):this._line.loadCell(y,new f.CellData)}translateToString(y,d,g){return this._line.translateToString(y,d,g)}}},8285:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferNamespaceApi=void 0;const f=u(8771),y=u(8460),d=u(844);class g extends d.Disposable{constructor(C){super(),this._core=C,this._onBufferChange=this.register(new y.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new f.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new f.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}n.BufferNamespaceApi=g},7975:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ParserApi=void 0,n.ParserApi=class{constructor(u){this._core=u}registerCsiHandler(u,f){return this._core.registerCsiHandler(u,y=>f(y.toArray()))}addCsiHandler(u,f){return this.registerCsiHandler(u,f)}registerDcsHandler(u,f){return this._core.registerDcsHandler(u,(y,d)=>f(y,d.toArray()))}addDcsHandler(u,f){return this.registerDcsHandler(u,f)}registerEscHandler(u,f){return this._core.registerEscHandler(u,f)}addEscHandler(u,f){return this.registerEscHandler(u,f)}registerOscHandler(u,f){return this._core.registerOscHandler(u,f)}addOscHandler(u,f){return this.registerOscHandler(u,f)}}},7090:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeApi=void 0,n.UnicodeApi=class{constructor(u){this._core=u}register(u){this._core.unicodeService.register(u)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(u){this._core.unicodeService.activeVersion=u}}},744:function(p,n,u){var f=this&&this.__decorate||function(l,a,o,c){var _,S=arguments.length,x=S<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,o):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(l,a,o,c);else for(var b=l.length-1;b>=0;b--)(_=l[b])&&(x=(S<3?_(x):S>3?_(a,o,x):_(a,o))||x);return S>3&&x&&Object.defineProperty(a,o,x),x},y=this&&this.__param||function(l,a){return function(o,c){a(o,c,l)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferService=n.MINIMUM_ROWS=n.MINIMUM_COLS=void 0;const d=u(8460),g=u(844),w=u(5295),C=u(2585);n.MINIMUM_COLS=2,n.MINIMUM_ROWS=1;let v=n.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(l){super(),this.isUserScrolling=!1,this._onResize=this.register(new d.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(l.rawOptions.cols||0,n.MINIMUM_COLS),this.rows=Math.max(l.rawOptions.rows||0,n.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(l,this))}resize(l,a){this.cols=l,this.rows=a,this.buffers.resize(l,a),this._onResize.fire({cols:l,rows:a})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(l,a=!1){const o=this.buffer;let c;c=this._cachedBlankLine,c&&c.length===this.cols&&c.getFg(0)===l.fg&&c.getBg(0)===l.bg||(c=o.getBlankLine(l,a),this._cachedBlankLine=c),c.isWrapped=a;const _=o.ybase+o.scrollTop,S=o.ybase+o.scrollBottom;if(o.scrollTop===0){const x=o.lines.isFull;S===o.lines.length-1?x?o.lines.recycle().copyFrom(c):o.lines.push(c.clone()):o.lines.splice(S+1,0,c.clone()),x?this.isUserScrolling&&(o.ydisp=Math.max(o.ydisp-1,0)):(o.ybase++,this.isUserScrolling||o.ydisp++)}else{const x=S-_+1;o.lines.shiftElements(_+1,x-1,-1),o.lines.set(S,c.clone())}this.isUserScrolling||(o.ydisp=o.ybase),this._onScroll.fire(o.ydisp)}scrollLines(l,a,o){const c=this.buffer;if(l<0){if(c.ydisp===0)return;this.isUserScrolling=!0}else l+c.ydisp>=c.ybase&&(this.isUserScrolling=!1);const _=c.ydisp;c.ydisp=Math.max(Math.min(c.ydisp+l,c.ybase),0),_!==c.ydisp&&(a||this._onScroll.fire(c.ydisp))}};n.BufferService=v=f([y(0,C.IOptionsService)],v)},7994:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CharsetService=void 0,n.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(u){this.glevel=u,this.charset=this._charsets[u]}setgCharset(u,f){this._charsets[u]=f,this.glevel===u&&(this.charset=f)}}},1753:function(p,n,u){var f=this&&this.__decorate||function(c,_,S,x){var b,m=arguments.length,E=m<3?_:x===null?x=Object.getOwnPropertyDescriptor(_,S):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,_,S,x);else for(var D=c.length-1;D>=0;D--)(b=c[D])&&(E=(m<3?b(E):m>3?b(_,S,E):b(_,S))||E);return m>3&&E&&Object.defineProperty(_,S,E),E},y=this&&this.__param||function(c,_){return function(S,x){_(S,x,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreMouseService=void 0;const d=u(2585),g=u(8460),w=u(844),C={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:c=>c.button!==4&&c.action===1&&(c.ctrl=!1,c.alt=!1,c.shift=!1,!0)},VT200:{events:19,restrict:c=>c.action!==32},DRAG:{events:23,restrict:c=>c.action!==32||c.button!==3},ANY:{events:31,restrict:c=>!0}};function v(c,_){let S=(c.ctrl?16:0)|(c.shift?4:0)|(c.alt?8:0);return c.button===4?(S|=64,S|=c.action):(S|=3&c.button,4&c.button&&(S|=64),8&c.button&&(S|=128),c.action===32?S|=32:c.action!==0||_||(S|=3)),S}const l=String.fromCharCode,a={DEFAULT:c=>{const _=[v(c,!1)+32,c.col+32,c.row+32];return _[0]>255||_[1]>255||_[2]>255?"":`\x1B[M${l(_[0])}${l(_[1])}${l(_[2])}`},SGR:c=>{const _=c.action===0&&c.button!==4?"m":"M";return`\x1B[<${v(c,!0)};${c.col};${c.row}${_}`},SGR_PIXELS:c=>{const _=c.action===0&&c.button!==4?"m":"M";return`\x1B[<${v(c,!0)};${c.x};${c.y}${_}`}};let o=n.CoreMouseService=class extends w.Disposable{constructor(c,_){super(),this._bufferService=c,this._coreService=_,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const S of Object.keys(C))this.addProtocol(S,C[S]);for(const S of Object.keys(a))this.addEncoding(S,a[S]);this.reset()}addProtocol(c,_){this._protocols[c]=_}addEncoding(c,_){this._encodings[c]=_}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(c){if(!this._protocols[c])throw new Error(`unknown protocol "${c}"`);this._activeProtocol=c,this._onProtocolChange.fire(this._protocols[c].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(c){if(!this._encodings[c])throw new Error(`unknown encoding "${c}"`);this._activeEncoding=c}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(c){if(c.col<0||c.col>=this._bufferService.cols||c.row<0||c.row>=this._bufferService.rows||c.button===4&&c.action===32||c.button===3&&c.action!==32||c.button!==4&&(c.action===2||c.action===3)||(c.col++,c.row++,c.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,c,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(c))return!1;const _=this._encodings[this._activeEncoding](c);return _&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(_):this._coreService.triggerDataEvent(_,!0)),this._lastEvent=c,!0}explainEvents(c){return{down:!!(1&c),up:!!(2&c),drag:!!(4&c),move:!!(8&c),wheel:!!(16&c)}}_equalEvents(c,_,S){if(S){if(c.x!==_.x||c.y!==_.y)return!1}else if(c.col!==_.col||c.row!==_.row)return!1;return c.button===_.button&&c.action===_.action&&c.ctrl===_.ctrl&&c.alt===_.alt&&c.shift===_.shift}};n.CoreMouseService=o=f([y(0,d.IBufferService),y(1,d.ICoreService)],o)},6975:function(p,n,u){var f=this&&this.__decorate||function(o,c,_,S){var x,b=arguments.length,m=b<3?c:S===null?S=Object.getOwnPropertyDescriptor(c,_):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(o,c,_,S);else for(var E=o.length-1;E>=0;E--)(x=o[E])&&(m=(b<3?x(m):b>3?x(c,_,m):x(c,_))||m);return b>3&&m&&Object.defineProperty(c,_,m),m},y=this&&this.__param||function(o,c){return function(_,S){c(_,S,o)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreService=void 0;const d=u(1439),g=u(8460),w=u(844),C=u(2585),v=Object.freeze({insertMode:!1}),l=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let a=n.CoreService=class extends w.Disposable{constructor(o,c,_){super(),this._bufferService=o,this._logService=c,this._optionsService=_,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,d.clone)(v),this.decPrivateModes=(0,d.clone)(l)}reset(){this.modes=(0,d.clone)(v),this.decPrivateModes=(0,d.clone)(l)}triggerDataEvent(o,c=!1){if(this._optionsService.rawOptions.disableStdin)return;const _=this._bufferService.buffer;c&&this._optionsService.rawOptions.scrollOnUserInput&&_.ybase!==_.ydisp&&this._onRequestScrollToBottom.fire(),c&&this._onUserInput.fire(),this._logService.debug(`sending data "${o}"`,()=>o.split("").map(S=>S.charCodeAt(0))),this._onData.fire(o)}triggerBinaryEvent(o){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${o}"`,()=>o.split("").map(c=>c.charCodeAt(0))),this._onBinary.fire(o))}};n.CoreService=a=f([y(0,C.IBufferService),y(1,C.ILogService),y(2,C.IOptionsService)],a)},9074:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DecorationService=void 0;const f=u(8055),y=u(8460),d=u(844),g=u(6106);let w=0,C=0;class v extends d.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList(o=>o==null?void 0:o.marker.line),this._onDecorationRegistered=this.register(new y.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new y.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,d.toDisposable)(()=>this.reset()))}registerDecoration(o){if(o.marker.isDisposed)return;const c=new l(o);if(c){const _=c.marker.onDispose(()=>c.dispose());c.onDispose(()=>{c&&(this._decorations.delete(c)&&this._onDecorationRemoved.fire(c),_.dispose())}),this._decorations.insert(c),this._onDecorationRegistered.fire(c)}return c}reset(){for(const o of this._decorations.values())o.dispose();this._decorations.clear()}*getDecorationsAtCell(o,c,_){var S,x,b;let m=0,E=0;for(const D of this._decorations.getKeyIterator(c))m=(S=D.options.x)!==null&&S!==void 0?S:0,E=m+((x=D.options.width)!==null&&x!==void 0?x:1),o>=m&&o<E&&(!_||((b=D.options.layer)!==null&&b!==void 0?b:"bottom")===_)&&(yield D)}forEachDecorationAtCell(o,c,_,S){this._decorations.forEachByKey(c,x=>{var b,m,E;w=(b=x.options.x)!==null&&b!==void 0?b:0,C=w+((m=x.options.width)!==null&&m!==void 0?m:1),o>=w&&o<C&&(!_||((E=x.options.layer)!==null&&E!==void 0?E:"bottom")===_)&&S(x)})}}n.DecorationService=v;class l extends d.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=f.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=f.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(o){super(),this.options=o,this.onRenderEmitter=this.register(new y.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new y.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=o.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.InstantiationService=n.ServiceCollection=void 0;const f=u(2585),y=u(8343);class d{constructor(...w){this._entries=new Map;for(const[C,v]of w)this.set(C,v)}set(w,C){const v=this._entries.get(w);return this._entries.set(w,C),v}forEach(w){for(const[C,v]of this._entries.entries())w(C,v)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}n.ServiceCollection=d,n.InstantiationService=class{constructor(){this._services=new d,this._services.set(f.IInstantiationService,this)}setService(g,w){this._services.set(g,w)}getService(g){return this._services.get(g)}createInstance(g,...w){const C=(0,y.getServiceDependencies)(g).sort((a,o)=>a.index-o.index),v=[];for(const a of C){const o=this._services.get(a.id);if(!o)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${a.id}.`);v.push(o)}const l=C.length>0?C[0].index:w.length;if(w.length!==l)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${l+1} conflicts with ${w.length} static arguments`);return new g(...w,...v)}}},7866:function(p,n,u){var f=this&&this.__decorate||function(l,a,o,c){var _,S=arguments.length,x=S<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,o):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(l,a,o,c);else for(var b=l.length-1;b>=0;b--)(_=l[b])&&(x=(S<3?_(x):S>3?_(a,o,x):_(a,o))||x);return S>3&&x&&Object.defineProperty(a,o,x),x},y=this&&this.__param||function(l,a){return function(o,c){a(o,c,l)}};Object.defineProperty(n,"__esModule",{value:!0}),n.traceCall=n.setTraceLogger=n.LogService=void 0;const d=u(844),g=u(2585),w={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let C,v=n.LogService=class extends d.Disposable{get logLevel(){return this._logLevel}constructor(l){super(),this._optionsService=l,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),C=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(l){for(let a=0;a<l.length;a++)typeof l[a]=="function"&&(l[a]=l[a]())}_log(l,a,o){this._evalLazyOptionalParams(o),l.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+a,...o)}trace(l,...a){var o,c;this._logLevel<=g.LogLevelEnum.TRACE&&this._log((c=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.trace.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.log,l,a)}debug(l,...a){var o,c;this._logLevel<=g.LogLevelEnum.DEBUG&&this._log((c=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.debug.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.log,l,a)}info(l,...a){var o,c;this._logLevel<=g.LogLevelEnum.INFO&&this._log((c=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.info.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.info,l,a)}warn(l,...a){var o,c;this._logLevel<=g.LogLevelEnum.WARN&&this._log((c=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.warn.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.warn,l,a)}error(l,...a){var o,c;this._logLevel<=g.LogLevelEnum.ERROR&&this._log((c=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.error.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.error,l,a)}};n.LogService=v=f([y(0,g.IOptionsService)],v),n.setTraceLogger=function(l){C=l},n.traceCall=function(l,a,o){if(typeof o.value!="function")throw new Error("not supported");const c=o.value;o.value=function(..._){if(C.logLevel!==g.LogLevelEnum.TRACE)return c.apply(this,_);C.trace(`GlyphRenderer#${c.name}(${_.map(x=>JSON.stringify(x)).join(", ")})`);const S=c.apply(this,_);return C.trace(`GlyphRenderer#${c.name} return`,S),S}}},7302:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionsService=n.DEFAULT_OPTIONS=void 0;const f=u(8460),y=u(844),d=u(6114);n.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:d.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends y.Disposable{constructor(v){super(),this._onOptionChange=this.register(new f.EventEmitter),this.onOptionChange=this._onOptionChange.event;const l=Object.assign({},n.DEFAULT_OPTIONS);for(const a in v)if(a in l)try{const o=v[a];l[a]=this._sanitizeAndValidateOption(a,o)}catch(o){console.error(o)}this.rawOptions=l,this.options=Object.assign({},l),this._setupOptions()}onSpecificOptionChange(v,l){return this.onOptionChange(a=>{a===v&&l(this.rawOptions[v])})}onMultipleOptionChange(v,l){return this.onOptionChange(a=>{v.indexOf(a)!==-1&&l()})}_setupOptions(){const v=a=>{if(!(a in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${a}"`);return this.rawOptions[a]},l=(a,o)=>{if(!(a in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${a}"`);o=this._sanitizeAndValidateOption(a,o),this.rawOptions[a]!==o&&(this.rawOptions[a]=o,this._onOptionChange.fire(a))};for(const a in this.rawOptions){const o={get:v.bind(this,a),set:l.bind(this,a)};Object.defineProperty(this.options,a,o)}}_sanitizeAndValidateOption(v,l){switch(v){case"cursorStyle":if(l||(l=n.DEFAULT_OPTIONS[v]),!function(a){return a==="block"||a==="underline"||a==="bar"}(l))throw new Error(`"${l}" is not a valid value for ${v}`);break;case"wordSeparator":l||(l=n.DEFAULT_OPTIONS[v]);break;case"fontWeight":case"fontWeightBold":if(typeof l=="number"&&1<=l&&l<=1e3)break;l=g.includes(l)?l:n.DEFAULT_OPTIONS[v];break;case"cursorWidth":l=Math.floor(l);case"lineHeight":case"tabStopWidth":if(l<1)throw new Error(`${v} cannot be less than 1, value: ${l}`);break;case"minimumContrastRatio":l=Math.max(1,Math.min(21,Math.round(10*l)/10));break;case"scrollback":if((l=Math.min(l,4294967295))<0)throw new Error(`${v} cannot be less than 0, value: ${l}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(l<=0)throw new Error(`${v} cannot be less than or equal to 0, value: ${l}`);break;case"rows":case"cols":if(!l&&l!==0)throw new Error(`${v} must be numeric, value: ${l}`);break;case"windowsPty":l=l!=null?l:{}}return l}}n.OptionsService=w},2660:function(p,n,u){var f=this&&this.__decorate||function(w,C,v,l){var a,o=arguments.length,c=o<3?C:l===null?l=Object.getOwnPropertyDescriptor(C,v):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(w,C,v,l);else for(var _=w.length-1;_>=0;_--)(a=w[_])&&(c=(o<3?a(c):o>3?a(C,v,c):a(C,v))||c);return o>3&&c&&Object.defineProperty(C,v,c),c},y=this&&this.__param||function(w,C){return function(v,l){C(v,l,w)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkService=void 0;const d=u(2585);let g=n.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const C=this._bufferService.buffer;if(w.id===void 0){const _=C.addMarker(C.ybase+C.y),S={data:w,id:this._nextId++,lines:[_]};return _.onDispose(()=>this._removeMarkerFromLink(S,_)),this._dataByLinkId.set(S.id,S),S.id}const v=w,l=this._getEntryIdKey(v),a=this._entriesWithId.get(l);if(a)return this.addLineToLink(a.id,C.ybase+C.y),a.id;const o=C.addMarker(C.ybase+C.y),c={id:this._nextId++,key:this._getEntryIdKey(v),data:v,lines:[o]};return o.onDispose(()=>this._removeMarkerFromLink(c,o)),this._entriesWithId.set(c.key,c),this._dataByLinkId.set(c.id,c),c.id}addLineToLink(w,C){const v=this._dataByLinkId.get(w);if(v&&v.lines.every(l=>l.line!==C)){const l=this._bufferService.buffer.addMarker(C);v.lines.push(l),l.onDispose(()=>this._removeMarkerFromLink(v,l))}}getLinkData(w){var C;return(C=this._dataByLinkId.get(w))===null||C===void 0?void 0:C.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,C){const v=w.lines.indexOf(C);v!==-1&&(w.lines.splice(v,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};n.OscLinkService=g=f([y(0,d.IBufferService)],g)},8343:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createDecorator=n.getServiceDependencies=n.serviceRegistry=void 0;const u="di$target",f="di$dependencies";n.serviceRegistry=new Map,n.getServiceDependencies=function(y){return y[f]||[]},n.createDecorator=function(y){if(n.serviceRegistry.has(y))return n.serviceRegistry.get(y);const d=function(g,w,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(v,l,a){l[u]===l?l[f].push({id:v,index:a}):(l[f]=[{id:v,index:a}],l[u]=l)})(d,g,C)};return d.toString=()=>y,n.serviceRegistry.set(y,d),d}},2585:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IDecorationService=n.IUnicodeService=n.IOscLinkService=n.IOptionsService=n.ILogService=n.LogLevelEnum=n.IInstantiationService=n.ICharsetService=n.ICoreService=n.ICoreMouseService=n.IBufferService=void 0;const f=u(8343);var y;n.IBufferService=(0,f.createDecorator)("BufferService"),n.ICoreMouseService=(0,f.createDecorator)("CoreMouseService"),n.ICoreService=(0,f.createDecorator)("CoreService"),n.ICharsetService=(0,f.createDecorator)("CharsetService"),n.IInstantiationService=(0,f.createDecorator)("InstantiationService"),function(d){d[d.TRACE=0]="TRACE",d[d.DEBUG=1]="DEBUG",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.OFF=5]="OFF"}(y||(n.LogLevelEnum=y={})),n.ILogService=(0,f.createDecorator)("LogService"),n.IOptionsService=(0,f.createDecorator)("OptionsService"),n.IOscLinkService=(0,f.createDecorator)("OscLinkService"),n.IUnicodeService=(0,f.createDecorator)("UnicodeService"),n.IDecorationService=(0,f.createDecorator)("DecorationService")},1480:(p,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeService=void 0;const f=u(8460),y=u(225);n.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new f.EventEmitter,this.onChange=this._onChange.event;const d=new y.UnicodeV6;this.register(d),this._active=d.version,this._activeProvider=d}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(d){if(!this._providers[d])throw new Error(`unknown Unicode version "${d}"`);this._active=d,this._activeProvider=this._providers[d],this._onChange.fire(d)}register(d){this._providers[d.version]=d}wcwidth(d){return this._activeProvider.wcwidth(d)}getStringCellWidth(d){let g=0;const w=d.length;for(let C=0;C<w;++C){let v=d.charCodeAt(C);if(55296<=v&&v<=56319){if(++C>=w)return g+this.wcwidth(v);const l=d.charCodeAt(C);56320<=l&&l<=57343?v=1024*(v-55296)+l-56320+65536:g+=this.wcwidth(l)}g+=this.wcwidth(v)}return g}}}},i={};function s(p){var n=i[p];if(n!==void 0)return n.exports;var u=i[p]={exports:{}};return r[p].call(u.exports,u,u.exports,s),u.exports}var h={};return(()=>{var p=h;Object.defineProperty(p,"__esModule",{value:!0}),p.Terminal=void 0;const n=s(9042),u=s(3236),f=s(844),y=s(5741),d=s(8285),g=s(7975),w=s(7090),C=["cols","rows"];class v extends f.Disposable{constructor(a){super(),this._core=this.register(new u.Terminal(a)),this._addonManager=this.register(new y.AddonManager),this._publicOptions=Object.assign({},this._core.options);const o=_=>this._core.options[_],c=(_,S)=>{this._checkReadonlyOptions(_),this._core.options[_]=S};for(const _ in this._core.options){const S={get:o.bind(this,_),set:c.bind(this,_)};Object.defineProperty(this._publicOptions,_,S)}}_checkReadonlyOptions(a){if(C.includes(a))throw new Error(`Option "${a}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new d.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const a=this._core.coreService.decPrivateModes;let o="none";switch(this._core.coreMouseService.activeProtocol){case"X10":o="x10";break;case"VT200":o="vt200";break;case"DRAG":o="drag";break;case"ANY":o="any"}return{applicationCursorKeysMode:a.applicationCursorKeys,applicationKeypadMode:a.applicationKeypad,bracketedPasteMode:a.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:o,originMode:a.origin,reverseWraparoundMode:a.reverseWraparound,sendFocusMode:a.sendFocus,wraparoundMode:a.wraparound}}get options(){return this._publicOptions}set options(a){for(const o in a)this._publicOptions[o]=a[o]}blur(){this._core.blur()}focus(){this._core.focus()}resize(a,o){this._verifyIntegers(a,o),this._core.resize(a,o)}open(a){this._core.open(a)}attachCustomKeyEventHandler(a){this._core.attachCustomKeyEventHandler(a)}registerLinkProvider(a){return this._core.registerLinkProvider(a)}registerCharacterJoiner(a){return this._checkProposedApi(),this._core.registerCharacterJoiner(a)}deregisterCharacterJoiner(a){this._checkProposedApi(),this._core.deregisterCharacterJoiner(a)}registerMarker(a=0){return this._verifyIntegers(a),this._core.registerMarker(a)}registerDecoration(a){var o,c,_;return this._checkProposedApi(),this._verifyPositiveIntegers((o=a.x)!==null&&o!==void 0?o:0,(c=a.width)!==null&&c!==void 0?c:0,(_=a.height)!==null&&_!==void 0?_:0),this._core.registerDecoration(a)}hasSelection(){return this._core.hasSelection()}select(a,o,c){this._verifyIntegers(a,o,c),this._core.select(a,o,c)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(a,o){this._verifyIntegers(a,o),this._core.selectLines(a,o)}dispose(){super.dispose()}scrollLines(a){this._verifyIntegers(a),this._core.scrollLines(a)}scrollPages(a){this._verifyIntegers(a),this._core.scrollPages(a)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(a){this._verifyIntegers(a),this._core.scrollToLine(a)}clear(){this._core.clear()}write(a,o){this._core.write(a,o)}writeln(a,o){this._core.write(a),this._core.write(`\r
`,o)}paste(a){this._core.paste(a)}refresh(a,o){this._verifyIntegers(a,o),this._core.refresh(a,o)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(a){this._addonManager.loadAddon(this,a)}static get strings(){return n}_verifyIntegers(...a){for(const o of a)if(o===1/0||isNaN(o)||o%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...a){for(const o of a)if(o&&(o===1/0||isNaN(o)||o%1!=0||o<0))throw new Error("This API only accepts positive integers")}}p.Terminal=v})(),h})())})(zd);var jv=zd.exports,Ud={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,()=>(()=>{var r={};return(()=>{var i=r;Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0,i.FitAddon=class{activate(s){this._terminal=s}dispose(){}fit(){const s=this.proposeDimensions();if(!s||!this._terminal||isNaN(s.cols)||isNaN(s.rows))return;const h=this._terminal._core;this._terminal.rows===s.rows&&this._terminal.cols===s.cols||(h._renderService.clear(),this._terminal.resize(s.cols,s.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const s=this._terminal._core,h=s._renderService.dimensions;if(h.css.cell.width===0||h.css.cell.height===0)return;const p=this._terminal.options.scrollback===0?0:s.viewport.scrollBarWidth,n=window.getComputedStyle(this._terminal.element.parentElement),u=parseInt(n.getPropertyValue("height")),f=Math.max(0,parseInt(n.getPropertyValue("width"))),y=window.getComputedStyle(this._terminal.element),d=u-(parseInt(y.getPropertyValue("padding-top"))+parseInt(y.getPropertyValue("padding-bottom"))),g=f-(parseInt(y.getPropertyValue("padding-right"))+parseInt(y.getPropertyValue("padding-left")))-p;return{cols:Math.max(2,Math.floor(g/h.css.cell.width)),rows:Math.max(1,Math.floor(d/h.css.cell.height))}}}})(),r})())})(Ud);var Hv=Ud.exports,$d={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,()=>(()=>{var r={6:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.LinkComputer=n.WebLinkProvider=void 0,n.WebLinkProvider=class{constructor(f,y,d,g={}){this._terminal=f,this._regex=y,this._handler=d,this._options=g}provideLinks(f,y){const d=u.computeLink(f,this._regex,this._terminal,this._handler);y(this._addCallbacks(d))}_addCallbacks(f){return f.map(y=>(y.leave=this._options.leave,y.hover=(d,g)=>{if(this._options.hover){const{range:w}=y;this._options.hover(d,g,w)}},y))}};class u{static computeLink(y,d,g,w){const C=new RegExp(d.source,(d.flags||"")+"g"),[v,l]=u._getWindowedLineStrings(y-1,g),a=v.join("");let o;const c=[];for(;o=C.exec(a);){const _=o[0];try{const D=new URL(_),A=decodeURI(D.toString());if(_!==A&&_+"/"!==A)continue}catch{continue}const[S,x]=u._mapStrIdx(g,l,0,o.index),[b,m]=u._mapStrIdx(g,S,x,_.length);if(S===-1||x===-1||b===-1||m===-1)continue;const E={start:{x:x+1,y:S+1},end:{x:m,y:b+1}};c.push({range:E,text:_,activate:w})}return c}static _getWindowedLineStrings(y,d){let g,w=y,C=y,v=0,l="";const a=[];if(g=d.buffer.active.getLine(y)){const o=g.translateToString(!0);if(g.isWrapped&&o[0]!==" "){for(v=0;(g=d.buffer.active.getLine(--w))&&v<2048&&(l=g.translateToString(!0),v+=l.length,a.push(l),g.isWrapped&&l.indexOf(" ")===-1););a.reverse()}for(a.push(o),v=0;(g=d.buffer.active.getLine(++C))&&g.isWrapped&&v<2048&&(l=g.translateToString(!0),v+=l.length,a.push(l),l.indexOf(" ")===-1););}return[a,w]}static _mapStrIdx(y,d,g,w){const C=y.buffer.active,v=C.getNullCell();let l=g;for(;w;){const a=C.getLine(d);if(!a)return[-1,-1];for(let o=l;o<a.length;++o){a.getCell(o,v);const c=v.getChars();if(v.getWidth()&&(w-=c.length||1,o===a.length-1&&c==="")){const _=C.getLine(d+1);_&&_.isWrapped&&(_.getCell(0,v),v.getWidth()===2&&(w+=1))}if(w<0)return[d,o]}d++,l=0}return[d,l]}}n.LinkComputer=u}},i={};function s(p){var n=i[p];if(n!==void 0)return n.exports;var u=i[p]={exports:{}};return r[p](u,u.exports,s),u.exports}var h={};return(()=>{var p=h;Object.defineProperty(p,"__esModule",{value:!0}),p.WebLinksAddon=void 0;const n=s(6),u=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function f(y,d){const g=window.open();if(g){try{g.opener=null}catch{}g.location.href=d}else console.warn("Opening link blocked as opener could not be cleared")}p.WebLinksAddon=class{constructor(y=f,d={}){this._handler=y,this._options=d}activate(y){this._terminal=y;const d=this._options,g=d.urlRegex||u;this._linkProvider=this._terminal.registerLinkProvider(new n.WebLinkProvider(this._terminal,g,this._handler,d))}dispose(){var y;(y=this._linkProvider)===null||y===void 0||y.dispose()}}})(),h})())})($d);var Fv=$d.exports;function zv({connectionId:e,onExecuteCommand:t,onClose:r}){const{history:i,getHistoryByConnection:s,searchHistory:h,deleteCommand:p,clearHistory:n}=Hd(),[u,f]=W.useState(""),y=W.useMemo(()=>{const g=s(e);return u?h(u).filter(w=>w.connectionId===e):g},[i,e,u,s,h]),d=g=>{const w=new Date(g),v=new Date().getTime()-w.getTime();return v<36e5?`${Math.floor(v/6e4)}m ago`:v<864e5?`${Math.floor(v/36e5)}h ago`:w.toLocaleDateString()};return L.jsxs("div",{className:"flex flex-col h-full bg-[#252526] border-l border-[#3e3e42]",children:[L.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[#3e3e42]",children:[L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx(nl,{className:"w-4 h-4 text-gray-400"}),L.jsx("h3",{className:"text-sm font-medium text-gray-200",children:"Command History"})]}),r&&L.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:""})]}),L.jsx("div",{className:"px-4 py-2 border-b border-[#3e3e42]",children:L.jsxs("div",{className:"relative",children:[L.jsx(hd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),L.jsx("input",{type:"text",placeholder:"Search commands...",value:u,onChange:g=>f(g.target.value),className:"w-full pl-9 pr-3 py-2 bg-[#3c3c3c] border border-[#3e3e42] rounded text-sm text-gray-200 placeholder-gray-500 focus:outline-none focus:border-[#007acc]"})]})}),L.jsxs("div",{className:"px-4 py-2 border-b border-[#3e3e42] flex items-center justify-between",children:[L.jsxs("span",{className:"text-xs text-gray-500",children:[y.length," command",y.length!==1?"s":""]}),L.jsxs("button",{onClick:()=>{confirm("Clear all command history?")&&n()},className:"text-xs text-gray-400 hover:text-red-400 transition-colors flex items-center space-x-1",children:[L.jsx(ll,{size:12}),L.jsx("span",{children:"Clear All"})]})]}),L.jsx("div",{className:"flex-1 overflow-y-auto",children:y.length===0?L.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[L.jsx(nl,{className:"w-12 h-12 mb-3 opacity-50"}),L.jsx("p",{className:"text-sm",children:u?"No commands found":"No command history yet"})]}):L.jsx("div",{className:"divide-y divide-[#3e3e42]",children:y.map(g=>L.jsx("div",{className:"group px-4 py-3 hover:bg-[#2a2d2e] transition-colors",children:L.jsxs("div",{className:"flex items-start justify-between gap-2",children:[L.jsxs("div",{className:"flex-1 min-w-0",children:[L.jsx("code",{className:"text-sm text-gray-300 break-all font-mono",children:g.command}),L.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[L.jsx("span",{className:"text-xs text-gray-600",children:d(g.timestamp)}),g.workingDirectory&&L.jsxs("span",{className:"text-xs text-gray-600",children:["in ",g.workingDirectory]})]})]}),L.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[L.jsx("button",{onClick:()=>t(g.command),className:"p-1.5 text-gray-400 hover:text-white hover:bg-[#3e3e42] rounded transition-colors",title:"Execute this command",children:L.jsx(ud,{size:14})}),L.jsx("button",{onClick:()=>p(g.timestamp),className:"p-1.5 text-gray-400 hover:text-red-400 hover:bg-[#3e3e42] rounded transition-colors",title:"Delete from history",children:L.jsx(ll,{size:14})})]})]})},g.timestamp))})})]})}function Wv({connectionId:e,onDisconnect:t,onFitAddonReady:r}){const i=W.useRef(null),s=W.useRef(null),h=W.useRef(null),p=W.useRef(null),[n,u]=W.useState(!1),[f,y]=W.useState(null),[d,g]=W.useState(!1),w=W.useRef(""),{addCommand:C}=Hd(),v=W.useRef(dr.getState().connections);W.useEffect(()=>dr.subscribe(_=>{v.current=_.connections}),[]);const l=W.useCallback(()=>{const c=!window.__TAURI__;let _=v.current;c&&_.length===0&&(_=[{id:"mock-1",name:" SSH ",type:"ssh",config:{host:"localhost",port:22,username:"testuser",auth_method:"password",password:"password"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);const S=_.find(x=>x.id===e);return!S||S.type!=="ssh"?null:S.config},[e]);W.useEffect(()=>{if(!i.current||!e)return;let c=!1,_=null,S=null;const x=new jv.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'JetBrains Mono, "Fira Code", Consolas, "Courier New", monospace',theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#d4d4d4",black:"#000000",red:"#cd3131",green:"#0dbc79",yellow:"#e5e510",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#11a8cd",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#ffffff"},scrollback:1e3,tabStopWidth:4}),b=new Hv.FitAddon,m=new Fv.WebLinksAddon;x.loadAddon(b),x.loadAddon(m),x.open(i.current),b.fit(),s.current=x,h.current=b,r==null||r(()=>b.fit());const E=()=>b.fit();return window.addEventListener("resize",E),(async()=>{try{const A=l();if(!A)throw new Error("Connection configuration not found");x.writeln("\x1B[1;32mDevHub SSH Terminal\x1B[0m"),x.writeln(`\x1B[90mConnecting to ${A.host}:${A.port}...\x1B[0m`);const P=await Ee("ssh_connect",{host:A.host,port:A.port,username:A.username,authMethod:A.auth_method,password:A.password,keyPath:A.private_key_path,passphrase:A.passphrase});if(c){Ee("ssh_disconnect",{sessionId:P}).catch(()=>{});return}p.current=P,u(!0),y(null),x.writeln(`\x1B[1;32m Connected\x1B[0m\r
`),_=await Nv(`ssh-data-${P}`,B=>{try{const j=atob(B.payload),I=new Uint8Array(j.length);for(let z=0;z<j.length;z++)I[z]=j.charCodeAt(z);const F=new TextDecoder("utf-8").decode(I);x.write(F)}catch(j){console.error("Failed to decode SSH data:",j)}}),S=x.onData(async B=>{try{if(B==="\r"){const j=w.current.trim();j&&(C(j,e),w.current="")}else B===""||B==="\b"?w.current=w.current.slice(0,-1):B.length===1&&B>=" "&&(w.current+=B);await Ee("ssh_write",{sessionId:p.current,data:B})}catch(j){console.error("Failed to write to SSH:",j),x.writeln(`\r
\x1B[1;31mError: ${j}\x1B[0m\r
`)}})}catch(A){if(c)return;const P=A instanceof Error?A.message:String(A);y(P),x.writeln(`\r
\x1B[1;31m Connection failed:\x1B[0m ${P}`)}})(),()=>{c=!0,window.removeEventListener("resize",E),S==null||S.dispose(),_==null||_(),x.dispose(),s.current=null,h.current=null,p.current&&(Ee("ssh_disconnect",{sessionId:p.current}).catch(()=>{}),p.current=null),u(!1)}},[e]);const a=()=>{h.current&&h.current.fit()},o=async c=>{if(!(!p.current||!s.current))try{await Ee("ssh_write",{sessionId:p.current,data:c+`
`}),C(c,e)}catch(_){console.error("Failed to execute command:",_)}};return L.jsxs("div",{className:"flex flex-col h-full w-full bg-[#1e1e1e]",children:[L.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-[#3e3e42]",children:[L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("div",{className:`w-2 h-2 rounded-full ${n?"bg-green-500":"bg-yellow-500"}`}),L.jsx("span",{className:"text-sm text-gray-300",children:n?"Connected":"Connecting..."})]}),L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("button",{onClick:a,className:"px-3 py-1 text-xs text-gray-300 bg-[#3e3e42] hover:bg-[#4e4e52] rounded flex items-center space-x-1",children:"Fit"}),L.jsxs("button",{onClick:()=>g(!d),className:`px-3 py-1 text-xs rounded flex items-center space-x-1 ${d?"bg-blue-600 text-white":"text-gray-300 bg-[#3e3e42] hover:bg-[#4e4e52]"}`,children:[L.jsx(nl,{size:14}),L.jsx("span",{children:"History"})]}),n&&t&&L.jsx("button",{onClick:()=>{p.current&&Ee("ssh_disconnect",{sessionId:p.current}).then(()=>{u(!1),p.current=null,t()}).catch(console.error)},className:"px-3 py-1 text-xs text-white bg-red-600 hover:bg-red-700 rounded",children:"Disconnect"})]})]}),L.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[L.jsx("div",{ref:i,className:`flex-1 overflow-hidden ${d?"":"w-full"}`,style:{minHeight:"100px"}}),d&&L.jsx("div",{className:"w-80 border-l border-[#3e3e42]",children:L.jsx(zv,{connectionId:e,onExecuteCommand:o,onClose:()=>g(!1)})})]}),f&&L.jsx("div",{className:"px-4 py-2 bg-red-900/50 text-red-300 text-sm border-t border-red-700",children:f})]})}let Uv=1;function uo(){return`panel-${Date.now()}-${Uv++}`}function _i(e,t){if(e.type==="terminal")return[{id:e.id,connectionId:e.connectionId,rect:t}];const{direction:r,ratio:i,children:s}=e;if(r==="horizontal"){const h={...t,width:t.width*i},p={left:t.left+t.width*i,top:t.top,width:t.width*(1-i),height:t.height};return[..._i(s[0],h),..._i(s[1],p)]}else{const h={...t,height:t.height*i},p={left:t.left,top:t.top+t.height*i,width:t.width,height:t.height*(1-i)};return[..._i(s[0],h),..._i(s[1],p)]}}function gi(e,t){if(e.type==="terminal")return[];const{direction:r,ratio:i,children:s}=e,h=[];if(r==="horizontal"){const p=t.left+t.width*i;h.push({splitNodeId:e.id,direction:r,position:p,rect:t});const n={...t,width:t.width*i},u={left:p,top:t.top,width:t.width*(1-i),height:t.height};h.push(...gi(s[0],n)),h.push(...gi(s[1],u))}else{const p=t.top+t.height*i;h.push({splitNodeId:e.id,direction:r,position:p,rect:t});const n={...t,height:t.height*i},u={left:t.left,top:p,width:t.width,height:t.height*(1-i)};h.push(...gi(s[0],n)),h.push(...gi(s[1],u))}return h}const $v=lt.memo(function({info:t,onDrag:r}){const i=W.useRef(null),s=W.useRef(!1),h=W.useCallback(n=>{n.preventDefault(),n.stopPropagation(),s.current=!0,document.body.style.cursor=t.direction==="horizontal"?"col-resize":"row-resize",document.body.style.userSelect="none";const u=y=>{var w;if(!s.current)return;const d=(w=i.current)==null?void 0:w.parentElement;if(!d)return;const g=d.getBoundingClientRect();if(t.direction==="horizontal"){const C=(y.clientX-g.left)/g.width,v=Math.max(.1,Math.min(.9,(C-t.rect.left)/t.rect.width));r(t.splitNodeId,v)}else{const C=(y.clientY-g.top)/g.height,v=Math.max(.1,Math.min(.9,(C-t.rect.top)/t.rect.height));r(t.splitNodeId,v)}},f=()=>{s.current=!1,document.body.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",f)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",f)},[t,r]),p=t.direction==="horizontal";return L.jsx("div",{ref:i,className:`absolute z-10 ${p?"cursor-col-resize":"cursor-row-resize"}`,style:p?{left:`${t.position*100}%`,top:`${t.rect.top*100}%`,width:"4px",height:`${t.rect.height*100}%`,transform:"translateX(-2px)"}:{left:`${t.rect.left*100}%`,top:`${t.position*100}%`,width:`${t.rect.width*100}%`,height:"4px",transform:"translateY(-2px)"},onMouseDown:h,children:L.jsx("div",{className:"w-full h-full bg-[#3e3e42] hover:bg-blue-500/60 transition-colors"})})});function Vv(e,t){const[r,i]=W.useState(()=>({type:"terminal",id:uo(),connectionId:e})),[s,h]=W.useState(r.id),p=W.useRef(t);p.current=t;const n=W.useCallback((c,_)=>{i(S=>ul(S,c,b=>{if(b.type!=="terminal")return b;const m={type:"terminal",id:uo(),connectionId:b.connectionId},E={type:"split",id:uo(),direction:_,ratio:.5,children:[b,m]};return setTimeout(()=>h(m.id),0),E}))},[]),u=W.useCallback(c=>{i(_=>{var b,m;if(_.type==="terminal"&&_.id===c)return(b=p.current)==null||b.call(p),_;const S=dl(_,c);if(!S)return(m=p.current)==null||m.call(p),_;const x=fl(S);return x&&setTimeout(()=>h(x.id),0),S})},[]),f=W.useCallback((c,_)=>{i(S=>hl(S,c,_))},[]),y=W.useCallback(c=>{h(_=>(n(_,c),_))},[n]),d=W.useCallback(()=>{h(c=>(u(c),c))},[u]),g=W.useCallback(c=>{i(_=>(h(S=>{const x=pl(_),b=x.findIndex(D=>D.id===S);if(b===-1||x.length<=1)return S;let m;c==="left"||c==="up"?m=(b-1+x.length)%x.length:m=(b+1)%x.length;const E=x[m];return E?E.id:S}),_))},[]),w={left:0,top:0,width:1,height:1},C=_i(r,w),v=gi(r,w),l=W.useCallback(c=>h(c),[]),a=W.useCallback(c=>u(c),[u]);return{element:L.jsxs("div",{className:"h-full w-full overflow-hidden relative",children:[C.map(c=>L.jsx(Kv,{panelId:c.id,connectionId:c.connectionId,isFocused:c.id===s,rect:c.rect,onFocus:l,onDisconnect:a},c.id)),v.map(c=>L.jsx($v,{info:c,onDrag:f},c.splitNodeId))]}),splitFocused:y,closeFocused:d,navigatePanel:g,panelCount:C.length}}const Kv=lt.memo(function({panelId:t,connectionId:r,isFocused:i,rect:s,onFocus:h,onDisconnect:p}){const n=W.useRef(null);return W.useEffect(()=>{const u=setTimeout(()=>{var f;return(f=n.current)==null?void 0:f.call(n)},50);return()=>clearTimeout(u)},[s.left,s.top,s.width,s.height]),L.jsx("div",{className:`absolute overflow-hidden ${i?"ring-1 ring-inset ring-blue-500/60 z-[1]":""}`,style:{left:`${s.left*100}%`,top:`${s.top*100}%`,width:`${s.width*100}%`,height:`${s.height*100}%`},onClick:()=>h(t),children:L.jsx(Wv,{connectionId:r,onDisconnect:()=>p(t),onFitAddonReady:u=>{n.current=u}})})},(e,t)=>e.panelId===t.panelId&&e.connectionId===t.connectionId&&e.isFocused===t.isFocused&&e.rect.left===t.rect.left&&e.rect.top===t.rect.top&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height);function ul(e,t,r){return e.id===t?r(e):e.type==="split"?{...e,children:[ul(e.children[0],t,r),ul(e.children[1],t,r)]}:e}function hl(e,t,r){return e.type==="terminal"?e:e.id===t?{...e,ratio:r}:{...e,children:[hl(e.children[0],t,r),hl(e.children[1],t,r)]}}function dl(e,t){if(e.type==="terminal")return e.id===t?null:e;const[r,i]=e.children;if(r.id===t)return i;if(i.id===t)return r;const s=dl(r,t),h=dl(i,t);return s?h?{...e,children:[s,h]}:s:h}function fl(e){return e.type==="terminal"?e:fl(e.children[0])||fl(e.children[1])}function pl(e){return e.type==="terminal"?[e]:[...pl(e.children[0]),...pl(e.children[1])]}function qv(){var g,w,C,v;const{connections:e,selectedConnection:t,setSelectedConnection:r,fetchConnections:i}=dr(),[s,h]=W.useState(!1),{getKeybinding:p}=da(),n=Vv((t==null?void 0:t.id)||"",()=>h(!1)),u=s&&!!t&&t.type==="ssh",f=W.useMemo(()=>({splitHorizontal:()=>n.splitFocused("horizontal"),splitVertical:()=>n.splitFocused("vertical"),closePanel:()=>n.closeFocused(),navigateUp:()=>n.navigatePanel("up"),navigateDown:()=>n.navigatePanel("down"),navigateLeft:()=>n.navigatePanel("left"),navigateRight:()=>n.navigatePanel("right")}),[n]);Mv(f,u),W.useEffect(()=>{window.__TAURI__&&i()},[i]);const d=(!window.__TAURI__&&e.length===0?[{id:"mock-1",name:" SSH ",type:"ssh",config:{host:"localhost",port:22,username:"testuser",auth_method:"password",password:"password"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]:e).filter(l=>l.type==="ssh");return W.useEffect(()=>{t&&t.type==="ssh"&&h(!0)},[t]),d.length===0?L.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[L.jsx(ld,{className:"w-16 h-16 text-muted-foreground mb-4"}),L.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:" SSH "}),L.jsx("p",{className:"text-muted-foreground mb-4",children:" SSH "})]}):L.jsxs("div",{className:"flex flex-col h-full",children:[L.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-card border-b border-border",children:[L.jsxs("div",{className:"flex items-center space-x-4",children:[L.jsx(fr,{className:"w-5 h-5 text-muted-foreground"}),L.jsxs("select",{value:(t==null?void 0:t.id)||"",onChange:l=>{const a=d.find(o=>o.id===l.target.value);a&&(r(a),h(!0))},className:"px-3 py-1.5 bg-background border border-border rounded-md text-foreground text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[L.jsx("option",{value:"",children:" SSH ..."}),d.map(l=>{var a;return L.jsxs("option",{value:l.id,children:[l.name," (",((a=l.config)==null?void 0:a.host)||"unknown",")"]},l.id)})]})]}),L.jsxs("div",{className:"flex items-center space-x-2",children:[u&&L.jsxs(L.Fragment,{children:[L.jsx("button",{onClick:()=>n.splitFocused("horizontal"),className:"flex items-center gap-1 px-2 py-1 text-xs text-muted-foreground hover:text-foreground bg-muted hover:bg-accent rounded transition-colors",title:` (${cl(((g=p("splitHorizontal"))==null?void 0:g.keys)||"")})`,children:L.jsx(ng,{className:"w-3.5 h-3.5"})}),L.jsx("button",{onClick:()=>n.splitFocused("vertical"),className:"flex items-center gap-1 px-2 py-1 text-xs text-muted-foreground hover:text-foreground bg-muted hover:bg-accent rounded transition-colors",title:` (${cl(((w=p("splitVertical"))==null?void 0:w.keys)||"")})`,children:L.jsx(og,{className:"w-3.5 h-3.5"})}),n.panelCount>1&&L.jsxs("span",{className:"text-xs text-muted-foreground px-1",children:[n.panelCount," "]})]}),t&&L.jsxs("span",{className:"text-xs text-muted-foreground",children:[(C=t.config)==null?void 0:C.username,"@",(v=t.config)==null?void 0:v.host]})]})]}),L.jsx("div",{className:"flex-1 overflow-hidden",children:u?n.element:L.jsx("div",{className:"flex items-center justify-center h-full",children:L.jsxs("div",{className:"text-center",children:[L.jsx(fr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),L.jsx("p",{className:"text-muted-foreground text-sm",children:" SSH "})]})})})]})}function Gv({currentPage:e,onPageChange:t}){const r=[{icon:L.jsx(fr,{className:"w-4 h-4"}),label:"",id:"connections"},{icon:L.jsx(rn,{className:"w-4 h-4"}),label:"",id:"database"},{icon:L.jsx(dd,{className:"w-4 h-4"}),label:"",id:"ssh"},{icon:L.jsx(sg,{className:"w-4 h-4"}),label:"",id:"settings"}];return L.jsxs("div",{className:"flex h-full w-64 border-r bg-card flex flex-col",children:[L.jsx("div",{className:"p-4 border-b flex items-center justify-between",children:L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(fr,{className:"w-5 h-5 text-muted-foreground"}),L.jsx("span",{className:"font-semibold",children:"DevHub"})]})}),L.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:r.map(i=>L.jsxs("div",{onClick:()=>t(i.id),className:kn("flex items-center gap-3 px-3 py-2 rounded-md hover:bg-accent cursor-pointer transition-colors",e===i.id&&"bg-accent"),children:[i.icon,L.jsx("span",{className:"text-sm",children:i.label})]},i.id))}),L.jsx("div",{className:"p-4 border-t",children:L.jsx("div",{className:"flex items-center gap-2",children:L.jsx("span",{className:"text-sm text-muted-foreground",children:""})})})]})}function Xv(){const{theme:e,setTheme:t}=Nd(),r=()=>{t(e==="dark"?"light":"dark")};return L.jsxs("div",{className:"flex h-8 items-center justify-between px-4 border-t bg-card text-xs text-muted-foreground",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(cg,{className:"w-3.5 h-3.5 text-muted-foreground"}),L.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(J_,{className:"w-3.5 h-3.5 text-muted-foreground"}),L.jsx("span",{className:"text-xs text-muted-foreground",children:"DevHub v0.1.0"})]})]}),L.jsxs("button",{onClick:r,className:"p-1 rounded-md hover:bg-accent transition-colors",children:[L.jsx(eg,{className:"w-3.5 h-3.5"}),L.jsx("span",{className:"ml-2",children:e==="dark"?"":""})]})]})}function Qv(){var s;const[e,t]=lt.useState([{id:"1",label:""},{id:"2",label:"SFTP"},{id:"3",label:""}]),r=(s=e[0])==null?void 0:s.id,i=h=>{t(e.filter(p=>p.id!==h))};return L.jsxs("div",{className:"flex h-12 items-center border-b bg-card",children:[e.map(h=>L.jsxs("div",{onClick:()=>t(e.filter(p=>p.id===h.id)),className:kn("flex-1 flex items-center justify-center gap-2 px-4 cursor-pointer hover:bg-accent transition-colors",r===h.id&&"border-b-2 border-primary bg-background"),children:[L.jsx("span",{className:"text-sm font-medium",children:h.label}),h.id===r&&L.jsx(ca,{className:"w-4 h-4 text-muted-foreground opacity-50 hover:opacity-100 transition-opacity",onClick:p=>{p.stopPropagation(),i(h.id)}})]},h.id)),L.jsx(ut,{variant:"ghost",size:"icon",className:"ml-2",children:L.jsx(cd,{className:"w-4 h-4"})})]})}function Yv(){const[e,t]=W.useState("welcome"),r=W.useRef(new Set(["welcome"])),i=s=>{r.current.add(s),t(s)};return L.jsxs("div",{className:"flex h-screen w-screen overflow-hidden bg-background text-foreground",children:[L.jsx(Gv,{onPageChange:i,currentPage:e}),L.jsxs("div",{className:"flex-1 flex flex-col",children:[L.jsx(Qv,{}),L.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[L.jsx("div",{className:`absolute inset-0 overflow-auto ${e==="welcome"?"":"hidden"}`,children:L.jsx("div",{className:"h-full flex items-center justify-center",children:L.jsxs("div",{className:"text-center space-y-4",children:[L.jsx(fr,{className:"w-16 h-16 text-muted-foreground mx-auto"}),L.jsx("h2",{className:"text-2xl font-bold text-foreground",children:" DevHub"}),L.jsx("p",{className:"text-muted-foreground text-sm",children:""})]})})}),r.current.has("connections")&&L.jsx("div",{className:`absolute inset-0 overflow-auto ${e==="connections"?"":"hidden"}`,children:L.jsx(fm,{onPageChange:i})}),r.current.has("ssh")&&L.jsx("div",{className:`absolute inset-0 overflow-hidden ${e==="ssh"?"":"hidden"}`,children:L.jsx(qv,{})}),r.current.has("database")&&L.jsx("div",{className:`absolute inset-0 overflow-auto ${e==="database"?"":"hidden"}`,children:L.jsx(kv,{})}),r.current.has("settings")&&L.jsx("div",{className:`absolute inset-0 overflow-auto ${e==="settings"?"":"hidden"}`,children:L.jsx(Pv,{})})]}),L.jsx(Xv,{})]})]})}function Jv(){return L.jsx(Yv,{})}jd("system");const zc=document.getElementById("root");zc&&td(zc).render(L.jsx(Jv,{}));
